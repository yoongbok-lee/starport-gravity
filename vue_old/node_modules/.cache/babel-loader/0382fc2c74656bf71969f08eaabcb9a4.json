{"remainingRequest":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js!/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js","dependencies":[{"path":"/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js","mtime":1620801165495},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3VidW50dS9zdGFycG9ydC1ncmF2aXR5L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnVpbnQ4LWFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuY29weS13aXRoaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5ldmVyeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS1idWZmZXIuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLWpzb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLnRvLWpzb24uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CgovKiBlc2xpbnQtZGlzYWJsZSAqLwppbXBvcnQgeyBXcml0ZXIsIFJlYWRlciB9IGZyb20gInByb3RvYnVmanMvbWluaW1hbCI7CmV4cG9ydCB2YXIgcHJvdG9idWZQYWNrYWdlID0gImljczIzIjsKZXhwb3J0IHZhciBIYXNoT3A7CgooZnVuY3Rpb24gKEhhc2hPcCkgewogIC8qKiBOT19IQVNIIC0gTk9fSEFTSCBpcyB0aGUgZGVmYXVsdCBpZiBubyBkYXRhIHBhc3NlZC4gTm90ZSB0aGlzIGlzIGFuIGlsbGVnYWwgYXJndW1lbnQgc29tZSBwbGFjZXMuICovCiAgSGFzaE9wW0hhc2hPcFsiTk9fSEFTSCJdID0gMF0gPSAiTk9fSEFTSCI7CiAgSGFzaE9wW0hhc2hPcFsiU0hBMjU2Il0gPSAxXSA9ICJTSEEyNTYiOwogIEhhc2hPcFtIYXNoT3BbIlNIQTUxMiJdID0gMl0gPSAiU0hBNTEyIjsKICBIYXNoT3BbSGFzaE9wWyJLRUNDQUsiXSA9IDNdID0gIktFQ0NBSyI7CiAgSGFzaE9wW0hhc2hPcFsiUklQRU1EMTYwIl0gPSA0XSA9ICJSSVBFTUQxNjAiOwogIC8qKiBCSVRDT0lOIC0gcmlwZW1kMTYwKHNoYTI1Nih4KSkgKi8KCiAgSGFzaE9wW0hhc2hPcFsiQklUQ09JTiJdID0gNV0gPSAiQklUQ09JTiI7CiAgSGFzaE9wW0hhc2hPcFsiVU5SRUNPR05JWkVEIl0gPSAtMV0gPSAiVU5SRUNPR05JWkVEIjsKfSkoSGFzaE9wIHx8IChIYXNoT3AgPSB7fSkpOwoKZXhwb3J0IGZ1bmN0aW9uIGhhc2hPcEZyb21KU09OKG9iamVjdCkgewogIHN3aXRjaCAob2JqZWN0KSB7CiAgICBjYXNlIDA6CiAgICBjYXNlICJOT19IQVNIIjoKICAgICAgcmV0dXJuIEhhc2hPcC5OT19IQVNIOwoKICAgIGNhc2UgMToKICAgIGNhc2UgIlNIQTI1NiI6CiAgICAgIHJldHVybiBIYXNoT3AuU0hBMjU2OwoKICAgIGNhc2UgMjoKICAgIGNhc2UgIlNIQTUxMiI6CiAgICAgIHJldHVybiBIYXNoT3AuU0hBNTEyOwoKICAgIGNhc2UgMzoKICAgIGNhc2UgIktFQ0NBSyI6CiAgICAgIHJldHVybiBIYXNoT3AuS0VDQ0FLOwoKICAgIGNhc2UgNDoKICAgIGNhc2UgIlJJUEVNRDE2MCI6CiAgICAgIHJldHVybiBIYXNoT3AuUklQRU1EMTYwOwoKICAgIGNhc2UgNToKICAgIGNhc2UgIkJJVENPSU4iOgogICAgICByZXR1cm4gSGFzaE9wLkJJVENPSU47CgogICAgY2FzZSAtMToKICAgIGNhc2UgIlVOUkVDT0dOSVpFRCI6CiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gSGFzaE9wLlVOUkVDT0dOSVpFRDsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGhhc2hPcFRvSlNPTihvYmplY3QpIHsKICBzd2l0Y2ggKG9iamVjdCkgewogICAgY2FzZSBIYXNoT3AuTk9fSEFTSDoKICAgICAgcmV0dXJuICJOT19IQVNIIjsKCiAgICBjYXNlIEhhc2hPcC5TSEEyNTY6CiAgICAgIHJldHVybiAiU0hBMjU2IjsKCiAgICBjYXNlIEhhc2hPcC5TSEE1MTI6CiAgICAgIHJldHVybiAiU0hBNTEyIjsKCiAgICBjYXNlIEhhc2hPcC5LRUNDQUs6CiAgICAgIHJldHVybiAiS0VDQ0FLIjsKCiAgICBjYXNlIEhhc2hPcC5SSVBFTUQxNjA6CiAgICAgIHJldHVybiAiUklQRU1EMTYwIjsKCiAgICBjYXNlIEhhc2hPcC5CSVRDT0lOOgogICAgICByZXR1cm4gIkJJVENPSU4iOwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAiVU5LTk9XTiI7CiAgfQp9Ci8qKgogKiBMZW5ndGhPcCBkZWZpbmVzIGhvdyB0byBwcm9jZXNzIHRoZSBrZXkgYW5kIHZhbHVlIG9mIHRoZSBMZWFmT3AKICogdG8gaW5jbHVkZSBsZW5ndGggaW5mb3JtYXRpb24uIEFmdGVyIGVuY29kaW5nIHRoZSBsZW5ndGggd2l0aCB0aGUgZ2l2ZW4KICogYWxnb3JpdGhtLCB0aGUgbGVuZ3RoIHdpbGwgYmUgcHJlcGVuZGVkIHRvIHRoZSBrZXkgYW5kIHZhbHVlIGJ5dGVzLgogKiAoRWFjaCBvbmUgd2l0aCBpdCdzIG93biBlbmNvZGVkIGxlbmd0aCkKICovCgpleHBvcnQgdmFyIExlbmd0aE9wOwoKKGZ1bmN0aW9uIChMZW5ndGhPcCkgewogIC8qKiBOT19QUkVGSVggLSBOT19QUkVGSVggZG9uJ3QgaW5jbHVkZSBhbnkgbGVuZ3RoIGluZm8gKi8KICBMZW5ndGhPcFtMZW5ndGhPcFsiTk9fUFJFRklYIl0gPSAwXSA9ICJOT19QUkVGSVgiOwogIC8qKiBWQVJfUFJPVE8gLSBWQVJfUFJPVE8gdXNlcyBwcm90b2J1ZiAoYW5kIGdvLWFtaW5vKSB2YXJpbnQgZW5jb2Rpbmcgb2YgdGhlIGxlbmd0aCAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiVkFSX1BST1RPIl0gPSAxXSA9ICJWQVJfUFJPVE8iOwogIC8qKiBWQVJfUkxQIC0gVkFSX1JMUCB1c2VzIHJscCBpbnQgZW5jb2Rpbmcgb2YgdGhlIGxlbmd0aCAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiVkFSX1JMUCJdID0gMl0gPSAiVkFSX1JMUCI7CiAgLyoqIEZJWEVEMzJfQklHIC0gRklYRUQzMl9CSUcgdXNlcyBiaWctZW5kaWFuIGVuY29kaW5nIG9mIHRoZSBsZW5ndGggYXMgYSAzMiBiaXQgaW50ZWdlciAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiRklYRUQzMl9CSUciXSA9IDNdID0gIkZJWEVEMzJfQklHIjsKICAvKiogRklYRUQzMl9MSVRUTEUgLSBGSVhFRDMyX0xJVFRMRSB1c2VzIGxpdHRsZS1lbmRpYW4gZW5jb2Rpbmcgb2YgdGhlIGxlbmd0aCBhcyBhIDMyIGJpdCBpbnRlZ2VyICovCgogIExlbmd0aE9wW0xlbmd0aE9wWyJGSVhFRDMyX0xJVFRMRSJdID0gNF0gPSAiRklYRUQzMl9MSVRUTEUiOwogIC8qKiBGSVhFRDY0X0JJRyAtIEZJWEVENjRfQklHIHVzZXMgYmlnLWVuZGlhbiBlbmNvZGluZyBvZiB0aGUgbGVuZ3RoIGFzIGEgNjQgYml0IGludGVnZXIgKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIkZJWEVENjRfQklHIl0gPSA1XSA9ICJGSVhFRDY0X0JJRyI7CiAgLyoqIEZJWEVENjRfTElUVExFIC0gRklYRUQ2NF9MSVRUTEUgdXNlcyBsaXR0bGUtZW5kaWFuIGVuY29kaW5nIG9mIHRoZSBsZW5ndGggYXMgYSA2NCBiaXQgaW50ZWdlciAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiRklYRUQ2NF9MSVRUTEUiXSA9IDZdID0gIkZJWEVENjRfTElUVExFIjsKICAvKiogUkVRVUlSRV8zMl9CWVRFUyAtIFJFUVVJUkVfMzJfQllURVMgaXMgbGlrZSBOT05FLCBidXQgd2lsbCBmYWlsIGlmIHRoZSBpbnB1dCBpcyBub3QgZXhhY3RseSAzMiBieXRlcyAoc2hhMjU2IG91dHB1dCkgKi8KCiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIlJFUVVJUkVfMzJfQllURVMiXSA9IDddID0gIlJFUVVJUkVfMzJfQllURVMiOwogIC8qKiBSRVFVSVJFXzY0X0JZVEVTIC0gUkVRVUlSRV82NF9CWVRFUyBpcyBsaWtlIE5PTkUsIGJ1dCB3aWxsIGZhaWwgaWYgdGhlIGlucHV0IGlzIG5vdCBleGFjdGx5IDY0IGJ5dGVzIChzaGE1MTIgb3V0cHV0KSAqLwoKICBMZW5ndGhPcFtMZW5ndGhPcFsiUkVRVUlSRV82NF9CWVRFUyJdID0gOF0gPSAiUkVRVUlSRV82NF9CWVRFUyI7CiAgTGVuZ3RoT3BbTGVuZ3RoT3BbIlVOUkVDT0dOSVpFRCJdID0gLTFdID0gIlVOUkVDT0dOSVpFRCI7Cn0pKExlbmd0aE9wIHx8IChMZW5ndGhPcCA9IHt9KSk7CgpleHBvcnQgZnVuY3Rpb24gbGVuZ3RoT3BGcm9tSlNPTihvYmplY3QpIHsKICBzd2l0Y2ggKG9iamVjdCkgewogICAgY2FzZSAwOgogICAgY2FzZSAiTk9fUFJFRklYIjoKICAgICAgcmV0dXJuIExlbmd0aE9wLk5PX1BSRUZJWDsKCiAgICBjYXNlIDE6CiAgICBjYXNlICJWQVJfUFJPVE8iOgogICAgICByZXR1cm4gTGVuZ3RoT3AuVkFSX1BST1RPOwoKICAgIGNhc2UgMjoKICAgIGNhc2UgIlZBUl9STFAiOgogICAgICByZXR1cm4gTGVuZ3RoT3AuVkFSX1JMUDsKCiAgICBjYXNlIDM6CiAgICBjYXNlICJGSVhFRDMyX0JJRyI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5GSVhFRDMyX0JJRzsKCiAgICBjYXNlIDQ6CiAgICBjYXNlICJGSVhFRDMyX0xJVFRMRSI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5GSVhFRDMyX0xJVFRMRTsKCiAgICBjYXNlIDU6CiAgICBjYXNlICJGSVhFRDY0X0JJRyI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5GSVhFRDY0X0JJRzsKCiAgICBjYXNlIDY6CiAgICBjYXNlICJGSVhFRDY0X0xJVFRMRSI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5GSVhFRDY0X0xJVFRMRTsKCiAgICBjYXNlIDc6CiAgICBjYXNlICJSRVFVSVJFXzMyX0JZVEVTIjoKICAgICAgcmV0dXJuIExlbmd0aE9wLlJFUVVJUkVfMzJfQllURVM7CgogICAgY2FzZSA4OgogICAgY2FzZSAiUkVRVUlSRV82NF9CWVRFUyI6CiAgICAgIHJldHVybiBMZW5ndGhPcC5SRVFVSVJFXzY0X0JZVEVTOwoKICAgIGNhc2UgLTE6CiAgICBjYXNlICJVTlJFQ09HTklaRUQiOgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIExlbmd0aE9wLlVOUkVDT0dOSVpFRDsKICB9Cn0KZXhwb3J0IGZ1bmN0aW9uIGxlbmd0aE9wVG9KU09OKG9iamVjdCkgewogIHN3aXRjaCAob2JqZWN0KSB7CiAgICBjYXNlIExlbmd0aE9wLk5PX1BSRUZJWDoKICAgICAgcmV0dXJuICJOT19QUkVGSVgiOwoKICAgIGNhc2UgTGVuZ3RoT3AuVkFSX1BST1RPOgogICAgICByZXR1cm4gIlZBUl9QUk9UTyI7CgogICAgY2FzZSBMZW5ndGhPcC5WQVJfUkxQOgogICAgICByZXR1cm4gIlZBUl9STFAiOwoKICAgIGNhc2UgTGVuZ3RoT3AuRklYRUQzMl9CSUc6CiAgICAgIHJldHVybiAiRklYRUQzMl9CSUciOwoKICAgIGNhc2UgTGVuZ3RoT3AuRklYRUQzMl9MSVRUTEU6CiAgICAgIHJldHVybiAiRklYRUQzMl9MSVRUTEUiOwoKICAgIGNhc2UgTGVuZ3RoT3AuRklYRUQ2NF9CSUc6CiAgICAgIHJldHVybiAiRklYRUQ2NF9CSUciOwoKICAgIGNhc2UgTGVuZ3RoT3AuRklYRUQ2NF9MSVRUTEU6CiAgICAgIHJldHVybiAiRklYRUQ2NF9MSVRUTEUiOwoKICAgIGNhc2UgTGVuZ3RoT3AuUkVRVUlSRV8zMl9CWVRFUzoKICAgICAgcmV0dXJuICJSRVFVSVJFXzMyX0JZVEVTIjsKCiAgICBjYXNlIExlbmd0aE9wLlJFUVVJUkVfNjRfQllURVM6CiAgICAgIHJldHVybiAiUkVRVUlSRV82NF9CWVRFUyI7CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuICJVTktOT1dOIjsKICB9Cn0KdmFyIGJhc2VFeGlzdGVuY2VQcm9vZiA9IHt9OwpleHBvcnQgdmFyIEV4aXN0ZW5jZVByb29mID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5rZXkubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTApLmJ5dGVzKG1lc3NhZ2Uua2V5KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS52YWx1ZS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS52YWx1ZSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubGVhZiAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIExlYWZPcC5lbmNvZGUobWVzc2FnZS5sZWFmLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXNzYWdlLnBhdGgpLAogICAgICAgIF9zdGVwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHYgPSBfc3RlcC52YWx1ZTsKICAgICAgICBJbm5lck9wLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvci5mKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlRXhpc3RlbmNlUHJvb2YpOwoKICAgIG1lc3NhZ2UucGF0aCA9IFtdOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UubGVhZiA9IExlYWZPcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKElubmVyT3AuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VFeGlzdGVuY2VQcm9vZik7CgogICAgbWVzc2FnZS5wYXRoID0gW107CgogICAgaWYgKG9iamVjdC5rZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qua2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5rZXkpOwogICAgfQoKICAgIGlmIChvYmplY3QudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS52YWx1ZSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsdWUpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVhZiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWFmICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVhZiA9IExlYWZPcC5mcm9tSlNPTihvYmplY3QubGVhZik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlYWYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5wYXRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhdGggIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QucGF0aCksCiAgICAgICAgICBfc3RlcDI7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMi5zKCk7ICEoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMi52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKElubmVyT3AuZnJvbUpTT04oZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgJiYgKG9iai5rZXkgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5rZXkgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uua2V5IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChvYmoudmFsdWUgPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS52YWx1ZSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UubGVhZiAhPT0gdW5kZWZpbmVkICYmIChvYmoubGVhZiA9IG1lc3NhZ2UubGVhZiA/IExlYWZPcC50b0pTT04obWVzc2FnZS5sZWFmKSA6IHVuZGVmaW5lZCk7CgogICAgaWYgKG1lc3NhZ2UucGF0aCkgewogICAgICBvYmoucGF0aCA9IG1lc3NhZ2UucGF0aC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSA/IElubmVyT3AudG9KU09OKGUpIDogdW5kZWZpbmVkOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9iai5wYXRoID0gW107CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUV4aXN0ZW5jZVByb29mKTsKCiAgICBtZXNzYWdlLnBhdGggPSBbXTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5rZXkgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVhZiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWFmICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVhZiA9IExlYWZPcC5mcm9tUGFydGlhbChvYmplY3QubGVhZik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlYWYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5wYXRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhdGggIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QucGF0aCksCiAgICAgICAgICBfc3RlcDM7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMy5zKCk7ICEoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMy52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKElubmVyT3AuZnJvbVBhcnRpYWwoZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMy5mKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTm9uRXhpc3RlbmNlUHJvb2YgPSB7fTsKZXhwb3J0IHZhciBOb25FeGlzdGVuY2VQcm9vZiA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2Uua2V5Lmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDEwKS5ieXRlcyhtZXNzYWdlLmtleSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UubGVmdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEV4aXN0ZW5jZVByb29mLmVuY29kZShtZXNzYWdlLmxlZnQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucmlnaHQgIT09IHVuZGVmaW5lZCkgewogICAgICBFeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5yaWdodCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VOb25FeGlzdGVuY2VQcm9vZik7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5rZXkgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmxlZnQgPSBFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UucmlnaHQgPSBFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTm9uRXhpc3RlbmNlUHJvb2YpOwoKICAgIGlmIChvYmplY3Qua2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmtleSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmtleSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3Qua2V5KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LmxlZnQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVmdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlZnQgPSBFeGlzdGVuY2VQcm9vZi5mcm9tSlNPTihvYmplY3QubGVmdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlZnQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5yaWdodCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5yaWdodCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0LnJpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UubGVmdCAhPT0gdW5kZWZpbmVkICYmIChvYmoubGVmdCA9IG1lc3NhZ2UubGVmdCA/IEV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLmxlZnQpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UucmlnaHQgIT09IHVuZGVmaW5lZCAmJiAob2JqLnJpZ2h0ID0gbWVzc2FnZS5yaWdodCA/IEV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLnJpZ2h0KSA6IHVuZGVmaW5lZCk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTm9uRXhpc3RlbmNlUHJvb2YpOwoKICAgIGlmIChvYmplY3Qua2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmtleSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmtleSA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmxlZnQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LmxlZnQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QucmlnaHQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QucmlnaHQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5yaWdodCA9IEV4aXN0ZW5jZVByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5yaWdodCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnJpZ2h0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VDb21taXRtZW50UHJvb2YgPSB7fTsKZXhwb3J0IHZhciBDb21taXRtZW50UHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmV4aXN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UuZXhpc3QsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2Uubm9uZXhpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICBOb25FeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5ub25leGlzdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5iYXRjaCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIEJhdGNoUHJvb2YuZW5jb2RlKG1lc3NhZ2UuYmF0Y2gsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuY29tcHJlc3NlZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENvbXByZXNzZWRCYXRjaFByb29mLmVuY29kZShtZXNzYWdlLmNvbXByZXNzZWQsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tbWl0bWVudFByb29mKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmV4aXN0ID0gRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gTm9uRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLmJhdGNoID0gQmF0Y2hQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNDoKICAgICAgICAgIG1lc3NhZ2UuY29tcHJlc3NlZCA9IENvbXByZXNzZWRCYXRjaFByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21taXRtZW50UHJvb2YpOwoKICAgIGlmIChvYmplY3QuZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Qubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qubm9uZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IE5vbkV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5ub25leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QuYmF0Y2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuYmF0Y2ggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5iYXRjaCA9IEJhdGNoUHJvb2YuZnJvbUpTT04ob2JqZWN0LmJhdGNoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuYmF0Y2ggPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5jb21wcmVzc2VkICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNvbXByZXNzZWQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jb21wcmVzc2VkID0gQ29tcHJlc3NlZEJhdGNoUHJvb2YuZnJvbUpTT04ob2JqZWN0LmNvbXByZXNzZWQpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jb21wcmVzc2VkID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5leGlzdCAhPT0gdW5kZWZpbmVkICYmIChvYmouZXhpc3QgPSBtZXNzYWdlLmV4aXN0ID8gRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2UuZXhpc3QpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2Uubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiAob2JqLm5vbmV4aXN0ID0gbWVzc2FnZS5ub25leGlzdCA/IE5vbkV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLm5vbmV4aXN0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLmJhdGNoICE9PSB1bmRlZmluZWQgJiYgKG9iai5iYXRjaCA9IG1lc3NhZ2UuYmF0Y2ggPyBCYXRjaFByb29mLnRvSlNPTihtZXNzYWdlLmJhdGNoKSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLmNvbXByZXNzZWQgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNvbXByZXNzZWQgPSBtZXNzYWdlLmNvbXByZXNzZWQgPyBDb21wcmVzc2VkQmF0Y2hQcm9vZi50b0pTT04obWVzc2FnZS5jb21wcmVzc2VkKSA6IHVuZGVmaW5lZCk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tbWl0bWVudFByb29mKTsKCiAgICBpZiAob2JqZWN0LmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSBFeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3QuZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm5vbmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBOb25FeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3Qubm9uZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmJhdGNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmJhdGNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuYmF0Y2ggPSBCYXRjaFByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5iYXRjaCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmJhdGNoID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QuY29tcHJlc3NlZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jb21wcmVzc2VkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuY29tcHJlc3NlZCA9IENvbXByZXNzZWRCYXRjaFByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5jb21wcmVzc2VkKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY29tcHJlc3NlZCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlTGVhZk9wID0gewogIGhhc2g6IDAsCiAgcHJlaGFzaEtleTogMCwKICBwcmVoYXNoVmFsdWU6IDAsCiAgbGVuZ3RoOiAwCn07CmV4cG9ydCB2YXIgTGVhZk9wID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5oYXNoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5oYXNoKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcmVoYXNoS2V5ICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UucHJlaGFzaEtleSk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UucHJlaGFzaFZhbHVlICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UucHJlaGFzaFZhbHVlKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5sZW5ndGgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnByZWZpeC5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMig0MikuYnl0ZXMobWVzc2FnZS5wcmVmaXgpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUxlYWZPcCk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5oYXNoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5wcmVoYXNoS2V5ID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5wcmVoYXNoVmFsdWUgPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLmxlbmd0aCA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgIG1lc3NhZ2UucHJlZml4ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VMZWFmT3ApOwoKICAgIGlmIChvYmplY3QuaGFzaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oYXNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IGhhc2hPcEZyb21KU09OKG9iamVjdC5oYXNoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcmVoYXNoS2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZWhhc2hLZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoS2V5ID0gaGFzaE9wRnJvbUpTT04ob2JqZWN0LnByZWhhc2hLZXkpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoS2V5ID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWhhc2hWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVoYXNoVmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoVmFsdWUgPSBoYXNoT3BGcm9tSlNPTihvYmplY3QucHJlaGFzaFZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucHJlaGFzaFZhbHVlID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lmxlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZW5ndGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZW5ndGggPSBsZW5ndGhPcEZyb21KU09OKG9iamVjdC5sZW5ndGgpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZW5ndGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QucHJlZml4ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZWZpeCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByZWZpeCA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucHJlZml4KTsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIG1lc3NhZ2UuaGFzaCAhPT0gdW5kZWZpbmVkICYmIChvYmouaGFzaCA9IGhhc2hPcFRvSlNPTihtZXNzYWdlLmhhc2gpKTsKICAgIG1lc3NhZ2UucHJlaGFzaEtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJlaGFzaEtleSA9IGhhc2hPcFRvSlNPTihtZXNzYWdlLnByZWhhc2hLZXkpKTsKICAgIG1lc3NhZ2UucHJlaGFzaFZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai5wcmVoYXNoVmFsdWUgPSBoYXNoT3BUb0pTT04obWVzc2FnZS5wcmVoYXNoVmFsdWUpKTsKICAgIG1lc3NhZ2UubGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgKG9iai5sZW5ndGggPSBsZW5ndGhPcFRvSlNPTihtZXNzYWdlLmxlbmd0aCkpOwogICAgbWVzc2FnZS5wcmVmaXggIT09IHVuZGVmaW5lZCAmJiAob2JqLnByZWZpeCA9IGJhc2U2NEZyb21CeXRlcyhtZXNzYWdlLnByZWZpeCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5wcmVmaXggOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlTGVhZk9wKTsKCiAgICBpZiAob2JqZWN0Lmhhc2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGFzaCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmhhc2ggPSBvYmplY3QuaGFzaDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5wcmVoYXNoS2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZWhhc2hLZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVoYXNoS2V5ID0gb2JqZWN0LnByZWhhc2hLZXk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByZWhhc2hLZXkgPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QucHJlaGFzaFZhbHVlICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZWhhc2hWYWx1ZSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByZWhhc2hWYWx1ZSA9IG9iamVjdC5wcmVoYXNoVmFsdWU7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnByZWhhc2hWYWx1ZSA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVuZ3RoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVuZ3RoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBvYmplY3QucHJlZml4OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VJbm5lck9wID0gewogIGhhc2g6IDAKfTsKZXhwb3J0IHZhciBJbm5lck9wID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5oYXNoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5oYXNoKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5wcmVmaXgubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTgpLmJ5dGVzKG1lc3NhZ2UucHJlZml4KTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5zdWZmaXgubGVuZ3RoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMjYpLmJ5dGVzKG1lc3NhZ2Uuc3VmZml4KTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VJbm5lck9wKTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmhhc2ggPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLnByZWZpeCA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2Uuc3VmZml4ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VJbm5lck9wKTsKCiAgICBpZiAob2JqZWN0Lmhhc2ggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuaGFzaCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmhhc2ggPSBoYXNoT3BGcm9tSlNPTihvYmplY3QuaGFzaCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmhhc2ggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QucHJlZml4ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnByZWZpeCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnByZWZpeCA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QucHJlZml4KTsKICAgIH0KCiAgICBpZiAob2JqZWN0LnN1ZmZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5zdWZmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5zdWZmaXggPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LnN1ZmZpeCk7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmhhc2ggIT09IHVuZGVmaW5lZCAmJiAob2JqLmhhc2ggPSBoYXNoT3BUb0pTT04obWVzc2FnZS5oYXNoKSk7CiAgICBtZXNzYWdlLnByZWZpeCAhPT0gdW5kZWZpbmVkICYmIChvYmoucHJlZml4ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UucHJlZml4ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLnByZWZpeCA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2Uuc3VmZml4ICE9PSB1bmRlZmluZWQgJiYgKG9iai5zdWZmaXggPSBiYXNlNjRGcm9tQnl0ZXMobWVzc2FnZS5zdWZmaXggIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2Uuc3VmZml4IDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUlubmVyT3ApOwoKICAgIGlmIChvYmplY3QuaGFzaCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5oYXNoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuaGFzaCA9IG9iamVjdC5oYXNoOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5oYXNoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnByZWZpeCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5wcmVmaXggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBvYmplY3QucHJlZml4OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5wcmVmaXggPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3Quc3VmZml4ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnN1ZmZpeCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLnN1ZmZpeCA9IG9iamVjdC5zdWZmaXg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLnN1ZmZpeCA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9Owp2YXIgYmFzZVByb29mU3BlYyA9IHsKICBtYXhEZXB0aDogMCwKICBtaW5EZXB0aDogMAp9OwpleHBvcnQgdmFyIFByb29mU3BlYyA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UubGVhZlNwZWMgIT09IHVuZGVmaW5lZCkgewogICAgICBMZWFmT3AuZW5jb2RlKG1lc3NhZ2UubGVhZlNwZWMsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuaW5uZXJTcGVjICE9PSB1bmRlZmluZWQpIHsKICAgICAgSW5uZXJTcGVjLmVuY29kZShtZXNzYWdlLmlubmVyU3BlYywgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5tYXhEZXB0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLm1heERlcHRoKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5taW5EZXB0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQzMihtZXNzYWdlLm1pbkRlcHRoKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VQcm9vZlNwZWMpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UubGVhZlNwZWMgPSBMZWFmT3AuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmlubmVyU3BlYyA9IElubmVyU3BlYy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UubWF4RGVwdGggPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBtZXNzYWdlLm1pbkRlcHRoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VQcm9vZlNwZWMpOwoKICAgIGlmIChvYmplY3QubGVhZlNwZWMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubGVhZlNwZWMgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWFmU3BlYyA9IExlYWZPcC5mcm9tSlNPTihvYmplY3QubGVhZlNwZWMpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5sZWFmU3BlYyA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmlubmVyU3BlYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5pbm5lclNwZWMgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5pbm5lclNwZWMgPSBJbm5lclNwZWMuZnJvbUpTT04ob2JqZWN0LmlubmVyU3BlYyk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmlubmVyU3BlYyA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1heERlcHRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1heERlcHRoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWF4RGVwdGggPSBOdW1iZXIob2JqZWN0Lm1heERlcHRoKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWF4RGVwdGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubWluRGVwdGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWluRGVwdGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5taW5EZXB0aCA9IE51bWJlcihvYmplY3QubWluRGVwdGgpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5taW5EZXB0aCA9IDA7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmxlYWZTcGVjICE9PSB1bmRlZmluZWQgJiYgKG9iai5sZWFmU3BlYyA9IG1lc3NhZ2UubGVhZlNwZWMgPyBMZWFmT3AudG9KU09OKG1lc3NhZ2UubGVhZlNwZWMpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UuaW5uZXJTcGVjICE9PSB1bmRlZmluZWQgJiYgKG9iai5pbm5lclNwZWMgPSBtZXNzYWdlLmlubmVyU3BlYyA/IElubmVyU3BlYy50b0pTT04obWVzc2FnZS5pbm5lclNwZWMpIDogdW5kZWZpbmVkKTsKICAgIG1lc3NhZ2UubWF4RGVwdGggIT09IHVuZGVmaW5lZCAmJiAob2JqLm1heERlcHRoID0gbWVzc2FnZS5tYXhEZXB0aCk7CiAgICBtZXNzYWdlLm1pbkRlcHRoICE9PSB1bmRlZmluZWQgJiYgKG9iai5taW5EZXB0aCA9IG1lc3NhZ2UubWluRGVwdGgpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZVByb29mU3BlYyk7CgogICAgaWYgKG9iamVjdC5sZWFmU3BlYyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWFmU3BlYyAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmxlYWZTcGVjID0gTGVhZk9wLmZyb21QYXJ0aWFsKG9iamVjdC5sZWFmU3BlYyk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlYWZTcGVjID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QuaW5uZXJTcGVjICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmlubmVyU3BlYyAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmlubmVyU3BlYyA9IElubmVyU3BlYy5mcm9tUGFydGlhbChvYmplY3QuaW5uZXJTcGVjKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuaW5uZXJTcGVjID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3QubWF4RGVwdGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWF4RGVwdGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5tYXhEZXB0aCA9IG9iamVjdC5tYXhEZXB0aDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWF4RGVwdGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubWluRGVwdGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWluRGVwdGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5taW5EZXB0aCA9IG9iamVjdC5taW5EZXB0aDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWluRGVwdGggPSAwOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VJbm5lclNwZWMgPSB7CiAgY2hpbGRPcmRlcjogMCwKICBjaGlsZFNpemU6IDAsCiAgbWluUHJlZml4TGVuZ3RoOiAwLAogIG1heFByZWZpeExlbmd0aDogMCwKICBoYXNoOiAwCn07CmV4cG9ydCB2YXIgSW5uZXJTcGVjID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKICAgIHdyaXRlci51aW50MzIoMTApLmZvcmsoKTsKCiAgICB2YXIgX2l0ZXJhdG9yNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1lc3NhZ2UuY2hpbGRPcmRlciksCiAgICAgICAgX3N0ZXA0OwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHYgPSBfc3RlcDQudmFsdWU7CiAgICAgICAgd3JpdGVyLmludDMyKHYpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3I0LmYoKTsKICAgIH0KCiAgICB3cml0ZXIubGRlbGltKCk7CgogICAgaWYgKG1lc3NhZ2UuY2hpbGRTaXplICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UuY2hpbGRTaXplKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5taW5QcmVmaXhMZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5taW5QcmVmaXhMZW5ndGgpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLm1heFByZWZpeExlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDMyKS5pbnQzMihtZXNzYWdlLm1heFByZWZpeExlbmd0aCk7CiAgICB9CgogICAgaWYgKG1lc3NhZ2UuZW1wdHlDaGlsZC5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMig0MikuYnl0ZXMobWVzc2FnZS5lbXB0eUNoaWxkKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5oYXNoICE9PSAwKSB7CiAgICAgIHdyaXRlci51aW50MzIoNDgpLmludDMyKG1lc3NhZ2UuaGFzaCk7CiAgICB9CgogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlSW5uZXJTcGVjKTsKCiAgICBtZXNzYWdlLmNoaWxkT3JkZXIgPSBbXTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSAyKSB7CiAgICAgICAgICAgIHZhciBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvczsKCiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikgewogICAgICAgICAgICAgIG1lc3NhZ2UuY2hpbGRPcmRlci5wdXNoKHJlYWRlci5pbnQzMigpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbWVzc2FnZS5jaGlsZE9yZGVyLnB1c2gocmVhZGVyLmludDMyKCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDI6CiAgICAgICAgICBtZXNzYWdlLmNoaWxkU2l6ZSA9IHJlYWRlci5pbnQzMigpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMzoKICAgICAgICAgIG1lc3NhZ2UubWluUHJlZml4TGVuZ3RoID0gcmVhZGVyLmludDMyKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA0OgogICAgICAgICAgbWVzc2FnZS5tYXhQcmVmaXhMZW5ndGggPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDU6CiAgICAgICAgICBtZXNzYWdlLmVtcHR5Q2hpbGQgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDY6CiAgICAgICAgICBtZXNzYWdlLmhhc2ggPSByZWFkZXIuaW50MzIoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUlubmVyU3BlYyk7CgogICAgbWVzc2FnZS5jaGlsZE9yZGVyID0gW107CgogICAgaWYgKG9iamVjdC5jaGlsZE9yZGVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoaWxkT3JkZXIgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjUgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QuY2hpbGRPcmRlciksCiAgICAgICAgICBfc3RlcDU7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNS5zKCk7ICEoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwNS52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UuY2hpbGRPcmRlci5wdXNoKE51bWJlcihlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgfQogICAgfQoKICAgIGlmIChvYmplY3QuY2hpbGRTaXplICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoaWxkU2l6ZSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmNoaWxkU2l6ZSA9IE51bWJlcihvYmplY3QuY2hpbGRTaXplKTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuY2hpbGRTaXplID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm1pblByZWZpeExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5taW5QcmVmaXhMZW5ndGggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5taW5QcmVmaXhMZW5ndGggPSBOdW1iZXIob2JqZWN0Lm1pblByZWZpeExlbmd0aCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1pblByZWZpeExlbmd0aCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5tYXhQcmVmaXhMZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWF4UHJlZml4TGVuZ3RoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoID0gTnVtYmVyKG9iamVjdC5tYXhQcmVmaXhMZW5ndGgpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5tYXhQcmVmaXhMZW5ndGggPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QuZW1wdHlDaGlsZCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5lbXB0eUNoaWxkICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuZW1wdHlDaGlsZCA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QuZW1wdHlDaGlsZCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5oYXNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmhhc2ggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5oYXNoID0gaGFzaE9wRnJvbUpTT04ob2JqZWN0Lmhhc2gpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5oYXNoID0gMDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHsKICAgIHZhciBvYmogPSB7fTsKCiAgICBpZiAobWVzc2FnZS5jaGlsZE9yZGVyKSB7CiAgICAgIG9iai5jaGlsZE9yZGVyID0gbWVzc2FnZS5jaGlsZE9yZGVyLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIG9iai5jaGlsZE9yZGVyID0gW107CiAgICB9CgogICAgbWVzc2FnZS5jaGlsZFNpemUgIT09IHVuZGVmaW5lZCAmJiAob2JqLmNoaWxkU2l6ZSA9IG1lc3NhZ2UuY2hpbGRTaXplKTsKICAgIG1lc3NhZ2UubWluUHJlZml4TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgKG9iai5taW5QcmVmaXhMZW5ndGggPSBtZXNzYWdlLm1pblByZWZpeExlbmd0aCk7CiAgICBtZXNzYWdlLm1heFByZWZpeExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIChvYmoubWF4UHJlZml4TGVuZ3RoID0gbWVzc2FnZS5tYXhQcmVmaXhMZW5ndGgpOwogICAgbWVzc2FnZS5lbXB0eUNoaWxkICE9PSB1bmRlZmluZWQgJiYgKG9iai5lbXB0eUNoaWxkID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZW1wdHlDaGlsZCAhPT0gdW5kZWZpbmVkID8gbWVzc2FnZS5lbXB0eUNoaWxkIDogbmV3IFVpbnQ4QXJyYXkoKSkpOwogICAgbWVzc2FnZS5oYXNoICE9PSB1bmRlZmluZWQgJiYgKG9iai5oYXNoID0gaGFzaE9wVG9KU09OKG1lc3NhZ2UuaGFzaCkpOwogICAgcmV0dXJuIG9iajsKICB9LAogIGZyb21QYXJ0aWFsOiBmdW5jdGlvbiBmcm9tUGFydGlhbChvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUlubmVyU3BlYyk7CgogICAgbWVzc2FnZS5jaGlsZE9yZGVyID0gW107CgogICAgaWYgKG9iamVjdC5jaGlsZE9yZGVyICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmNoaWxkT3JkZXIgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvYmplY3QuY2hpbGRPcmRlciksCiAgICAgICAgICBfc3RlcDY7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwNi52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UuY2hpbGRPcmRlci5wdXNoKGUpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNi5mKCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAob2JqZWN0LmNoaWxkU2l6ZSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5jaGlsZFNpemUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5jaGlsZFNpemUgPSBvYmplY3QuY2hpbGRTaXplOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5jaGlsZFNpemUgPSAwOwogICAgfQoKICAgIGlmIChvYmplY3QubWluUHJlZml4TGVuZ3RoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm1pblByZWZpeExlbmd0aCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm1pblByZWZpeExlbmd0aCA9IG9iamVjdC5taW5QcmVmaXhMZW5ndGg7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm1pblByZWZpeExlbmd0aCA9IDA7CiAgICB9CgogICAgaWYgKG9iamVjdC5tYXhQcmVmaXhMZW5ndGggIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubWF4UHJlZml4TGVuZ3RoICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoID0gb2JqZWN0Lm1heFByZWZpeExlbmd0aDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubWF4UHJlZml4TGVuZ3RoID0gMDsKICAgIH0KCiAgICBpZiAob2JqZWN0LmVtcHR5Q2hpbGQgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW1wdHlDaGlsZCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmVtcHR5Q2hpbGQgPSBvYmplY3QuZW1wdHlDaGlsZDsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuZW1wdHlDaGlsZCA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5oYXNoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lmhhc2ggIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5oYXNoID0gb2JqZWN0Lmhhc2g7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmhhc2ggPSAwOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VCYXRjaFByb29mID0ge307CmV4cG9ydCB2YXIgQmF0Y2hQcm9vZiA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihtZXNzYWdlLmVudHJpZXMpLAogICAgICAgIF9zdGVwNzsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjcucygpOyAhKF9zdGVwNyA9IF9pdGVyYXRvcjcubigpKS5kb25lOykgewogICAgICAgIHZhciB2ID0gX3N0ZXA3LnZhbHVlOwogICAgICAgIEJhdGNoRW50cnkuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjcuZigpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUJhdGNoUHJvb2YpOwoKICAgIG1lc3NhZ2UuZW50cmllcyA9IFtdOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UuZW50cmllcy5wdXNoKEJhdGNoRW50cnkuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICBmcm9tSlNPTjogZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VCYXRjaFByb29mKTsKCiAgICBtZXNzYWdlLmVudHJpZXMgPSBbXTsKCiAgICBpZiAob2JqZWN0LmVudHJpZXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW50cmllcyAhPT0gbnVsbCkgewogICAgICB2YXIgX2l0ZXJhdG9yOCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5lbnRyaWVzKSwKICAgICAgICAgIF9zdGVwODsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I4LnMoKTsgIShfc3RlcDggPSBfaXRlcmF0b3I4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXA4LnZhbHVlOwogICAgICAgICAgbWVzc2FnZS5lbnRyaWVzLnB1c2goQmF0Y2hFbnRyeS5mcm9tSlNPTihlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I4LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I4LmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwoKICAgIGlmIChtZXNzYWdlLmVudHJpZXMpIHsKICAgICAgb2JqLmVudHJpZXMgPSBtZXNzYWdlLmVudHJpZXMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPyBCYXRjaEVudHJ5LnRvSlNPTihlKSA6IHVuZGVmaW5lZDsKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBvYmouZW50cmllcyA9IFtdOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VCYXRjaFByb29mKTsKCiAgICBtZXNzYWdlLmVudHJpZXMgPSBbXTsKCiAgICBpZiAob2JqZWN0LmVudHJpZXMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QuZW50cmllcyAhPT0gbnVsbCkgewogICAgICB2YXIgX2l0ZXJhdG9yOSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5lbnRyaWVzKSwKICAgICAgICAgIF9zdGVwOTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I5LnMoKTsgIShfc3RlcDkgPSBfaXRlcmF0b3I5Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXA5LnZhbHVlOwogICAgICAgICAgbWVzc2FnZS5lbnRyaWVzLnB1c2goQmF0Y2hFbnRyeS5mcm9tUGFydGlhbChlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I5LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I5LmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VCYXRjaEVudHJ5ID0ge307CmV4cG9ydCB2YXIgQmF0Y2hFbnRyeSA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgaWYgKG1lc3NhZ2UuZXhpc3QgIT09IHVuZGVmaW5lZCkgewogICAgICBFeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5leGlzdCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5ub25leGlzdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIE5vbkV4aXN0ZW5jZVByb29mLmVuY29kZShtZXNzYWdlLm5vbmV4aXN0LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpOwogICAgfQoKICAgIHJldHVybiB3cml0ZXI7CiAgfSwKICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7CiAgICB2YXIgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbmV3IFJlYWRlcihpbnB1dCkgOiBpbnB1dDsKICAgIHZhciBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoOwoKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUJhdGNoRW50cnkpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UuZXhpc3QgPSBFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBOb25FeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQmF0Y2hFbnRyeSk7CgogICAgaWYgKG9iamVjdC5leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmV4aXN0ID0gRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0LmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ub25leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gTm9uRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0Lm5vbmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5leGlzdCA9IG1lc3NhZ2UuZXhpc3QgPyBFeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5leGlzdCkgOiB1bmRlZmluZWQpOwogICAgbWVzc2FnZS5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIChvYmoubm9uZXhpc3QgPSBtZXNzYWdlLm5vbmV4aXN0ID8gTm9uRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2Uubm9uZXhpc3QpIDogdW5kZWZpbmVkKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VCYXRjaEVudHJ5KTsKCiAgICBpZiAob2JqZWN0LmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSBFeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3QuZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0Lm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0Lm5vbmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBOb25FeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3Qubm9uZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQ29tcHJlc3NlZEJhdGNoUHJvb2YgPSB7fTsKZXhwb3J0IHZhciBDb21wcmVzc2VkQmF0Y2hQcm9vZiA9IHsKICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlKSB7CiAgICB2YXIgd3JpdGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBXcml0ZXIuY3JlYXRlKCk7CgogICAgdmFyIF9pdGVyYXRvcjEwID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIobWVzc2FnZS5lbnRyaWVzKSwKICAgICAgICBfc3RlcDEwOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMTAucygpOyAhKF9zdGVwMTAgPSBfaXRlcmF0b3IxMC5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIHYgPSBfc3RlcDEwLnZhbHVlOwogICAgICAgIENvbXByZXNzZWRCYXRjaEVudHJ5LmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgX2l0ZXJhdG9yMTAuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yMTAuZigpOwogICAgfQoKICAgIHZhciBfaXRlcmF0b3IxMSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1lc3NhZ2UubG9va3VwSW5uZXJzKSwKICAgICAgICBfc3RlcDExOwoKICAgIHRyeSB7CiAgICAgIGZvciAoX2l0ZXJhdG9yMTEucygpOyAhKF9zdGVwMTEgPSBfaXRlcmF0b3IxMS5uKCkpLmRvbmU7KSB7CiAgICAgICAgdmFyIF92ID0gX3N0ZXAxMS52YWx1ZTsKICAgICAgICBJbm5lck9wLmVuY29kZShfdiwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIF9pdGVyYXRvcjExLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjExLmYoKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hQcm9vZik7CgogICAgbWVzc2FnZS5lbnRyaWVzID0gW107CiAgICBtZXNzYWdlLmxvb2t1cElubmVycyA9IFtdOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2UuZW50cmllcy5wdXNoKENvbXByZXNzZWRCYXRjaEVudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UubG9va3VwSW5uZXJzLnB1c2goSW5uZXJPcC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWRCYXRjaFByb29mKTsKCiAgICBtZXNzYWdlLmVudHJpZXMgPSBbXTsKICAgIG1lc3NhZ2UubG9va3VwSW5uZXJzID0gW107CgogICAgaWYgKG9iamVjdC5lbnRyaWVzICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmVudHJpZXMgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjEyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LmVudHJpZXMpLAogICAgICAgICAgX3N0ZXAxMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxMi5zKCk7ICEoX3N0ZXAxMiA9IF9pdGVyYXRvcjEyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXAxMi52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UuZW50cmllcy5wdXNoKENvbXByZXNzZWRCYXRjaEVudHJ5LmZyb21KU09OKGUpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjEyLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IxMi5mKCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAob2JqZWN0Lmxvb2t1cElubmVycyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sb29rdXBJbm5lcnMgIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjEzID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0Lmxvb2t1cElubmVycyksCiAgICAgICAgICBfc3RlcDEzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjEzLnMoKTsgIShfc3RlcDEzID0gX2l0ZXJhdG9yMTMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9lID0gX3N0ZXAxMy52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UubG9va3VwSW5uZXJzLnB1c2goSW5uZXJPcC5mcm9tSlNPTihfZSkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjEzLmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwoKICAgIGlmIChtZXNzYWdlLmVudHJpZXMpIHsKICAgICAgb2JqLmVudHJpZXMgPSBtZXNzYWdlLmVudHJpZXMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPyBDb21wcmVzc2VkQmF0Y2hFbnRyeS50b0pTT04oZSkgOiB1bmRlZmluZWQ7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgb2JqLmVudHJpZXMgPSBbXTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5sb29rdXBJbm5lcnMpIHsKICAgICAgb2JqLmxvb2t1cElubmVycyA9IG1lc3NhZ2UubG9va3VwSW5uZXJzLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlID8gSW5uZXJPcC50b0pTT04oZSkgOiB1bmRlZmluZWQ7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgb2JqLmxvb2t1cElubmVycyA9IFtdOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hQcm9vZik7CgogICAgbWVzc2FnZS5lbnRyaWVzID0gW107CiAgICBtZXNzYWdlLmxvb2t1cElubmVycyA9IFtdOwoKICAgIGlmIChvYmplY3QuZW50cmllcyAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5lbnRyaWVzICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxNCA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5lbnRyaWVzKSwKICAgICAgICAgIF9zdGVwMTQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yMTQucygpOyAhKF9zdGVwMTQgPSBfaXRlcmF0b3IxNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgZSA9IF9zdGVwMTQudmFsdWU7CiAgICAgICAgICBtZXNzYWdlLmVudHJpZXMucHVzaChDb21wcmVzc2VkQmF0Y2hFbnRyeS5mcm9tUGFydGlhbChlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTQuZigpOwogICAgICB9CiAgICB9CgogICAgaWYgKG9iamVjdC5sb29rdXBJbm5lcnMgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QubG9va3VwSW5uZXJzICE9PSBudWxsKSB7CiAgICAgIHZhciBfaXRlcmF0b3IxNSA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG9iamVjdC5sb29rdXBJbm5lcnMpLAogICAgICAgICAgX3N0ZXAxNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxNS5zKCk7ICEoX3N0ZXAxNSA9IF9pdGVyYXRvcjE1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfZTIgPSBfc3RlcDE1LnZhbHVlOwogICAgICAgICAgbWVzc2FnZS5sb29rdXBJbm5lcnMucHVzaChJbm5lck9wLmZyb21QYXJ0aWFsKF9lMikpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTUuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjE1LmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VDb21wcmVzc2VkQmF0Y2hFbnRyeSA9IHt9OwpleHBvcnQgdmFyIENvbXByZXNzZWRCYXRjaEVudHJ5ID0gewogIGVuY29kZTogZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UpIHsKICAgIHZhciB3cml0ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFdyaXRlci5jcmVhdGUoKTsKCiAgICBpZiAobWVzc2FnZS5leGlzdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5leGlzdCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5ub25leGlzdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENvbXByZXNzZWROb25FeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5ub25leGlzdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hFbnRyeSk7CgogICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHsKICAgICAgdmFyIHRhZyA9IHJlYWRlci51aW50MzIoKTsKCiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgbWVzc2FnZS5leGlzdCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2Uubm9uZXhpc3QgPSBDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWRCYXRjaEVudHJ5KTsKCiAgICBpZiAob2JqZWN0LmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmV4aXN0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0LmV4aXN0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UuZXhpc3QgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5ub25leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5ub25leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5ub25leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLm5vbmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgbWVzc2FnZS5leGlzdCAhPT0gdW5kZWZpbmVkICYmIChvYmouZXhpc3QgPSBtZXNzYWdlLmV4aXN0ID8gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLnRvSlNPTihtZXNzYWdlLmV4aXN0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLm5vbmV4aXN0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5ub25leGlzdCA9IG1lc3NhZ2Uubm9uZXhpc3QgPyBDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2Uubm9uZXhpc3QpIDogdW5kZWZpbmVkKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkQmF0Y2hFbnRyeSk7CgogICAgaWYgKG9iamVjdC5leGlzdCAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5leGlzdCAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmV4aXN0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5leGlzdCk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmV4aXN0ID0gdW5kZWZpbmVkOwogICAgfQoKICAgIGlmIChvYmplY3Qubm9uZXhpc3QgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qubm9uZXhpc3QgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IENvbXByZXNzZWROb25FeGlzdGVuY2VQcm9vZi5mcm9tUGFydGlhbChvYmplY3Qubm9uZXhpc3QpOwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5ub25leGlzdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9Cn07CnZhciBiYXNlQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mID0gewogIHBhdGg6IDAKfTsKZXhwb3J0IHZhciBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmtleS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5rZXkpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLnZhbHVlLmxlbmd0aCAhPT0gMCkgewogICAgICB3cml0ZXIudWludDMyKDE4KS5ieXRlcyhtZXNzYWdlLnZhbHVlKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5sZWFmICE9PSB1bmRlZmluZWQpIHsKICAgICAgTGVhZk9wLmVuY29kZShtZXNzYWdlLmxlYWYsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7CiAgICB9CgogICAgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpOwoKICAgIHZhciBfaXRlcmF0b3IxNiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKG1lc3NhZ2UucGF0aCksCiAgICAgICAgX3N0ZXAxNjsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvcjE2LnMoKTsgIShfc3RlcDE2ID0gX2l0ZXJhdG9yMTYubigpKS5kb25lOykgewogICAgICAgIHZhciB2ID0gX3N0ZXAxNi52YWx1ZTsKICAgICAgICB3cml0ZXIuaW50MzIodik7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IxNi5lKGVycik7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXRlcmF0b3IxNi5mKCk7CiAgICB9CgogICAgd3JpdGVyLmxkZWxpbSgpOwogICAgcmV0dXJuIHdyaXRlcjsKICB9LAogIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHsKICAgIHZhciByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBuZXcgUmVhZGVyKGlucHV0KSA6IGlucHV0OwogICAgdmFyIGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7CgogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mKTsKCiAgICBtZXNzYWdlLnBhdGggPSBbXTsKCiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkgewogICAgICB2YXIgdGFnID0gcmVhZGVyLnVpbnQzMigpOwoKICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5ieXRlcygpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuYnl0ZXMoKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICBtZXNzYWdlLmxlYWYgPSBMZWFmT3AuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSAyKSB7CiAgICAgICAgICAgIHZhciBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvczsKCiAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikgewogICAgICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKHJlYWRlci5pbnQzMigpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbWVzc2FnZS5wYXRoLnB1c2gocmVhZGVyLmludDMyKCkpOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbWVzc2FnZTsKICB9LAogIGZyb21KU09OOiBmdW5jdGlvbiBmcm9tSlNPTihvYmplY3QpIHsKICAgIHZhciBtZXNzYWdlID0gX29iamVjdFNwcmVhZCh7fSwgYmFzZUNvbXByZXNzZWRFeGlzdGVuY2VQcm9vZik7CgogICAgbWVzc2FnZS5wYXRoID0gW107CgogICAgaWYgKG9iamVjdC5rZXkgIT09IHVuZGVmaW5lZCAmJiBvYmplY3Qua2V5ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2Uua2V5ID0gYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5rZXkpOwogICAgfQoKICAgIGlmIChvYmplY3QudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS52YWx1ZSA9IGJ5dGVzRnJvbUJhc2U2NChvYmplY3QudmFsdWUpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVhZiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWFmICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVhZiA9IExlYWZPcC5mcm9tSlNPTihvYmplY3QubGVhZik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlYWYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5wYXRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhdGggIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjE3ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LnBhdGgpLAogICAgICAgICAgX3N0ZXAxNzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxNy5zKCk7ICEoX3N0ZXAxNyA9IF9pdGVyYXRvcjE3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXAxNy52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKE51bWJlcihlKSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IxNy5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMTcuZigpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCAmJiAob2JqLnZhbHVlID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UudmFsdWUgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UudmFsdWUgOiBuZXcgVWludDhBcnJheSgpKSk7CiAgICBtZXNzYWdlLmxlYWYgIT09IHVuZGVmaW5lZCAmJiAob2JqLmxlYWYgPSBtZXNzYWdlLmxlYWYgPyBMZWFmT3AudG9KU09OKG1lc3NhZ2UubGVhZikgOiB1bmRlZmluZWQpOwoKICAgIGlmIChtZXNzYWdlLnBhdGgpIHsKICAgICAgb2JqLnBhdGggPSBtZXNzYWdlLnBhdGgubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgb2JqLnBhdGggPSBbXTsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH0sCiAgZnJvbVBhcnRpYWw6IGZ1bmN0aW9uIGZyb21QYXJ0aWFsKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mKTsKCiAgICBtZXNzYWdlLnBhdGggPSBbXTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBvYmplY3Qua2V5OwogICAgfSBlbHNlIHsKICAgICAgbWVzc2FnZS5rZXkgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QudmFsdWUgIT09IHVuZGVmaW5lZCAmJiBvYmplY3QudmFsdWUgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS52YWx1ZSA9IG9iamVjdC52YWx1ZTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSBuZXcgVWludDhBcnJheSgpOwogICAgfQoKICAgIGlmIChvYmplY3QubGVhZiAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5sZWFmICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UubGVhZiA9IExlYWZPcC5mcm9tUGFydGlhbChvYmplY3QubGVhZik7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmxlYWYgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgaWYgKG9iamVjdC5wYXRoICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnBhdGggIT09IG51bGwpIHsKICAgICAgdmFyIF9pdGVyYXRvcjE4ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIob2JqZWN0LnBhdGgpLAogICAgICAgICAgX3N0ZXAxODsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IxOC5zKCk7ICEoX3N0ZXAxOCA9IF9pdGVyYXRvcjE4Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBlID0gX3N0ZXAxOC52YWx1ZTsKICAgICAgICAgIG1lc3NhZ2UucGF0aC5wdXNoKGUpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMTguZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjE4LmYoKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0KfTsKdmFyIGJhc2VDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YgPSB7fTsKZXhwb3J0IHZhciBDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YgPSB7CiAgZW5jb2RlOiBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSkgewogICAgdmFyIHdyaXRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogV3JpdGVyLmNyZWF0ZSgpOwoKICAgIGlmIChtZXNzYWdlLmtleS5sZW5ndGggIT09IDApIHsKICAgICAgd3JpdGVyLnVpbnQzMigxMCkuYnl0ZXMobWVzc2FnZS5rZXkpOwogICAgfQoKICAgIGlmIChtZXNzYWdlLmxlZnQgIT09IHVuZGVmaW5lZCkgewogICAgICBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZW5jb2RlKG1lc3NhZ2UubGVmdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICBpZiAobWVzc2FnZS5yaWdodCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgIENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5lbmNvZGUobWVzc2FnZS5yaWdodCwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTsKICAgIH0KCiAgICByZXR1cm4gd3JpdGVyOwogIH0sCiAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkgewogICAgdmFyIHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IG5ldyBSZWFkZXIoaW5wdXQpIDogaW5wdXQ7CiAgICB2YXIgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDsKCiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YpOwoKICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7CiAgICAgIHZhciB0YWcgPSByZWFkZXIudWludDMyKCk7CgogICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykgewogICAgICAgIGNhc2UgMToKICAgICAgICAgIG1lc3NhZ2Uua2V5ID0gcmVhZGVyLmJ5dGVzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgbWVzc2FnZS5sZWZ0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgbWVzc2FnZS5yaWdodCA9IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBtZXNzYWdlOwogIH0sCiAgZnJvbUpTT046IGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkgewogICAgdmFyIG1lc3NhZ2UgPSBfb2JqZWN0U3ByZWFkKHt9LCBiYXNlQ29tcHJlc3NlZE5vbkV4aXN0ZW5jZVByb29mKTsKCiAgICBpZiAob2JqZWN0LmtleSAhPT0gdW5kZWZpbmVkICYmIG9iamVjdC5rZXkgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5rZXkgPSBieXRlc0Zyb21CYXNlNjQob2JqZWN0LmtleSk7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmxlZnQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21KU09OKG9iamVjdC5sZWZ0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZnJvbUpTT04ob2JqZWN0LnJpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfSwKICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2Uua2V5ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlLmtleSA6IG5ldyBVaW50OEFycmF5KCkpKTsKICAgIG1lc3NhZ2UubGVmdCAhPT0gdW5kZWZpbmVkICYmIChvYmoubGVmdCA9IG1lc3NhZ2UubGVmdCA/IENvbXByZXNzZWRFeGlzdGVuY2VQcm9vZi50b0pTT04obWVzc2FnZS5sZWZ0KSA6IHVuZGVmaW5lZCk7CiAgICBtZXNzYWdlLnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgKG9iai5yaWdodCA9IG1lc3NhZ2UucmlnaHQgPyBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YudG9KU09OKG1lc3NhZ2UucmlnaHQpIDogdW5kZWZpbmVkKTsKICAgIHJldHVybiBvYmo7CiAgfSwKICBmcm9tUGFydGlhbDogZnVuY3Rpb24gZnJvbVBhcnRpYWwob2JqZWN0KSB7CiAgICB2YXIgbWVzc2FnZSA9IF9vYmplY3RTcHJlYWQoe30sIGJhc2VDb21wcmVzc2VkTm9uRXhpc3RlbmNlUHJvb2YpOwoKICAgIGlmIChvYmplY3Qua2V5ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmtleSAhPT0gbnVsbCkgewogICAgICBtZXNzYWdlLmtleSA9IG9iamVjdC5rZXk7CiAgICB9IGVsc2UgewogICAgICBtZXNzYWdlLmtleSA9IG5ldyBVaW50OEFycmF5KCk7CiAgICB9CgogICAgaWYgKG9iamVjdC5sZWZ0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LmxlZnQgIT09IG51bGwpIHsKICAgICAgbWVzc2FnZS5sZWZ0ID0gQ29tcHJlc3NlZEV4aXN0ZW5jZVByb29mLmZyb21QYXJ0aWFsKG9iamVjdC5sZWZ0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UubGVmdCA9IHVuZGVmaW5lZDsKICAgIH0KCiAgICBpZiAob2JqZWN0LnJpZ2h0ICE9PSB1bmRlZmluZWQgJiYgb2JqZWN0LnJpZ2h0ICE9PSBudWxsKSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSBDb21wcmVzc2VkRXhpc3RlbmNlUHJvb2YuZnJvbVBhcnRpYWwob2JqZWN0LnJpZ2h0KTsKICAgIH0gZWxzZSB7CiAgICAgIG1lc3NhZ2UucmlnaHQgPSB1bmRlZmluZWQ7CiAgICB9CgogICAgcmV0dXJuIG1lc3NhZ2U7CiAgfQp9OwoKdmFyIGdsb2JhbFRoaXMgPSBmdW5jdGlvbiAoKSB7CiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAidW5kZWZpbmVkIikgcmV0dXJuIGdsb2JhbFRoaXM7CiAgaWYgKHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIikgcmV0dXJuIHNlbGY7CiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiKSByZXR1cm4gd2luZG93OwogIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIikgcmV0dXJuIGdsb2JhbDsKICB0aHJvdyAiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0IjsKfSgpOwoKdmFyIGF0b2IgPSBnbG9iYWxUaGlzLmF0b2IgfHwgZnVuY3Rpb24gKGI2NCkgewogIHJldHVybiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGI2NCwgImJhc2U2NCIpLnRvU3RyaW5nKCJiaW5hcnkiKTsKfTsKCmZ1bmN0aW9uIGJ5dGVzRnJvbUJhc2U2NChiNjQpIHsKICB2YXIgYmluID0gYXRvYihiNjQpOwogIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShiaW4ubGVuZ3RoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoOyArK2kpIHsKICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpOwogIH0KCiAgcmV0dXJuIGFycjsKfQoKdmFyIGJ0b2EgPSBnbG9iYWxUaGlzLmJ0b2EgfHwgZnVuY3Rpb24gKGJpbikgewogIHJldHVybiBnbG9iYWxUaGlzLkJ1ZmZlci5mcm9tKGJpbiwgImJpbmFyeSIpLnRvU3RyaW5nKCJiYXNlNjQiKTsKfTsKCmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHsKICB2YXIgYmluID0gW107CgogIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmJ5dGVMZW5ndGg7ICsraSkgewogICAgYmluLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShhcnJbaV0pKTsKICB9CgogIHJldHVybiBidG9hKGJpbi5qb2luKCIiKSk7Cn0="},{"version":3,"sources":["/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/ibc.core.connection.v1/module/types/confio/proofs.js"],"names":["Writer","Reader","protobufPackage","HashOp","hashOpFromJSON","object","NO_HASH","SHA256","SHA512","KECCAK","RIPEMD160","BITCOIN","UNRECOGNIZED","hashOpToJSON","LengthOp","lengthOpFromJSON","NO_PREFIX","VAR_PROTO","VAR_RLP","FIXED32_BIG","FIXED32_LITTLE","FIXED64_BIG","FIXED64_LITTLE","REQUIRE_32_BYTES","REQUIRE_64_BYTES","lengthOpToJSON","baseExistenceProof","ExistenceProof","encode","message","writer","create","key","length","uint32","bytes","value","leaf","undefined","LeafOp","fork","ldelim","path","v","InnerOp","decode","input","reader","Uint8Array","end","len","pos","tag","push","skipType","fromJSON","bytesFromBase64","e","toJSON","obj","base64FromBytes","map","fromPartial","baseNonExistenceProof","NonExistenceProof","left","right","baseCommitmentProof","CommitmentProof","exist","nonexist","batch","BatchProof","compressed","CompressedBatchProof","baseLeafOp","hash","prehashKey","prehashValue","int32","prefix","baseInnerOp","suffix","baseProofSpec","maxDepth","minDepth","ProofSpec","leafSpec","innerSpec","InnerSpec","Number","baseInnerSpec","childOrder","childSize","minPrefixLength","maxPrefixLength","emptyChild","end2","baseBatchProof","entries","BatchEntry","baseBatchEntry","baseCompressedBatchProof","CompressedBatchEntry","lookupInners","baseCompressedBatchEntry","CompressedExistenceProof","CompressedNonExistenceProof","baseCompressedExistenceProof","baseCompressedNonExistenceProof","globalThis","self","window","global","atob","b64","Buffer","from","toString","bin","arr","i","charCodeAt","btoa","byteLength","String","fromCharCode","join"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport { Writer, Reader } from \"protobufjs/minimal\";\nexport const protobufPackage = \"ics23\";\nexport var HashOp;\n(function (HashOp) {\n    /** NO_HASH - NO_HASH is the default if no data passed. Note this is an illegal argument some places. */\n    HashOp[HashOp[\"NO_HASH\"] = 0] = \"NO_HASH\";\n    HashOp[HashOp[\"SHA256\"] = 1] = \"SHA256\";\n    HashOp[HashOp[\"SHA512\"] = 2] = \"SHA512\";\n    HashOp[HashOp[\"KECCAK\"] = 3] = \"KECCAK\";\n    HashOp[HashOp[\"RIPEMD160\"] = 4] = \"RIPEMD160\";\n    /** BITCOIN - ripemd160(sha256(x)) */\n    HashOp[HashOp[\"BITCOIN\"] = 5] = \"BITCOIN\";\n    HashOp[HashOp[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(HashOp || (HashOp = {}));\nexport function hashOpFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"NO_HASH\":\n            return HashOp.NO_HASH;\n        case 1:\n        case \"SHA256\":\n            return HashOp.SHA256;\n        case 2:\n        case \"SHA512\":\n            return HashOp.SHA512;\n        case 3:\n        case \"KECCAK\":\n            return HashOp.KECCAK;\n        case 4:\n        case \"RIPEMD160\":\n            return HashOp.RIPEMD160;\n        case 5:\n        case \"BITCOIN\":\n            return HashOp.BITCOIN;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return HashOp.UNRECOGNIZED;\n    }\n}\nexport function hashOpToJSON(object) {\n    switch (object) {\n        case HashOp.NO_HASH:\n            return \"NO_HASH\";\n        case HashOp.SHA256:\n            return \"SHA256\";\n        case HashOp.SHA512:\n            return \"SHA512\";\n        case HashOp.KECCAK:\n            return \"KECCAK\";\n        case HashOp.RIPEMD160:\n            return \"RIPEMD160\";\n        case HashOp.BITCOIN:\n            return \"BITCOIN\";\n        default:\n            return \"UNKNOWN\";\n    }\n}\n/**\n * LengthOp defines how to process the key and value of the LeafOp\n * to include length information. After encoding the length with the given\n * algorithm, the length will be prepended to the key and value bytes.\n * (Each one with it's own encoded length)\n */\nexport var LengthOp;\n(function (LengthOp) {\n    /** NO_PREFIX - NO_PREFIX don't include any length info */\n    LengthOp[LengthOp[\"NO_PREFIX\"] = 0] = \"NO_PREFIX\";\n    /** VAR_PROTO - VAR_PROTO uses protobuf (and go-amino) varint encoding of the length */\n    LengthOp[LengthOp[\"VAR_PROTO\"] = 1] = \"VAR_PROTO\";\n    /** VAR_RLP - VAR_RLP uses rlp int encoding of the length */\n    LengthOp[LengthOp[\"VAR_RLP\"] = 2] = \"VAR_RLP\";\n    /** FIXED32_BIG - FIXED32_BIG uses big-endian encoding of the length as a 32 bit integer */\n    LengthOp[LengthOp[\"FIXED32_BIG\"] = 3] = \"FIXED32_BIG\";\n    /** FIXED32_LITTLE - FIXED32_LITTLE uses little-endian encoding of the length as a 32 bit integer */\n    LengthOp[LengthOp[\"FIXED32_LITTLE\"] = 4] = \"FIXED32_LITTLE\";\n    /** FIXED64_BIG - FIXED64_BIG uses big-endian encoding of the length as a 64 bit integer */\n    LengthOp[LengthOp[\"FIXED64_BIG\"] = 5] = \"FIXED64_BIG\";\n    /** FIXED64_LITTLE - FIXED64_LITTLE uses little-endian encoding of the length as a 64 bit integer */\n    LengthOp[LengthOp[\"FIXED64_LITTLE\"] = 6] = \"FIXED64_LITTLE\";\n    /** REQUIRE_32_BYTES - REQUIRE_32_BYTES is like NONE, but will fail if the input is not exactly 32 bytes (sha256 output) */\n    LengthOp[LengthOp[\"REQUIRE_32_BYTES\"] = 7] = \"REQUIRE_32_BYTES\";\n    /** REQUIRE_64_BYTES - REQUIRE_64_BYTES is like NONE, but will fail if the input is not exactly 64 bytes (sha512 output) */\n    LengthOp[LengthOp[\"REQUIRE_64_BYTES\"] = 8] = \"REQUIRE_64_BYTES\";\n    LengthOp[LengthOp[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(LengthOp || (LengthOp = {}));\nexport function lengthOpFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"NO_PREFIX\":\n            return LengthOp.NO_PREFIX;\n        case 1:\n        case \"VAR_PROTO\":\n            return LengthOp.VAR_PROTO;\n        case 2:\n        case \"VAR_RLP\":\n            return LengthOp.VAR_RLP;\n        case 3:\n        case \"FIXED32_BIG\":\n            return LengthOp.FIXED32_BIG;\n        case 4:\n        case \"FIXED32_LITTLE\":\n            return LengthOp.FIXED32_LITTLE;\n        case 5:\n        case \"FIXED64_BIG\":\n            return LengthOp.FIXED64_BIG;\n        case 6:\n        case \"FIXED64_LITTLE\":\n            return LengthOp.FIXED64_LITTLE;\n        case 7:\n        case \"REQUIRE_32_BYTES\":\n            return LengthOp.REQUIRE_32_BYTES;\n        case 8:\n        case \"REQUIRE_64_BYTES\":\n            return LengthOp.REQUIRE_64_BYTES;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return LengthOp.UNRECOGNIZED;\n    }\n}\nexport function lengthOpToJSON(object) {\n    switch (object) {\n        case LengthOp.NO_PREFIX:\n            return \"NO_PREFIX\";\n        case LengthOp.VAR_PROTO:\n            return \"VAR_PROTO\";\n        case LengthOp.VAR_RLP:\n            return \"VAR_RLP\";\n        case LengthOp.FIXED32_BIG:\n            return \"FIXED32_BIG\";\n        case LengthOp.FIXED32_LITTLE:\n            return \"FIXED32_LITTLE\";\n        case LengthOp.FIXED64_BIG:\n            return \"FIXED64_BIG\";\n        case LengthOp.FIXED64_LITTLE:\n            return \"FIXED64_LITTLE\";\n        case LengthOp.REQUIRE_32_BYTES:\n            return \"REQUIRE_32_BYTES\";\n        case LengthOp.REQUIRE_64_BYTES:\n            return \"REQUIRE_64_BYTES\";\n        default:\n            return \"UNKNOWN\";\n    }\n}\nconst baseExistenceProof = {};\nexport const ExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.value.length !== 0) {\n            writer.uint32(18).bytes(message.value);\n        }\n        if (message.leaf !== undefined) {\n            LeafOp.encode(message.leaf, writer.uint32(26).fork()).ldelim();\n        }\n        for (const v of message.path) {\n            InnerOp.encode(v, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.value = reader.bytes();\n                    break;\n                case 3:\n                    message.leaf = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.path.push(InnerOp.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = bytesFromBase64(object.value);\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromJSON(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(InnerOp.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.value !== undefined &&\n            (obj.value = base64FromBytes(message.value !== undefined ? message.value : new Uint8Array()));\n        message.leaf !== undefined &&\n            (obj.leaf = message.leaf ? LeafOp.toJSON(message.leaf) : undefined);\n        if (message.path) {\n            obj.path = message.path.map((e) => (e ? InnerOp.toJSON(e) : undefined));\n        }\n        else {\n            obj.path = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseExistenceProof };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = object.value;\n        }\n        else {\n            message.value = new Uint8Array();\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromPartial(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(InnerOp.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseNonExistenceProof = {};\nexport const NonExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.left !== undefined) {\n            ExistenceProof.encode(message.left, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.right !== undefined) {\n            ExistenceProof.encode(message.right, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseNonExistenceProof };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.left = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.right = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseNonExistenceProof };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = ExistenceProof.fromJSON(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = ExistenceProof.fromJSON(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.left !== undefined &&\n            (obj.left = message.left\n                ? ExistenceProof.toJSON(message.left)\n                : undefined);\n        message.right !== undefined &&\n            (obj.right = message.right\n                ? ExistenceProof.toJSON(message.right)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseNonExistenceProof };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = ExistenceProof.fromPartial(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = ExistenceProof.fromPartial(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n};\nconst baseCommitmentProof = {};\nexport const CommitmentProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            ExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            NonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.batch !== undefined) {\n            BatchProof.encode(message.batch, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.compressed !== undefined) {\n            CompressedBatchProof.encode(message.compressed, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCommitmentProof };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = NonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.batch = BatchProof.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.compressed = CompressedBatchProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCommitmentProof };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        if (object.batch !== undefined && object.batch !== null) {\n            message.batch = BatchProof.fromJSON(object.batch);\n        }\n        else {\n            message.batch = undefined;\n        }\n        if (object.compressed !== undefined && object.compressed !== null) {\n            message.compressed = CompressedBatchProof.fromJSON(object.compressed);\n        }\n        else {\n            message.compressed = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? ExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? NonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        message.batch !== undefined &&\n            (obj.batch = message.batch\n                ? BatchProof.toJSON(message.batch)\n                : undefined);\n        message.compressed !== undefined &&\n            (obj.compressed = message.compressed\n                ? CompressedBatchProof.toJSON(message.compressed)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCommitmentProof };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        if (object.batch !== undefined && object.batch !== null) {\n            message.batch = BatchProof.fromPartial(object.batch);\n        }\n        else {\n            message.batch = undefined;\n        }\n        if (object.compressed !== undefined && object.compressed !== null) {\n            message.compressed = CompressedBatchProof.fromPartial(object.compressed);\n        }\n        else {\n            message.compressed = undefined;\n        }\n        return message;\n    },\n};\nconst baseLeafOp = {\n    hash: 0,\n    prehashKey: 0,\n    prehashValue: 0,\n    length: 0,\n};\nexport const LeafOp = {\n    encode(message, writer = Writer.create()) {\n        if (message.hash !== 0) {\n            writer.uint32(8).int32(message.hash);\n        }\n        if (message.prehashKey !== 0) {\n            writer.uint32(16).int32(message.prehashKey);\n        }\n        if (message.prehashValue !== 0) {\n            writer.uint32(24).int32(message.prehashValue);\n        }\n        if (message.length !== 0) {\n            writer.uint32(32).int32(message.length);\n        }\n        if (message.prefix.length !== 0) {\n            writer.uint32(42).bytes(message.prefix);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseLeafOp };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.int32();\n                    break;\n                case 2:\n                    message.prehashKey = reader.int32();\n                    break;\n                case 3:\n                    message.prehashValue = reader.int32();\n                    break;\n                case 4:\n                    message.length = reader.int32();\n                    break;\n                case 5:\n                    message.prefix = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseLeafOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prehashKey !== undefined && object.prehashKey !== null) {\n            message.prehashKey = hashOpFromJSON(object.prehashKey);\n        }\n        else {\n            message.prehashKey = 0;\n        }\n        if (object.prehashValue !== undefined && object.prehashValue !== null) {\n            message.prehashValue = hashOpFromJSON(object.prehashValue);\n        }\n        else {\n            message.prehashValue = 0;\n        }\n        if (object.length !== undefined && object.length !== null) {\n            message.length = lengthOpFromJSON(object.length);\n        }\n        else {\n            message.length = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = bytesFromBase64(object.prefix);\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        message.prehashKey !== undefined &&\n            (obj.prehashKey = hashOpToJSON(message.prehashKey));\n        message.prehashValue !== undefined &&\n            (obj.prehashValue = hashOpToJSON(message.prehashValue));\n        message.length !== undefined &&\n            (obj.length = lengthOpToJSON(message.length));\n        message.prefix !== undefined &&\n            (obj.prefix = base64FromBytes(message.prefix !== undefined ? message.prefix : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseLeafOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prehashKey !== undefined && object.prehashKey !== null) {\n            message.prehashKey = object.prehashKey;\n        }\n        else {\n            message.prehashKey = 0;\n        }\n        if (object.prehashValue !== undefined && object.prehashValue !== null) {\n            message.prehashValue = object.prehashValue;\n        }\n        else {\n            message.prehashValue = 0;\n        }\n        if (object.length !== undefined && object.length !== null) {\n            message.length = object.length;\n        }\n        else {\n            message.length = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = object.prefix;\n        }\n        else {\n            message.prefix = new Uint8Array();\n        }\n        return message;\n    },\n};\nconst baseInnerOp = { hash: 0 };\nexport const InnerOp = {\n    encode(message, writer = Writer.create()) {\n        if (message.hash !== 0) {\n            writer.uint32(8).int32(message.hash);\n        }\n        if (message.prefix.length !== 0) {\n            writer.uint32(18).bytes(message.prefix);\n        }\n        if (message.suffix.length !== 0) {\n            writer.uint32(26).bytes(message.suffix);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseInnerOp };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.int32();\n                    break;\n                case 2:\n                    message.prefix = reader.bytes();\n                    break;\n                case 3:\n                    message.suffix = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseInnerOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = bytesFromBase64(object.prefix);\n        }\n        if (object.suffix !== undefined && object.suffix !== null) {\n            message.suffix = bytesFromBase64(object.suffix);\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        message.prefix !== undefined &&\n            (obj.prefix = base64FromBytes(message.prefix !== undefined ? message.prefix : new Uint8Array()));\n        message.suffix !== undefined &&\n            (obj.suffix = base64FromBytes(message.suffix !== undefined ? message.suffix : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseInnerOp };\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        if (object.prefix !== undefined && object.prefix !== null) {\n            message.prefix = object.prefix;\n        }\n        else {\n            message.prefix = new Uint8Array();\n        }\n        if (object.suffix !== undefined && object.suffix !== null) {\n            message.suffix = object.suffix;\n        }\n        else {\n            message.suffix = new Uint8Array();\n        }\n        return message;\n    },\n};\nconst baseProofSpec = { maxDepth: 0, minDepth: 0 };\nexport const ProofSpec = {\n    encode(message, writer = Writer.create()) {\n        if (message.leafSpec !== undefined) {\n            LeafOp.encode(message.leafSpec, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.innerSpec !== undefined) {\n            InnerSpec.encode(message.innerSpec, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.maxDepth !== 0) {\n            writer.uint32(24).int32(message.maxDepth);\n        }\n        if (message.minDepth !== 0) {\n            writer.uint32(32).int32(message.minDepth);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseProofSpec };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.leafSpec = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.innerSpec = InnerSpec.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.maxDepth = reader.int32();\n                    break;\n                case 4:\n                    message.minDepth = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseProofSpec };\n        if (object.leafSpec !== undefined && object.leafSpec !== null) {\n            message.leafSpec = LeafOp.fromJSON(object.leafSpec);\n        }\n        else {\n            message.leafSpec = undefined;\n        }\n        if (object.innerSpec !== undefined && object.innerSpec !== null) {\n            message.innerSpec = InnerSpec.fromJSON(object.innerSpec);\n        }\n        else {\n            message.innerSpec = undefined;\n        }\n        if (object.maxDepth !== undefined && object.maxDepth !== null) {\n            message.maxDepth = Number(object.maxDepth);\n        }\n        else {\n            message.maxDepth = 0;\n        }\n        if (object.minDepth !== undefined && object.minDepth !== null) {\n            message.minDepth = Number(object.minDepth);\n        }\n        else {\n            message.minDepth = 0;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.leafSpec !== undefined &&\n            (obj.leafSpec = message.leafSpec\n                ? LeafOp.toJSON(message.leafSpec)\n                : undefined);\n        message.innerSpec !== undefined &&\n            (obj.innerSpec = message.innerSpec\n                ? InnerSpec.toJSON(message.innerSpec)\n                : undefined);\n        message.maxDepth !== undefined && (obj.maxDepth = message.maxDepth);\n        message.minDepth !== undefined && (obj.minDepth = message.minDepth);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseProofSpec };\n        if (object.leafSpec !== undefined && object.leafSpec !== null) {\n            message.leafSpec = LeafOp.fromPartial(object.leafSpec);\n        }\n        else {\n            message.leafSpec = undefined;\n        }\n        if (object.innerSpec !== undefined && object.innerSpec !== null) {\n            message.innerSpec = InnerSpec.fromPartial(object.innerSpec);\n        }\n        else {\n            message.innerSpec = undefined;\n        }\n        if (object.maxDepth !== undefined && object.maxDepth !== null) {\n            message.maxDepth = object.maxDepth;\n        }\n        else {\n            message.maxDepth = 0;\n        }\n        if (object.minDepth !== undefined && object.minDepth !== null) {\n            message.minDepth = object.minDepth;\n        }\n        else {\n            message.minDepth = 0;\n        }\n        return message;\n    },\n};\nconst baseInnerSpec = {\n    childOrder: 0,\n    childSize: 0,\n    minPrefixLength: 0,\n    maxPrefixLength: 0,\n    hash: 0,\n};\nexport const InnerSpec = {\n    encode(message, writer = Writer.create()) {\n        writer.uint32(10).fork();\n        for (const v of message.childOrder) {\n            writer.int32(v);\n        }\n        writer.ldelim();\n        if (message.childSize !== 0) {\n            writer.uint32(16).int32(message.childSize);\n        }\n        if (message.minPrefixLength !== 0) {\n            writer.uint32(24).int32(message.minPrefixLength);\n        }\n        if (message.maxPrefixLength !== 0) {\n            writer.uint32(32).int32(message.maxPrefixLength);\n        }\n        if (message.emptyChild.length !== 0) {\n            writer.uint32(42).bytes(message.emptyChild);\n        }\n        if (message.hash !== 0) {\n            writer.uint32(48).int32(message.hash);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    if ((tag & 7) === 2) {\n                        const end2 = reader.uint32() + reader.pos;\n                        while (reader.pos < end2) {\n                            message.childOrder.push(reader.int32());\n                        }\n                    }\n                    else {\n                        message.childOrder.push(reader.int32());\n                    }\n                    break;\n                case 2:\n                    message.childSize = reader.int32();\n                    break;\n                case 3:\n                    message.minPrefixLength = reader.int32();\n                    break;\n                case 4:\n                    message.maxPrefixLength = reader.int32();\n                    break;\n                case 5:\n                    message.emptyChild = reader.bytes();\n                    break;\n                case 6:\n                    message.hash = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        if (object.childOrder !== undefined && object.childOrder !== null) {\n            for (const e of object.childOrder) {\n                message.childOrder.push(Number(e));\n            }\n        }\n        if (object.childSize !== undefined && object.childSize !== null) {\n            message.childSize = Number(object.childSize);\n        }\n        else {\n            message.childSize = 0;\n        }\n        if (object.minPrefixLength !== undefined &&\n            object.minPrefixLength !== null) {\n            message.minPrefixLength = Number(object.minPrefixLength);\n        }\n        else {\n            message.minPrefixLength = 0;\n        }\n        if (object.maxPrefixLength !== undefined &&\n            object.maxPrefixLength !== null) {\n            message.maxPrefixLength = Number(object.maxPrefixLength);\n        }\n        else {\n            message.maxPrefixLength = 0;\n        }\n        if (object.emptyChild !== undefined && object.emptyChild !== null) {\n            message.emptyChild = bytesFromBase64(object.emptyChild);\n        }\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = hashOpFromJSON(object.hash);\n        }\n        else {\n            message.hash = 0;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.childOrder) {\n            obj.childOrder = message.childOrder.map((e) => e);\n        }\n        else {\n            obj.childOrder = [];\n        }\n        message.childSize !== undefined && (obj.childSize = message.childSize);\n        message.minPrefixLength !== undefined &&\n            (obj.minPrefixLength = message.minPrefixLength);\n        message.maxPrefixLength !== undefined &&\n            (obj.maxPrefixLength = message.maxPrefixLength);\n        message.emptyChild !== undefined &&\n            (obj.emptyChild = base64FromBytes(message.emptyChild !== undefined ? message.emptyChild : new Uint8Array()));\n        message.hash !== undefined && (obj.hash = hashOpToJSON(message.hash));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseInnerSpec };\n        message.childOrder = [];\n        if (object.childOrder !== undefined && object.childOrder !== null) {\n            for (const e of object.childOrder) {\n                message.childOrder.push(e);\n            }\n        }\n        if (object.childSize !== undefined && object.childSize !== null) {\n            message.childSize = object.childSize;\n        }\n        else {\n            message.childSize = 0;\n        }\n        if (object.minPrefixLength !== undefined &&\n            object.minPrefixLength !== null) {\n            message.minPrefixLength = object.minPrefixLength;\n        }\n        else {\n            message.minPrefixLength = 0;\n        }\n        if (object.maxPrefixLength !== undefined &&\n            object.maxPrefixLength !== null) {\n            message.maxPrefixLength = object.maxPrefixLength;\n        }\n        else {\n            message.maxPrefixLength = 0;\n        }\n        if (object.emptyChild !== undefined && object.emptyChild !== null) {\n            message.emptyChild = object.emptyChild;\n        }\n        else {\n            message.emptyChild = new Uint8Array();\n        }\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        else {\n            message.hash = 0;\n        }\n        return message;\n    },\n};\nconst baseBatchProof = {};\nexport const BatchProof = {\n    encode(message, writer = Writer.create()) {\n        for (const v of message.entries) {\n            BatchEntry.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.entries.push(BatchEntry.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(BatchEntry.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => e ? BatchEntry.toJSON(e) : undefined);\n        }\n        else {\n            obj.entries = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseBatchProof };\n        message.entries = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(BatchEntry.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseBatchEntry = {};\nexport const BatchEntry = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            ExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            NonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseBatchEntry };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = ExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = NonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? ExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? NonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = ExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = NonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n};\nconst baseCompressedBatchProof = {};\nexport const CompressedBatchProof = {\n    encode(message, writer = Writer.create()) {\n        for (const v of message.entries) {\n            CompressedBatchEntry.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.lookupInners) {\n            InnerOp.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.entries.push(CompressedBatchEntry.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.lookupInners.push(InnerOp.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(CompressedBatchEntry.fromJSON(e));\n            }\n        }\n        if (object.lookupInners !== undefined && object.lookupInners !== null) {\n            for (const e of object.lookupInners) {\n                message.lookupInners.push(InnerOp.fromJSON(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => e ? CompressedBatchEntry.toJSON(e) : undefined);\n        }\n        else {\n            obj.entries = [];\n        }\n        if (message.lookupInners) {\n            obj.lookupInners = message.lookupInners.map((e) => e ? InnerOp.toJSON(e) : undefined);\n        }\n        else {\n            obj.lookupInners = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCompressedBatchProof };\n        message.entries = [];\n        message.lookupInners = [];\n        if (object.entries !== undefined && object.entries !== null) {\n            for (const e of object.entries) {\n                message.entries.push(CompressedBatchEntry.fromPartial(e));\n            }\n        }\n        if (object.lookupInners !== undefined && object.lookupInners !== null) {\n            for (const e of object.lookupInners) {\n                message.lookupInners.push(InnerOp.fromPartial(e));\n            }\n        }\n        return message;\n    },\n};\nconst baseCompressedBatchEntry = {};\nexport const CompressedBatchEntry = {\n    encode(message, writer = Writer.create()) {\n        if (message.exist !== undefined) {\n            CompressedExistenceProof.encode(message.exist, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.nonexist !== undefined) {\n            CompressedNonExistenceProof.encode(message.nonexist, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = { ...baseCompressedBatchEntry };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.exist = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.nonexist = CompressedNonExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = { ...baseCompressedBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = CompressedExistenceProof.fromJSON(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = CompressedNonExistenceProof.fromJSON(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.exist !== undefined &&\n            (obj.exist = message.exist\n                ? CompressedExistenceProof.toJSON(message.exist)\n                : undefined);\n        message.nonexist !== undefined &&\n            (obj.nonexist = message.nonexist\n                ? CompressedNonExistenceProof.toJSON(message.nonexist)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = { ...baseCompressedBatchEntry };\n        if (object.exist !== undefined && object.exist !== null) {\n            message.exist = CompressedExistenceProof.fromPartial(object.exist);\n        }\n        else {\n            message.exist = undefined;\n        }\n        if (object.nonexist !== undefined && object.nonexist !== null) {\n            message.nonexist = CompressedNonExistenceProof.fromPartial(object.nonexist);\n        }\n        else {\n            message.nonexist = undefined;\n        }\n        return message;\n    },\n};\nconst baseCompressedExistenceProof = { path: 0 };\nexport const CompressedExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.value.length !== 0) {\n            writer.uint32(18).bytes(message.value);\n        }\n        if (message.leaf !== undefined) {\n            LeafOp.encode(message.leaf, writer.uint32(26).fork()).ldelim();\n        }\n        writer.uint32(34).fork();\n        for (const v of message.path) {\n            writer.int32(v);\n        }\n        writer.ldelim();\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.value = reader.bytes();\n                    break;\n                case 3:\n                    message.leaf = LeafOp.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    if ((tag & 7) === 2) {\n                        const end2 = reader.uint32() + reader.pos;\n                        while (reader.pos < end2) {\n                            message.path.push(reader.int32());\n                        }\n                    }\n                    else {\n                        message.path.push(reader.int32());\n                    }\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = bytesFromBase64(object.value);\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromJSON(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(Number(e));\n            }\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.value !== undefined &&\n            (obj.value = base64FromBytes(message.value !== undefined ? message.value : new Uint8Array()));\n        message.leaf !== undefined &&\n            (obj.leaf = message.leaf ? LeafOp.toJSON(message.leaf) : undefined);\n        if (message.path) {\n            obj.path = message.path.map((e) => e);\n        }\n        else {\n            obj.path = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = {\n            ...baseCompressedExistenceProof,\n        };\n        message.path = [];\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.value !== undefined && object.value !== null) {\n            message.value = object.value;\n        }\n        else {\n            message.value = new Uint8Array();\n        }\n        if (object.leaf !== undefined && object.leaf !== null) {\n            message.leaf = LeafOp.fromPartial(object.leaf);\n        }\n        else {\n            message.leaf = undefined;\n        }\n        if (object.path !== undefined && object.path !== null) {\n            for (const e of object.path) {\n                message.path.push(e);\n            }\n        }\n        return message;\n    },\n};\nconst baseCompressedNonExistenceProof = {};\nexport const CompressedNonExistenceProof = {\n    encode(message, writer = Writer.create()) {\n        if (message.key.length !== 0) {\n            writer.uint32(10).bytes(message.key);\n        }\n        if (message.left !== undefined) {\n            CompressedExistenceProof.encode(message.left, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.right !== undefined) {\n            CompressedExistenceProof.encode(message.right, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof Uint8Array ? new Reader(input) : input;\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.key = reader.bytes();\n                    break;\n                case 2:\n                    message.left = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.right = CompressedExistenceProof.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = bytesFromBase64(object.key);\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = CompressedExistenceProof.fromJSON(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = CompressedExistenceProof.fromJSON(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.key !== undefined &&\n            (obj.key = base64FromBytes(message.key !== undefined ? message.key : new Uint8Array()));\n        message.left !== undefined &&\n            (obj.left = message.left\n                ? CompressedExistenceProof.toJSON(message.left)\n                : undefined);\n        message.right !== undefined &&\n            (obj.right = message.right\n                ? CompressedExistenceProof.toJSON(message.right)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = {\n            ...baseCompressedNonExistenceProof,\n        };\n        if (object.key !== undefined && object.key !== null) {\n            message.key = object.key;\n        }\n        else {\n            message.key = new Uint8Array();\n        }\n        if (object.left !== undefined && object.left !== null) {\n            message.left = CompressedExistenceProof.fromPartial(object.left);\n        }\n        else {\n            message.left = undefined;\n        }\n        if (object.right !== undefined && object.right !== null) {\n            message.right = CompressedExistenceProof.fromPartial(object.right);\n        }\n        else {\n            message.right = undefined;\n        }\n        return message;\n    },\n};\nvar globalThis = (() => {\n    if (typeof globalThis !== \"undefined\")\n        return globalThis;\n    if (typeof self !== \"undefined\")\n        return self;\n    if (typeof window !== \"undefined\")\n        return window;\n    if (typeof global !== \"undefined\")\n        return global;\n    throw \"Unable to locate global object\";\n})();\nconst atob = globalThis.atob ||\n    ((b64) => globalThis.Buffer.from(b64, \"base64\").toString(\"binary\"));\nfunction bytesFromBase64(b64) {\n    const bin = atob(b64);\n    const arr = new Uint8Array(bin.length);\n    for (let i = 0; i < bin.length; ++i) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return arr;\n}\nconst btoa = globalThis.btoa ||\n    ((bin) => globalThis.Buffer.from(bin, \"binary\").toString(\"base64\"));\nfunction base64FromBytes(arr) {\n    const bin = [];\n    for (let i = 0; i < arr.byteLength; ++i) {\n        bin.push(String.fromCharCode(arr[i]));\n    }\n    return btoa(bin.join(\"\"));\n}\n"]}]}