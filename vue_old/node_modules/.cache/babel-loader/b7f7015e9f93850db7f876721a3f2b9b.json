{"remainingRequest":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js!/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js","dependencies":[{"path":"/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js","mtime":1620801165471},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS91YnVudHUvc3RhcnBvcnQtZ3Jhdml0eS92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3VidW50dS9zdGFycG9ydC1ncmF2aXR5L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgeyB0eENsaWVudCwgcXVlcnlDbGllbnQgfSBmcm9tICcuL21vZHVsZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCB7IFNwVnVleEVycm9yIH0gZnJvbSAnQHN0YXJwb3J0L3Z1ZXgnOwppbXBvcnQgeyBUZXh0UHJvcG9zYWwgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3MvZ292L3YxYmV0YTEvZ292IjsKaW1wb3J0IHsgRGVwb3NpdCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwppbXBvcnQgeyBQcm9wb3NhbCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwppbXBvcnQgeyBUYWxseVJlc3VsdCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9nb3YvdjFiZXRhMS9nb3YiOwppbXBvcnQgeyBWb3RlIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL2dvdi92MWJldGExL2dvdiI7CmltcG9ydCB7IERlcG9zaXRQYXJhbXMgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3MvZ292L3YxYmV0YTEvZ292IjsKaW1wb3J0IHsgVm90aW5nUGFyYW1zIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL2dvdi92MWJldGExL2dvdiI7CmltcG9ydCB7IFRhbGx5UGFyYW1zIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL2dvdi92MWJldGExL2dvdiI7CgpmdW5jdGlvbiBpbml0VHhDbGllbnQoX3gpIHsKICByZXR1cm4gX2luaXRUeENsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaW5pdFR4Q2xpZW50KCkgewogIF9pbml0VHhDbGllbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNih2dWV4R2V0dGVycykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiB0eENsaWVudCh2dWV4R2V0dGVyc1snY29tbW9uL3dhbGxldC9zaWduZXInXSwgewogICAgICAgICAgICAgIGFkZHI6IHZ1ZXhHZXR0ZXJzWydjb21tb24vZW52L2FwaVRlbmRlcm1pbnQnXQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQxNi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTYpOwogIH0pKTsKICByZXR1cm4gX2luaXRUeENsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBpbml0UXVlcnlDbGllbnQoX3gyKSB7CiAgcmV0dXJuIF9pbml0UXVlcnlDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2luaXRRdWVyeUNsaWVudCgpIHsKICBfaW5pdFF1ZXJ5Q2xpZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcodnVleEdldHRlcnMpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQoewogICAgICAgICAgICAgIGFkZHI6IHZ1ZXhHZXR0ZXJzWydjb21tb24vZW52L2FwaUNvc21vcyddCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDE3LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUxNyk7CiAgfSkpOwogIHJldHVybiBfaW5pdFF1ZXJ5Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFN0cnVjdHVyZSh0ZW1wbGF0ZSkgewogIHZhciBzdHJ1Y3R1cmUgPSB7CiAgICBmaWVsZHM6IFtdCiAgfTsKCiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0ZW1wbGF0ZSk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykgewogICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLAogICAgICAgIGtleSA9IF9PYmplY3QkZW50cmllcyRfaVswXSwKICAgICAgICB2YWx1ZSA9IF9PYmplY3QkZW50cmllcyRfaVsxXTsKCiAgICB2YXIgZmllbGQgPSB7fTsKICAgIGZpZWxkLm5hbWUgPSBrZXk7CiAgICBmaWVsZC50eXBlID0gX3R5cGVvZih2YWx1ZSk7CiAgICBzdHJ1Y3R1cmUuZmllbGRzLnB1c2goZmllbGQpOwogIH0KCiAgcmV0dXJuIHN0cnVjdHVyZTsKfQoKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgUHJvcG9zYWw6IHt9LAogICAgUHJvcG9zYWxzOiB7fSwKICAgIFZvdGU6IHt9LAogICAgVm90ZXM6IHt9LAogICAgUGFyYW1zOiB7fSwKICAgIERlcG9zaXQ6IHt9LAogICAgRGVwb3NpdHM6IHt9LAogICAgVGFsbHlSZXN1bHQ6IHt9LAogICAgX1N0cnVjdHVyZTogewogICAgICBUZXh0UHJvcG9zYWw6IGdldFN0cnVjdHVyZShUZXh0UHJvcG9zYWwuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgRGVwb3NpdDogZ2V0U3RydWN0dXJlKERlcG9zaXQuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgUHJvcG9zYWw6IGdldFN0cnVjdHVyZShQcm9wb3NhbC5mcm9tUGFydGlhbCh7fSkpLAogICAgICBUYWxseVJlc3VsdDogZ2V0U3RydWN0dXJlKFRhbGx5UmVzdWx0LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFZvdGU6IGdldFN0cnVjdHVyZShWb3RlLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIERlcG9zaXRQYXJhbXM6IGdldFN0cnVjdHVyZShEZXBvc2l0UGFyYW1zLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFZvdGluZ1BhcmFtczogZ2V0U3RydWN0dXJlKFZvdGluZ1BhcmFtcy5mcm9tUGFydGlhbCh7fSkpLAogICAgICBUYWxseVBhcmFtczogZ2V0U3RydWN0dXJlKFRhbGx5UGFyYW1zLmZyb21QYXJ0aWFsKHt9KSkKICAgIH0sCiAgICBfU3Vic2NyaXB0aW9uczogbmV3IFNldCgpCiAgfTsKfTsgLy8gaW5pdGlhbCBzdGF0ZQoKCnZhciBzdGF0ZSA9IGdldERlZmF1bHRTdGF0ZSgpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiB7CiAgICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZ2V0RGVmYXVsdFN0YXRlKCkpOwogICAgfSwKICAgIFFVRVJZOiBmdW5jdGlvbiBRVUVSWShzdGF0ZSwgX3JlZikgewogICAgICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5LAogICAgICAgICAga2V5ID0gX3JlZi5rZXksCiAgICAgICAgICB2YWx1ZSA9IF9yZWYudmFsdWU7CiAgICAgIHN0YXRlW3F1ZXJ5XVtKU09OLnN0cmluZ2lmeShrZXkpXSA9IHZhbHVlOwogICAgfSwKICAgIFNVQlNDUklCRTogZnVuY3Rpb24gU1VCU0NSSUJFKHN0YXRlLCBzdWJzY3JpcHRpb24pIHsKICAgICAgc3RhdGUuX1N1YnNjcmlwdGlvbnMuYWRkKHN1YnNjcmlwdGlvbik7CiAgICB9LAogICAgVU5TVUJTQ1JJQkU6IGZ1bmN0aW9uIFVOU1VCU0NSSUJFKHN0YXRlLCBzdWJzY3JpcHRpb24pIHsKICAgICAgc3RhdGUuX1N1YnNjcmlwdGlvbnNbImRlbGV0ZSJdKHN1YnNjcmlwdGlvbik7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRQcm9wb3NhbDogZnVuY3Rpb24gZ2V0UHJvcG9zYWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFByb3Bvc2FsJEpTT04kOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRQcm9wb3NhbCRKU09OJCA9IHN0YXRlLlByb3Bvc2FsW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUHJvcG9zYWwkSlNPTiQgIT09IHZvaWQgMCA/IF9zdGF0ZSRQcm9wb3NhbCRKU09OJCA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFByb3Bvc2FsczogZnVuY3Rpb24gZ2V0UHJvcG9zYWxzKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQcm9wb3NhbHMkSlNPTjsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUHJvcG9zYWxzJEpTT04gPSBzdGF0ZS5Qcm9wb3NhbHNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRQcm9wb3NhbHMkSlNPTiAhPT0gdm9pZCAwID8gX3N0YXRlJFByb3Bvc2FscyRKU09OIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0Vm90ZTogZnVuY3Rpb24gZ2V0Vm90ZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkVm90ZSRKU09OJHN0cmk7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFZvdGUkSlNPTiRzdHJpID0gc3RhdGUuVm90ZVtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFZvdGUkSlNPTiRzdHJpICE9PSB2b2lkIDAgPyBfc3RhdGUkVm90ZSRKU09OJHN0cmkgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRWb3RlczogZnVuY3Rpb24gZ2V0Vm90ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFZvdGVzJEpTT04kc3RyOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRWb3RlcyRKU09OJHN0ciA9IHN0YXRlLlZvdGVzW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkVm90ZXMkSlNPTiRzdHIgIT09IHZvaWQgMCA/IF9zdGF0ZSRWb3RlcyRKU09OJHN0ciA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFBhcmFtczogZnVuY3Rpb24gZ2V0UGFyYW1zKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQYXJhbXMkSlNPTiRzdDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUGFyYW1zJEpTT04kc3QgPSBzdGF0ZS5QYXJhbXNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRQYXJhbXMkSlNPTiRzdCAhPT0gdm9pZCAwID8gX3N0YXRlJFBhcmFtcyRKU09OJHN0IDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGVwb3NpdDogZnVuY3Rpb24gZ2V0RGVwb3NpdChzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkRGVwb3NpdCRKU09OJHM7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJERlcG9zaXQkSlNPTiRzID0gc3RhdGUuRGVwb3NpdFtKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJERlcG9zaXQkSlNPTiRzICE9PSB2b2lkIDAgPyBfc3RhdGUkRGVwb3NpdCRKU09OJHMgOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXREZXBvc2l0czogZnVuY3Rpb24gZ2V0RGVwb3NpdHMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJERlcG9zaXRzJEpTT04kOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSREZXBvc2l0cyRKU09OJCA9IHN0YXRlLkRlcG9zaXRzW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkRGVwb3NpdHMkSlNPTiQgIT09IHZvaWQgMCA/IF9zdGF0ZSREZXBvc2l0cyRKU09OJCA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFRhbGx5UmVzdWx0OiBmdW5jdGlvbiBnZXRUYWxseVJlc3VsdChzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkVGFsbHlSZXN1bHQkSlM7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFRhbGx5UmVzdWx0JEpTID0gc3RhdGUuVGFsbHlSZXN1bHRbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRUYWxseVJlc3VsdCRKUyAhPT0gdm9pZCAwID8gX3N0YXRlJFRhbGx5UmVzdWx0JEpTIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0VHlwZVN0cnVjdHVyZTogZnVuY3Rpb24gZ2V0VHlwZVN0cnVjdHVyZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gc3RhdGUuX1N0cnVjdHVyZVt0eXBlXS5maWVsZHM7CiAgICAgIH07CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KF9yZWYyKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMi5yb290R2V0dGVyczsKICAgICAgY29uc29sZS5sb2coJ2luaXQnKTsKCiAgICAgIGlmIChyb290R2V0dGVyc1snY29tbW9uL2Vudi9jbGllbnQnXSkgewogICAgICAgIHJvb3RHZXR0ZXJzWydjb21tb24vZW52L2NsaWVudCddLm9uKCduZXdibG9jaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRpc3BhdGNoKCdTdG9yZVVwZGF0ZScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRTdGF0ZTogZnVuY3Rpb24gcmVzZXRTdGF0ZShfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICB9LAogICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKF9yZWY0LCBzdWJzY3JpcHRpb24pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgY29tbWl0KCdVTlNVQlNDUklCRScsIHN1YnNjcmlwdGlvbik7CiAgICB9LAogICAgU3RvcmVVcGRhdGU6IGZ1bmN0aW9uIFN0b3JlVXBkYXRlKF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwoKICAgICAgICAgICAgICAgIHN0YXRlLl9TdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICBkaXNwYXRjaChzdWJzY3JpcHRpb24uYWN0aW9uLCBzdWJzY3JpcHRpb24ucGF5bG9hZCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UHJvcG9zYWw6IGZ1bmN0aW9uIFF1ZXJ5UHJvcG9zYWwoX3JlZjYsIF9yZWY3KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmNyRvcHRpb25zLCBfcmVmNyRvcHRpb25zJHN1YnNjcmksIHN1YnNjcmliZSwgX3JlZjckb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFByb3Bvc2FsLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmNi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWY2LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmNyRvcHRpb25zID0gX3JlZjcub3B0aW9ucywgX3JlZjckb3B0aW9ucyRzdWJzY3JpID0gX3JlZjckb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWY3JG9wdGlvbnMkc3Vic2NyaSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRvcHRpb25zJHN1YnNjcmksIF9yZWY3JG9wdGlvbnMkYWxsID0gX3JlZjckb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWY3JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY3JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmNy5wYXJhbXMpLCBfcmVmNyRxdWVyeSA9IF9yZWY3LnF1ZXJ5LCBxdWVyeSA9IF9yZWY3JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjckcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zZW50LnF1ZXJ5UHJvcG9zYWwoa2V5LnByb3Bvc2FsX2lkLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zZW50LnF1ZXJ5UHJvcG9zYWwoa2V5LnByb3Bvc2FsX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Mi50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUHJvcG9zYWwnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlQcm9wb3NhbCcsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0UHJvcG9zYWwgPSBnZXR0ZXJzWydnZXRQcm9wb3NhbCddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQcm9wb3NhbCAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UHJvcG9zYWwgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5UHJvcG9zYWwnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UHJvcG9zYWxzOiBmdW5jdGlvbiBRdWVyeVByb3Bvc2FscyhfcmVmOCwgX3JlZjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWY5JG9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSwgc3Vic2NyaWJlLCBfcmVmOSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWY5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0UHJvcG9zYWxzLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pMiwgX09iamVjdCRrZXlzLCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjguY29tbWl0LCByb290R2V0dGVycyA9IF9yZWY4LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjguZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWY5JG9wdGlvbnMgPSBfcmVmOS5vcHRpb25zLCBfcmVmOSRvcHRpb25zJHN1YnNjcmkgPSBfcmVmOSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjkkb3B0aW9ucyRzdWJzY3JpID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWY5JG9wdGlvbnMkc3Vic2NyaSwgX3JlZjkkb3B0aW9ucyRhbGwgPSBfcmVmOSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjkkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjkkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWY5LnBhcmFtcyksIF9yZWY5JHF1ZXJ5ID0gX3JlZjkucXVlcnksIHF1ZXJ5ID0gX3JlZjkkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmOSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlQcm9wb3NhbHMocXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDMuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc2VudC5xdWVyeVByb3Bvc2FscygpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQzLnQwOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCEoYWxsICYmIHZhbHVlLnBhZ2luYXRpb24gJiYgdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5ICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlQcm9wb3NhbHMoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdwYWdpbmF0aW9uLmtleSc6IHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgbmV4dF92YWx1ZXMgPSBfY29udGV4dDMuc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2kyID0gMCwgX09iamVjdCRrZXlzID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTIgPCBfT2JqZWN0JGtleXMubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzW19pMl07CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdQcm9wb3NhbHMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlQcm9wb3NhbHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFByb3Bvc2FscyA9IGdldHRlcnNbJ2dldFByb3Bvc2FscyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQcm9wb3NhbHMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFByb3Bvc2FscyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDEgPSBfY29udGV4dDNbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlQcm9wb3NhbHMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5Vm90ZTogZnVuY3Rpb24gUXVlcnlWb3RlKF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTEkb3B0aW9ucywgX3JlZjExJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFZvdGUsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTAucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTAuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxMSRvcHRpb25zID0gX3JlZjExLm9wdGlvbnMsIF9yZWYxMSRvcHRpb25zJHN1YnNjciA9IF9yZWYxMSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjExJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMSRvcHRpb25zJHN1YnNjciwgX3JlZjExJG9wdGlvbnMkYWxsID0gX3JlZjExJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTEkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjExJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTEucGFyYW1zKSwgX3JlZjExJHF1ZXJ5ID0gX3JlZjExLnF1ZXJ5LCBxdWVyeSA9IF9yZWYxMSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxMSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnNlbnQucXVlcnlWb3RlKGtleS5wcm9wb3NhbF9pZCwga2V5LnZvdGVyLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zZW50LnF1ZXJ5Vm90ZShrZXkucHJvcG9zYWxfaWQsIGtleS52b3Rlcik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDQudDAgPSBfY29udGV4dDQuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDQudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1ZvdGUnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlWb3RlJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRWb3RlID0gZ2V0dGVyc1snZ2V0Vm90ZSddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRWb3RlICE9PSB2b2lkIDAgPyBfZ2V0dGVycyRnZXRWb3RlIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MSA9IF9jb250ZXh0NFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVZvdGUnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5Vm90ZXM6IGZ1bmN0aW9uIFF1ZXJ5Vm90ZXMoX3JlZjEyLCBfcmVmMTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxMyRvcHRpb25zLCBfcmVmMTMkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjEzJG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjEzJHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0Vm90ZXMsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2kzLCBfT2JqZWN0JGtleXMyLCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEyLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTIucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTIuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxMyRvcHRpb25zID0gX3JlZjEzLm9wdGlvbnMsIF9yZWYxMyRvcHRpb25zJHN1YnNjciA9IF9yZWYxMyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjEzJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMyRvcHRpb25zJHN1YnNjciwgX3JlZjEzJG9wdGlvbnMkYWxsID0gX3JlZjEzJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTMkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjEzJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTMucGFyYW1zKSwgX3JlZjEzJHF1ZXJ5ID0gX3JlZjEzLnF1ZXJ5LCBxdWVyeSA9IF9yZWYxMyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxMyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnNlbnQucXVlcnlWb3RlcyhrZXkucHJvcG9zYWxfaWQsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnNlbnQucXVlcnlWb3RlcyhrZXkucHJvcG9zYWxfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ1LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCEoYWxsICYmIHZhbHVlLnBhZ2luYXRpb24gJiYgdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5ICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnNlbnQucXVlcnlWb3RlcyhrZXkucHJvcG9zYWxfaWQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQ1LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDAsIF9PYmplY3Qka2V5czIgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pMyA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTMrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzMltfaTNdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnVm90ZXMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlWb3RlcycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0Vm90ZXMgPSBnZXR0ZXJzWydnZXRWb3RlcyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRWb3RlcyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0Vm90ZXMgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnQxID0gX2NvbnRleHQ1WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5Vm90ZXMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UGFyYW1zOiBmdW5jdGlvbiBRdWVyeVBhcmFtcyhfcmVmMTQsIF9yZWYxNSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjE1JG9wdGlvbnMsIF9yZWYxNSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMTUkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMTUkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRQYXJhbXMsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE0LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTQucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTQuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxNSRvcHRpb25zID0gX3JlZjE1Lm9wdGlvbnMsIF9yZWYxNSRvcHRpb25zJHN1YnNjciA9IF9yZWYxNSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjE1JG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRvcHRpb25zJHN1YnNjciwgX3JlZjE1JG9wdGlvbnMkYWxsID0gX3JlZjE1JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTUkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE1JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTUucGFyYW1zKSwgX3JlZjE1JHF1ZXJ5ID0gX3JlZjE1LnF1ZXJ5LCBxdWVyeSA9IF9yZWYxNSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxNSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnNlbnQucXVlcnlQYXJhbXMoa2V5LnBhcmFtc190eXBlLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0Ni5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zZW50LnF1ZXJ5UGFyYW1zKGtleS5wYXJhbXNfdHlwZSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDYuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDYudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1BhcmFtcycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVBhcmFtcycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0UGFyYW1zID0gZ2V0dGVyc1snZ2V0UGFyYW1zJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFBhcmFtcyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UGFyYW1zIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni50MSA9IF9jb250ZXh0NlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVBhcmFtcycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlEZXBvc2l0OiBmdW5jdGlvbiBRdWVyeURlcG9zaXQoX3JlZjE2LCBfcmVmMTcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxNyRvcHRpb25zLCBfcmVmMTckb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE3JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE3JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0RGVwb3NpdCwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTYuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxNi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxNi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjE3JG9wdGlvbnMgPSBfcmVmMTcub3B0aW9ucywgX3JlZjE3JG9wdGlvbnMkc3Vic2NyID0gX3JlZjE3JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTckb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE3JG9wdGlvbnMkc3Vic2NyLCBfcmVmMTckb3B0aW9ucyRhbGwgPSBfcmVmMTckb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxNyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTckb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxNy5wYXJhbXMpLCBfcmVmMTckcXVlcnkgPSBfcmVmMTcucXVlcnksIHF1ZXJ5ID0gX3JlZjE3JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjE3JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc2VudC5xdWVyeURlcG9zaXQoa2V5LnByb3Bvc2FsX2lkLCBrZXkuZGVwb3NpdG9yLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0Ny5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zZW50LnF1ZXJ5RGVwb3NpdChrZXkucHJvcG9zYWxfaWQsIGtleS5kZXBvc2l0b3IpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ3LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdEZXBvc2l0JywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5RGVwb3NpdCcsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0RGVwb3NpdCA9IGdldHRlcnNbJ2dldERlcG9zaXQnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0RGVwb3NpdCAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0RGVwb3NpdCA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDEgPSBfY29udGV4dDdbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlEZXBvc2l0JywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeURlcG9zaXRzOiBmdW5jdGlvbiBRdWVyeURlcG9zaXRzKF9yZWYxOCwgX3JlZjE5KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTkkb3B0aW9ucywgX3JlZjE5JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxOSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxOSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldERlcG9zaXRzLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pNCwgX09iamVjdCRrZXlzMywgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE4LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTkkb3B0aW9ucyA9IF9yZWYxOS5vcHRpb25zLCBfcmVmMTkkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxOSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTkkb3B0aW9ucyRzdWJzY3IsIF9yZWYxOSRvcHRpb25zJGFsbCA9IF9yZWYxOSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE5LnBhcmFtcyksIF9yZWYxOSRxdWVyeSA9IF9yZWYxOS5xdWVyeSwgcXVlcnkgPSBfcmVmMTkkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVwb3NpdHMoa2V5LnByb3Bvc2FsX2lkLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVwb3NpdHMoa2V5LnByb3Bvc2FsX2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0OC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVwb3NpdHMoa2V5LnByb3Bvc2FsX2lkLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTQgPSAwLCBfT2JqZWN0JGtleXMzID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTQgPCBfT2JqZWN0JGtleXMzLmxlbmd0aDsgX2k0KyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5czNbX2k0XTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0RlcG9zaXRzJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5RGVwb3NpdHMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldERlcG9zaXRzID0gZ2V0dGVyc1snZ2V0RGVwb3NpdHMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0RGVwb3NpdHMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldERlcG9zaXRzIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MSA9IF9jb250ZXh0OFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeURlcG9zaXRzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVRhbGx5UmVzdWx0OiBmdW5jdGlvbiBRdWVyeVRhbGx5UmVzdWx0KF9yZWYyMCwgX3JlZjIxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMjEkb3B0aW9ucywgX3JlZjIxJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYyMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYyMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFRhbGx5UmVzdSwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjAuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYyMC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYyMC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjIxJG9wdGlvbnMgPSBfcmVmMjEub3B0aW9ucywgX3JlZjIxJG9wdGlvbnMkc3Vic2NyID0gX3JlZjIxJG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMjEkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIxJG9wdGlvbnMkc3Vic2NyLCBfcmVmMjEkb3B0aW9ucyRhbGwgPSBfcmVmMjEkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYyMSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjEkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYyMS5wYXJhbXMpLCBfcmVmMjEkcXVlcnkgPSBfcmVmMjEucXVlcnksIHF1ZXJ5ID0gX3JlZjIxJHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjIxJHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc2VudC5xdWVyeVRhbGx5UmVzdWx0KGtleS5wcm9wb3NhbF9pZCwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDkuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc2VudC5xdWVyeVRhbGx5UmVzdWx0KGtleS5wcm9wb3NhbF9pZCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDkuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDkudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1RhbGx5UmVzdWx0JywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5VGFsbHlSZXN1bHQnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFRhbGx5UmVzdSA9IGdldHRlcnNbJ2dldFRhbGx5UmVzdWx0J10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFRhbGx5UmVzdSAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0VGFsbHlSZXN1IDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS50MSA9IF9jb250ZXh0OVsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVRhbGx5UmVzdWx0JywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU5LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnVm90ZTogZnVuY3Rpb24gc2VuZE1zZ1ZvdGUoX3JlZjIyLCBfcmVmMjMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEwLnByZXYgPSBfY29udGV4dDEwLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYyMi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjIzLnZhbHVlLCBmZWUgPSBfcmVmMjMuZmVlLCBtZW1vID0gX3JlZjIzLm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5tc2dWb3RlKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEwLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTAudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVm90ZTpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1ZvdGU6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dTdWJtaXRQcm9wb3NhbDogZnVuY3Rpb24gc2VuZE1zZ1N1Ym1pdFByb3Bvc2FsKF9yZWYyNCwgX3JlZjI1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBmZWUsIG1lbW8sIG1zZywgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMjQucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyNS52YWx1ZSwgZmVlID0gX3JlZjI1LmZlZSwgbWVtbyA9IF9yZWYyNS5tZW1vOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnNlbnQubXNnU3VibWl0UHJvcG9zYWwodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDExLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTEuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTFbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxMS50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dTdWJtaXRQcm9wb3NhbDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1N1Ym1pdFByb3Bvc2FsOlNlbmQnLCAnQ291bGQgbm90IGJyb2FkY2FzdCBUeC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExLCBudWxsLCBbWzIsIDE2XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZW5kTXNnRGVwb3NpdDogZnVuY3Rpb24gc2VuZE1zZ0RlcG9zaXQoX3JlZjI2LCBfcmVmMjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYyNi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjI3LnZhbHVlLCBmZWUgPSBfcmVmMjcuZmVlLCBtZW1vID0gX3JlZjI3Lm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc2VudC5tc2dEZXBvc2l0KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQxMi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc2VudC5zaWduQW5kQnJvYWRjYXN0KFttc2ddLCB7CiAgICAgICAgICAgICAgICAgIGZlZTogewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogZmVlLAogICAgICAgICAgICAgICAgICAgIGdhczogIjIwMDAwMCIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgbWVtbzogbWVtbwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDEyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAxNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIudDAgPSBfY29udGV4dDEyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTIudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRGVwb3NpdDpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0RlcG9zaXQ6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ1ZvdGU6IGZ1bmN0aW9uIE1zZ1ZvdGUoX3JlZjI4LCBfcmVmMjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjI4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMjkudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc2VudC5tc2dWb3RlKHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQxMy5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gX2NvbnRleHQxM1siY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDEzLnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1ZvdGU6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dWb3RlOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnU3VibWl0UHJvcG9zYWw6IGZ1bmN0aW9uIE1zZ1N1Ym1pdFByb3Bvc2FsKF9yZWYzMCwgX3JlZjMxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcm9vdEdldHRlcnMsIHZhbHVlLCBtc2c7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzMC5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjMxLnZhbHVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFR4Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnNlbnQubXNnU3VibWl0UHJvcG9zYWwodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQudDAgPSBfY29udGV4dDE0WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MTQudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnU3VibWl0UHJvcG9zYWw6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dTdWJtaXRQcm9wb3NhbDpDcmVhdGUnLCAnQ291bGQgbm90IGNyZWF0ZSBtZXNzYWdlLicpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIE1zZ0RlcG9zaXQ6IGZ1bmN0aW9uIE1zZ0RlcG9zaXQoX3JlZjMyLCBfcmVmMzMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjMyLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMzMudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc2VudC5tc2dEZXBvc2l0KHZhbHVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgbXNnID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJyZXR1cm4iLCBtc2cpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnQwID0gX2NvbnRleHQxNVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDE1LnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0RlcG9zaXQ6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dEZXBvc2l0OkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNSwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.gov.v1beta1/index.js"],"names":["txClient","queryClient","SpVuexError","TextProposal","Deposit","Proposal","TallyResult","Vote","DepositParams","VotingParams","TallyParams","initTxClient","vuexGetters","addr","initQueryClient","getStructure","template","structure","fields","Object","entries","key","value","field","name","type","push","getDefaultState","Proposals","Votes","Params","Deposits","_Structure","fromPartial","_Subscriptions","Set","state","namespaced","mutations","RESET_STATE","assign","QUERY","query","JSON","stringify","SUBSCRIBE","subscription","add","UNSUBSCRIBE","getters","getProposal","params","getProposals","getVote","getVotes","getParams","getDeposit","getDeposits","getTallyResult","getTypeStructure","actions","init","dispatch","rootGetters","console","log","on","resetState","commit","unsubscribe","StoreUpdate","forEach","action","payload","QueryProposal","options","subscribe","all","queryProposal","proposal_id","data","error","QueryProposals","queryProposals","pagination","nextKey","next_values","keys","prop","Array","isArray","QueryVote","queryVote","voter","QueryVotes","queryVotes","QueryParams","queryParams","params_type","QueryDeposit","queryDeposit","depositor","QueryDeposits","queryDeposits","QueryTallyResult","queryTallyResult","sendMsgVote","fee","memo","msgVote","msg","signAndBroadcast","amount","gas","result","toString","sendMsgSubmitProposal","msgSubmitProposal","sendMsgDeposit","msgDeposit","MsgVote","MsgSubmitProposal","MsgDeposit"],"mappings":"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","sourcesContent":["import { txClient, queryClient } from './module';\n// @ts-ignore\nimport { SpVuexError } from '@starport/vuex';\nimport { TextProposal } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Deposit } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Proposal } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { TallyResult } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { Vote } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { DepositParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { VotingParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nimport { TallyParams } from \"./module/types/cosmos/gov/v1beta1/gov\";\nasync function initTxClient(vuexGetters) {\n    return await txClient(vuexGetters['common/wallet/signer'], {\n        addr: vuexGetters['common/env/apiTendermint']\n    });\n}\nasync function initQueryClient(vuexGetters) {\n    return await queryClient({\n        addr: vuexGetters['common/env/apiCosmos']\n    });\n}\nfunction getStructure(template) {\n    let structure = { fields: [] };\n    for (const [key, value] of Object.entries(template)) {\n        let field = {};\n        field.name = key;\n        field.type = typeof value;\n        structure.fields.push(field);\n    }\n    return structure;\n}\nconst getDefaultState = () => {\n    return {\n        Proposal: {},\n        Proposals: {},\n        Vote: {},\n        Votes: {},\n        Params: {},\n        Deposit: {},\n        Deposits: {},\n        TallyResult: {},\n        _Structure: {\n            TextProposal: getStructure(TextProposal.fromPartial({})),\n            Deposit: getStructure(Deposit.fromPartial({})),\n            Proposal: getStructure(Proposal.fromPartial({})),\n            TallyResult: getStructure(TallyResult.fromPartial({})),\n            Vote: getStructure(Vote.fromPartial({})),\n            DepositParams: getStructure(DepositParams.fromPartial({})),\n            VotingParams: getStructure(VotingParams.fromPartial({})),\n            TallyParams: getStructure(TallyParams.fromPartial({})),\n        },\n        _Subscriptions: new Set(),\n    };\n};\n// initial state\nconst state = getDefaultState();\nexport default {\n    namespaced: true,\n    state,\n    mutations: {\n        RESET_STATE(state) {\n            Object.assign(state, getDefaultState());\n        },\n        QUERY(state, { query, key, value }) {\n            state[query][JSON.stringify(key)] = value;\n        },\n        SUBSCRIBE(state, subscription) {\n            state._Subscriptions.add(subscription);\n        },\n        UNSUBSCRIBE(state, subscription) {\n            state._Subscriptions.delete(subscription);\n        }\n    },\n    getters: {\n        getProposal: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Proposal[JSON.stringify(params)] ?? {};\n        },\n        getProposals: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Proposals[JSON.stringify(params)] ?? {};\n        },\n        getVote: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Vote[JSON.stringify(params)] ?? {};\n        },\n        getVotes: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Votes[JSON.stringify(params)] ?? {};\n        },\n        getParams: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Params[JSON.stringify(params)] ?? {};\n        },\n        getDeposit: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Deposit[JSON.stringify(params)] ?? {};\n        },\n        getDeposits: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Deposits[JSON.stringify(params)] ?? {};\n        },\n        getTallyResult: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.TallyResult[JSON.stringify(params)] ?? {};\n        },\n        getTypeStructure: (state) => (type) => {\n            return state._Structure[type].fields;\n        }\n    },\n    actions: {\n        init({ dispatch, rootGetters }) {\n            console.log('init');\n            if (rootGetters['common/env/client']) {\n                rootGetters['common/env/client'].on('newblock', () => {\n                    dispatch('StoreUpdate');\n                });\n            }\n        },\n        resetState({ commit }) {\n            commit('RESET_STATE');\n        },\n        unsubscribe({ commit }, subscription) {\n            commit('UNSUBSCRIBE', subscription);\n        },\n        async StoreUpdate({ state, dispatch }) {\n            state._Subscriptions.forEach((subscription) => {\n                dispatch(subscription.action, subscription.payload);\n            });\n        },\n        async QueryProposal({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryProposal(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryProposal(key.proposal_id)).data;\n                commit('QUERY', { query: 'Proposal', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryProposal', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getProposal']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryProposal', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryProposals({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryProposals(query)).data : (await (await initQueryClient(rootGetters)).queryProposals()).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryProposals({ ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Proposals', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryProposals', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getProposals']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryProposals', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryVote({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryVote(key.proposal_id, key.voter, query)).data : (await (await initQueryClient(rootGetters)).queryVote(key.proposal_id, key.voter)).data;\n                commit('QUERY', { query: 'Vote', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryVote', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getVote']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryVote', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryVotes({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryVotes(key.proposal_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Votes', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryVotes', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getVotes']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryVotes', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryParams({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryParams(key.params_type, query)).data : (await (await initQueryClient(rootGetters)).queryParams(key.params_type)).data;\n                commit('QUERY', { query: 'Params', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryParams', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getParams']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryParams', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDeposit({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDeposit(key.proposal_id, key.depositor, query)).data : (await (await initQueryClient(rootGetters)).queryDeposit(key.proposal_id, key.depositor)).data;\n                commit('QUERY', { query: 'Deposit', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDeposit', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDeposit']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDeposit', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDeposits({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryDeposits(key.proposal_id, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Deposits', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDeposits', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDeposits']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDeposits', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryTallyResult({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryTallyResult(key.proposal_id, query)).data : (await (await initQueryClient(rootGetters)).queryTallyResult(key.proposal_id)).data;\n                commit('QUERY', { query: 'TallyResult', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryTallyResult', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getTallyResult']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryTallyResult', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async sendMsgVote({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgVote(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgVote:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgVote:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgSubmitProposal({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitProposal(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgDeposit({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDeposit(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDeposit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDeposit:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async MsgVote({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgVote(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgVote:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgVote:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgSubmitProposal({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgSubmitProposal(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgSubmitProposal:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgDeposit({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDeposit(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDeposit:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDeposit:Create', 'Could not create message.');\n                }\n            }\n        },\n    }\n};\n"]}]}