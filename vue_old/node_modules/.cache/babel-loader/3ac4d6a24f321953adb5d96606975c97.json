{"remainingRequest":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js!/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.staking.v1beta1/index.js","dependencies":[{"path":"/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.staking.v1beta1/index.js","mtime":1620801165479},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/starport-gravity/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS91YnVudHUvc3RhcnBvcnQtZ3Jhdml0eS92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90eXBlb2YiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiL2hvbWUvdWJ1bnR1L3N0YXJwb3J0LWdyYXZpdHkvdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3VidW50dS9zdGFycG9ydC1ncmF2aXR5L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaXMtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgeyB0eENsaWVudCwgcXVlcnlDbGllbnQgfSBmcm9tICcuL21vZHVsZSc7IC8vIEB0cy1pZ25vcmUKCmltcG9ydCB7IFNwVnVleEVycm9yIH0gZnJvbSAnQHN0YXJwb3J0L3Z1ZXgnOwppbXBvcnQgeyBIaXN0b3JpY2FsSW5mbyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IENvbW1pc3Npb25SYXRlcyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IENvbW1pc3Npb24gfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmciOwppbXBvcnQgeyBEZXNjcmlwdGlvbiB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IFZhbEFkZHJlc3NlcyB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IERWUGFpciB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IERWUGFpcnMgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmciOwppbXBvcnQgeyBEVlZUcmlwbGV0IH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgRFZWVHJpcGxldHMgfSBmcm9tICIuL21vZHVsZS90eXBlcy9jb3Ntb3Mvc3Rha2luZy92MWJldGExL3N0YWtpbmciOwppbXBvcnQgeyBEZWxlZ2F0aW9uIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgVW5ib25kaW5nRGVsZWdhdGlvbiB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IFVuYm9uZGluZ0RlbGVnYXRpb25FbnRyeSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IFJlZGVsZWdhdGlvbkVudHJ5IH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgUmVkZWxlZ2F0aW9uIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgUGFyYW1zIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgRGVsZWdhdGlvblJlc3BvbnNlIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZSB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IFJlZGVsZWdhdGlvblJlc3BvbnNlIH0gZnJvbSAiLi9tb2R1bGUvdHlwZXMvY29zbW9zL3N0YWtpbmcvdjFiZXRhMS9zdGFraW5nIjsKaW1wb3J0IHsgUG9vbCB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvc3Rha2luZyI7CmltcG9ydCB7IExhc3RWYWxpZGF0b3JQb3dlciB9IGZyb20gIi4vbW9kdWxlL3R5cGVzL2Nvc21vcy9zdGFraW5nL3YxYmV0YTEvZ2VuZXNpcyI7CgpmdW5jdGlvbiBpbml0VHhDbGllbnQoX3gpIHsKICByZXR1cm4gX2luaXRUeENsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfaW5pdFR4Q2xpZW50KCkgewogIF9pbml0VHhDbGllbnQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNih2dWV4R2V0dGVycykgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNiQoX2NvbnRleHQyNikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNi5wcmV2ID0gX2NvbnRleHQyNi5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiB0eENsaWVudCh2dWV4R2V0dGVyc1snY29tbW9uL3dhbGxldC9zaWduZXInXSwgewogICAgICAgICAgICAgIGFkZHI6IHZ1ZXhHZXR0ZXJzWydjb21tb24vZW52L2FwaVRlbmRlcm1pbnQnXQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI2LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQyNi5zZW50KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMjYpOwogIH0pKTsKICByZXR1cm4gX2luaXRUeENsaWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBpbml0UXVlcnlDbGllbnQoX3gyKSB7CiAgcmV0dXJuIF9pbml0UXVlcnlDbGllbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2luaXRRdWVyeUNsaWVudCgpIHsKICBfaW5pdFF1ZXJ5Q2xpZW50ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcodnVleEdldHRlcnMpIHsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjcucHJldiA9IF9jb250ZXh0MjcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDI3Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gcXVlcnlDbGllbnQoewogICAgICAgICAgICAgIGFkZHI6IHZ1ZXhHZXR0ZXJzWydjb21tb24vZW52L2FwaUNvc21vcyddCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjcuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDI3LnNlbnQpOwoKICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyNyk7CiAgfSkpOwogIHJldHVybiBfaW5pdFF1ZXJ5Q2xpZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIGdldFN0cnVjdHVyZSh0ZW1wbGF0ZSkgewogIHZhciBzdHJ1Y3R1cmUgPSB7CiAgICBmaWVsZHM6IFtdCiAgfTsKCiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0ZW1wbGF0ZSk7IF9pIDwgX09iamVjdCRlbnRyaWVzLmxlbmd0aDsgX2krKykgewogICAgdmFyIF9PYmplY3QkZW50cmllcyRfaSA9IF9zbGljZWRUb0FycmF5KF9PYmplY3QkZW50cmllc1tfaV0sIDIpLAogICAgICAgIGtleSA9IF9PYmplY3QkZW50cmllcyRfaVswXSwKICAgICAgICB2YWx1ZSA9IF9PYmplY3QkZW50cmllcyRfaVsxXTsKCiAgICB2YXIgZmllbGQgPSB7fTsKICAgIGZpZWxkLm5hbWUgPSBrZXk7CiAgICBmaWVsZC50eXBlID0gX3R5cGVvZih2YWx1ZSk7CiAgICBzdHJ1Y3R1cmUuZmllbGRzLnB1c2goZmllbGQpOwogIH0KCiAgcmV0dXJuIHN0cnVjdHVyZTsKfQoKdmFyIGdldERlZmF1bHRTdGF0ZSA9IGZ1bmN0aW9uIGdldERlZmF1bHRTdGF0ZSgpIHsKICByZXR1cm4gewogICAgVmFsaWRhdG9yczoge30sCiAgICBWYWxpZGF0b3I6IHt9LAogICAgVmFsaWRhdG9yRGVsZWdhdGlvbnM6IHt9LAogICAgVmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnM6IHt9LAogICAgRGVsZWdhdGlvbjoge30sCiAgICBVbmJvbmRpbmdEZWxlZ2F0aW9uOiB7fSwKICAgIERlbGVnYXRvckRlbGVnYXRpb25zOiB7fSwKICAgIERlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zOiB7fSwKICAgIFJlZGVsZWdhdGlvbnM6IHt9LAogICAgRGVsZWdhdG9yVmFsaWRhdG9yczoge30sCiAgICBEZWxlZ2F0b3JWYWxpZGF0b3I6IHt9LAogICAgSGlzdG9yaWNhbEluZm86IHt9LAogICAgUG9vbDoge30sCiAgICBQYXJhbXM6IHt9LAogICAgX1N0cnVjdHVyZTogewogICAgICBIaXN0b3JpY2FsSW5mbzogZ2V0U3RydWN0dXJlKEhpc3RvcmljYWxJbmZvLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIENvbW1pc3Npb25SYXRlczogZ2V0U3RydWN0dXJlKENvbW1pc3Npb25SYXRlcy5mcm9tUGFydGlhbCh7fSkpLAogICAgICBDb21taXNzaW9uOiBnZXRTdHJ1Y3R1cmUoQ29tbWlzc2lvbi5mcm9tUGFydGlhbCh7fSkpLAogICAgICBEZXNjcmlwdGlvbjogZ2V0U3RydWN0dXJlKERlc2NyaXB0aW9uLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFZhbGlkYXRvcjogZ2V0U3RydWN0dXJlKFZhbGlkYXRvci5mcm9tUGFydGlhbCh7fSkpLAogICAgICBWYWxBZGRyZXNzZXM6IGdldFN0cnVjdHVyZShWYWxBZGRyZXNzZXMuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgRFZQYWlyOiBnZXRTdHJ1Y3R1cmUoRFZQYWlyLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIERWUGFpcnM6IGdldFN0cnVjdHVyZShEVlBhaXJzLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIERWVlRyaXBsZXQ6IGdldFN0cnVjdHVyZShEVlZUcmlwbGV0LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIERWVlRyaXBsZXRzOiBnZXRTdHJ1Y3R1cmUoRFZWVHJpcGxldHMuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgRGVsZWdhdGlvbjogZ2V0U3RydWN0dXJlKERlbGVnYXRpb24uZnJvbVBhcnRpYWwoe30pKSwKICAgICAgVW5ib25kaW5nRGVsZWdhdGlvbjogZ2V0U3RydWN0dXJlKFVuYm9uZGluZ0RlbGVnYXRpb24uZnJvbVBhcnRpYWwoe30pKSwKICAgICAgVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5OiBnZXRTdHJ1Y3R1cmUoVW5ib25kaW5nRGVsZWdhdGlvbkVudHJ5LmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFJlZGVsZWdhdGlvbkVudHJ5OiBnZXRTdHJ1Y3R1cmUoUmVkZWxlZ2F0aW9uRW50cnkuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgUmVkZWxlZ2F0aW9uOiBnZXRTdHJ1Y3R1cmUoUmVkZWxlZ2F0aW9uLmZyb21QYXJ0aWFsKHt9KSksCiAgICAgIFBhcmFtczogZ2V0U3RydWN0dXJlKFBhcmFtcy5mcm9tUGFydGlhbCh7fSkpLAogICAgICBEZWxlZ2F0aW9uUmVzcG9uc2U6IGdldFN0cnVjdHVyZShEZWxlZ2F0aW9uUmVzcG9uc2UuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgUmVkZWxlZ2F0aW9uRW50cnlSZXNwb25zZTogZ2V0U3RydWN0dXJlKFJlZGVsZWdhdGlvbkVudHJ5UmVzcG9uc2UuZnJvbVBhcnRpYWwoe30pKSwKICAgICAgUmVkZWxlZ2F0aW9uUmVzcG9uc2U6IGdldFN0cnVjdHVyZShSZWRlbGVnYXRpb25SZXNwb25zZS5mcm9tUGFydGlhbCh7fSkpLAogICAgICBQb29sOiBnZXRTdHJ1Y3R1cmUoUG9vbC5mcm9tUGFydGlhbCh7fSkpLAogICAgICBMYXN0VmFsaWRhdG9yUG93ZXI6IGdldFN0cnVjdHVyZShMYXN0VmFsaWRhdG9yUG93ZXIuZnJvbVBhcnRpYWwoe30pKQogICAgfSwKICAgIF9TdWJzY3JpcHRpb25zOiBuZXcgU2V0KCkKICB9Owp9OyAvLyBpbml0aWFsIHN0YXRlCgoKdmFyIHN0YXRlID0gZ2V0RGVmYXVsdFN0YXRlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IHsKICAgIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBnZXREZWZhdWx0U3RhdGUoKSk7CiAgICB9LAogICAgUVVFUlk6IGZ1bmN0aW9uIFFVRVJZKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBxdWVyeSA9IF9yZWYucXVlcnksCiAgICAgICAgICBrZXkgPSBfcmVmLmtleSwKICAgICAgICAgIHZhbHVlID0gX3JlZi52YWx1ZTsKICAgICAgc3RhdGVbcXVlcnldW0pTT04uc3RyaW5naWZ5KGtleSldID0gdmFsdWU7CiAgICB9LAogICAgU1VCU0NSSUJFOiBmdW5jdGlvbiBTVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9ucy5hZGQoc3Vic2NyaXB0aW9uKTsKICAgIH0sCiAgICBVTlNVQlNDUklCRTogZnVuY3Rpb24gVU5TVUJTQ1JJQkUoc3RhdGUsIHN1YnNjcmlwdGlvbikgewogICAgICBzdGF0ZS5fU3Vic2NyaXB0aW9uc1siZGVsZXRlIl0oc3Vic2NyaXB0aW9uKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldFZhbGlkYXRvcnM6IGZ1bmN0aW9uIGdldFZhbGlkYXRvcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFZhbGlkYXRvcnMkSlNPOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRWYWxpZGF0b3JzJEpTTyA9IHN0YXRlLlZhbGlkYXRvcnNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRWYWxpZGF0b3JzJEpTTyAhPT0gdm9pZCAwID8gX3N0YXRlJFZhbGlkYXRvcnMkSlNPIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0VmFsaWRhdG9yOiBmdW5jdGlvbiBnZXRWYWxpZGF0b3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFZhbGlkYXRvciRKU09OOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRWYWxpZGF0b3IkSlNPTiA9IHN0YXRlLlZhbGlkYXRvcltKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJFZhbGlkYXRvciRKU09OICE9PSB2b2lkIDAgPyBfc3RhdGUkVmFsaWRhdG9yJEpTT04gOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRWYWxpZGF0b3JEZWxlZ2F0aW9uczogZnVuY3Rpb24gZ2V0VmFsaWRhdG9yRGVsZWdhdGlvbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJFZhbGlkYXRvckRlbGVnOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSRWYWxpZGF0b3JEZWxlZyA9IHN0YXRlLlZhbGlkYXRvckRlbGVnYXRpb25zW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkVmFsaWRhdG9yRGVsZWcgIT09IHZvaWQgMCA/IF9zdGF0ZSRWYWxpZGF0b3JEZWxlZyA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zOiBmdW5jdGlvbiBnZXRWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkVmFsaWRhdG9yVW5ib247CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJFZhbGlkYXRvclVuYm9uID0gc3RhdGUuVmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRWYWxpZGF0b3JVbmJvbiAhPT0gdm9pZCAwID8gX3N0YXRlJFZhbGlkYXRvclVuYm9uIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGVsZWdhdGlvbjogZnVuY3Rpb24gZ2V0RGVsZWdhdGlvbihzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkRGVsZWdhdGlvbiRKU087CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJERlbGVnYXRpb24kSlNPID0gc3RhdGUuRGVsZWdhdGlvbltKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJERlbGVnYXRpb24kSlNPICE9PSB2b2lkIDAgPyBfc3RhdGUkRGVsZWdhdGlvbiRKU08gOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRVbmJvbmRpbmdEZWxlZ2F0aW9uOiBmdW5jdGlvbiBnZXRVbmJvbmRpbmdEZWxlZ2F0aW9uKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRVbmJvbmRpbmdEZWxlZzsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkVW5ib25kaW5nRGVsZWcgPSBzdGF0ZS5VbmJvbmRpbmdEZWxlZ2F0aW9uW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkVW5ib25kaW5nRGVsZWcgIT09IHZvaWQgMCA/IF9zdGF0ZSRVbmJvbmRpbmdEZWxlZyA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldERlbGVnYXRvckRlbGVnYXRpb25zOiBmdW5jdGlvbiBnZXREZWxlZ2F0b3JEZWxlZ2F0aW9ucyhzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfc3RhdGUkRGVsZWdhdG9yRGVsZWc7CgogICAgICAgIHZhciBwYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAgICAgICBpZiAoIXBhcmFtcy5xdWVyeSkgewogICAgICAgICAgcGFyYW1zLnF1ZXJ5ID0gbnVsbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoX3N0YXRlJERlbGVnYXRvckRlbGVnID0gc3RhdGUuRGVsZWdhdG9yRGVsZWdhdGlvbnNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSREZWxlZ2F0b3JEZWxlZyAhPT0gdm9pZCAwID8gX3N0YXRlJERlbGVnYXRvckRlbGVnIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnM6IGZ1bmN0aW9uIGdldERlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSREZWxlZ2F0b3JVbmJvbjsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkRGVsZWdhdG9yVW5ib24gPSBzdGF0ZS5EZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9uc1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJERlbGVnYXRvclVuYm9uICE9PSB2b2lkIDAgPyBfc3RhdGUkRGVsZWdhdG9yVW5ib24gOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRSZWRlbGVnYXRpb25zOiBmdW5jdGlvbiBnZXRSZWRlbGVnYXRpb25zKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRSZWRlbGVnYXRpb25zJDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUmVkZWxlZ2F0aW9ucyQgPSBzdGF0ZS5SZWRlbGVnYXRpb25zW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUmVkZWxlZ2F0aW9ucyQgIT09IHZvaWQgMCA/IF9zdGF0ZSRSZWRlbGVnYXRpb25zJCA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldERlbGVnYXRvclZhbGlkYXRvcnM6IGZ1bmN0aW9uIGdldERlbGVnYXRvclZhbGlkYXRvcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJERlbGVnYXRvclZhbGlkOwoKICAgICAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKCiAgICAgICAgaWYgKCFwYXJhbXMucXVlcnkpIHsKICAgICAgICAgIHBhcmFtcy5xdWVyeSA9IG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKF9zdGF0ZSREZWxlZ2F0b3JWYWxpZCA9IHN0YXRlLkRlbGVnYXRvclZhbGlkYXRvcnNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSREZWxlZ2F0b3JWYWxpZCAhPT0gdm9pZCAwID8gX3N0YXRlJERlbGVnYXRvclZhbGlkIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0RGVsZWdhdG9yVmFsaWRhdG9yOiBmdW5jdGlvbiBnZXREZWxlZ2F0b3JWYWxpZGF0b3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3N0YXRlJERlbGVnYXRvclZhbGlkMjsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkRGVsZWdhdG9yVmFsaWQyID0gc3RhdGUuRGVsZWdhdG9yVmFsaWRhdG9yW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkRGVsZWdhdG9yVmFsaWQyICE9PSB2b2lkIDAgPyBfc3RhdGUkRGVsZWdhdG9yVmFsaWQyIDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0SGlzdG9yaWNhbEluZm86IGZ1bmN0aW9uIGdldEhpc3RvcmljYWxJbmZvKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRIaXN0b3JpY2FsSW5mbzsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkSGlzdG9yaWNhbEluZm8gPSBzdGF0ZS5IaXN0b3JpY2FsSW5mb1tKU09OLnN0cmluZ2lmeShwYXJhbXMpXSkgIT09IG51bGwgJiYgX3N0YXRlJEhpc3RvcmljYWxJbmZvICE9PSB2b2lkIDAgPyBfc3RhdGUkSGlzdG9yaWNhbEluZm8gOiB7fTsKICAgICAgfTsKICAgIH0sCiAgICBnZXRQb29sOiBmdW5jdGlvbiBnZXRQb29sKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQb29sJEpTT04kc3RyaTsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUG9vbCRKU09OJHN0cmkgPSBzdGF0ZS5Qb29sW0pTT04uc3RyaW5naWZ5KHBhcmFtcyldKSAhPT0gbnVsbCAmJiBfc3RhdGUkUG9vbCRKU09OJHN0cmkgIT09IHZvaWQgMCA/IF9zdGF0ZSRQb29sJEpTT04kc3RyaSA6IHt9OwogICAgICB9OwogICAgfSwKICAgIGdldFBhcmFtczogZnVuY3Rpb24gZ2V0UGFyYW1zKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9zdGF0ZSRQYXJhbXMkSlNPTiRzdDsKCiAgICAgICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CgogICAgICAgIGlmICghcGFyYW1zLnF1ZXJ5KSB7CiAgICAgICAgICBwYXJhbXMucXVlcnkgPSBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIChfc3RhdGUkUGFyYW1zJEpTT04kc3QgPSBzdGF0ZS5QYXJhbXNbSlNPTi5zdHJpbmdpZnkocGFyYW1zKV0pICE9PSBudWxsICYmIF9zdGF0ZSRQYXJhbXMkSlNPTiRzdCAhPT0gdm9pZCAwID8gX3N0YXRlJFBhcmFtcyRKU09OJHN0IDoge307CiAgICAgIH07CiAgICB9LAogICAgZ2V0VHlwZVN0cnVjdHVyZTogZnVuY3Rpb24gZ2V0VHlwZVN0cnVjdHVyZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gc3RhdGUuX1N0cnVjdHVyZVt0eXBlXS5maWVsZHM7CiAgICAgIH07CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KF9yZWYyKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmMi5yb290R2V0dGVyczsKICAgICAgY29uc29sZS5sb2coJ2luaXQnKTsKCiAgICAgIGlmIChyb290R2V0dGVyc1snY29tbW9uL2Vudi9jbGllbnQnXSkgewogICAgICAgIHJvb3RHZXR0ZXJzWydjb21tb24vZW52L2NsaWVudCddLm9uKCduZXdibG9jaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRpc3BhdGNoKCdTdG9yZVVwZGF0ZScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzZXRTdGF0ZTogZnVuY3Rpb24gcmVzZXRTdGF0ZShfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7CiAgICB9LAogICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKF9yZWY0LCBzdWJzY3JpcHRpb24pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgY29tbWl0KCdVTlNVQlNDUklCRScsIHN1YnNjcmlwdGlvbik7CiAgICB9LAogICAgU3RvcmVVcGRhdGU6IGZ1bmN0aW9uIFN0b3JlVXBkYXRlKF9yZWY1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHN0YXRlLCBkaXNwYXRjaDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdGF0ZSA9IF9yZWY1LnN0YXRlLCBkaXNwYXRjaCA9IF9yZWY1LmRpc3BhdGNoOwoKICAgICAgICAgICAgICAgIHN0YXRlLl9TdWJzY3JpcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikgewogICAgICAgICAgICAgICAgICBkaXNwYXRjaChzdWJzY3JpcHRpb24uYWN0aW9uLCBzdWJzY3JpcHRpb24ucGF5bG9hZCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5VmFsaWRhdG9yczogZnVuY3Rpb24gUXVlcnlWYWxpZGF0b3JzKF9yZWY2LCBfcmVmNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjckb3B0aW9ucywgX3JlZjckb3B0aW9ucyRzdWJzY3JpLCBzdWJzY3JpYmUsIF9yZWY3JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjckcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRWYWxpZGF0b3IsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2kyLCBfT2JqZWN0JGtleXMsIHByb3A7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmNi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmNi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjckb3B0aW9ucyA9IF9yZWY3Lm9wdGlvbnMsIF9yZWY3JG9wdGlvbnMkc3Vic2NyaSA9IF9yZWY3JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmNyRvcHRpb25zJHN1YnNjcmkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjckb3B0aW9ucyRzdWJzY3JpLCBfcmVmNyRvcHRpb25zJGFsbCA9IF9yZWY3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmNyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmNyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjcucGFyYW1zKSwgX3JlZjckcXVlcnkgPSBfcmVmNy5xdWVyeSwgcXVlcnkgPSBfcmVmNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY3JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeVZhbGlkYXRvcnMocXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDIuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc2VudC5xdWVyeVZhbGlkYXRvcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0Mi50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zZW50LnF1ZXJ5VmFsaWRhdG9ycyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0Mi5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTIgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pMiA8IF9PYmplY3Qka2V5cy5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXNbX2kyXTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1ZhbGlkYXRvcnMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlWYWxpZGF0b3JzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRWYWxpZGF0b3IgPSBnZXR0ZXJzWydnZXRWYWxpZGF0b3JzJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFZhbGlkYXRvciAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0VmFsaWRhdG9yIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MSA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVZhbGlkYXRvcnMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5VmFsaWRhdG9yOiBmdW5jdGlvbiBRdWVyeVZhbGlkYXRvcihfcmVmOCwgX3JlZjkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWY5JG9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSwgc3Vic2NyaWJlLCBfcmVmOSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWY5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0VmFsaWRhdG9yMiwgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjgucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmOC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjkkb3B0aW9ucyA9IF9yZWY5Lm9wdGlvbnMsIF9yZWY5JG9wdGlvbnMkc3Vic2NyaSA9IF9yZWY5JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmOSRvcHRpb25zJHN1YnNjcmkgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjkkb3B0aW9ucyRzdWJzY3JpLCBfcmVmOSRvcHRpb25zJGFsbCA9IF9yZWY5JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmOSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjkucGFyYW1zKSwgX3JlZjkkcXVlcnkgPSBfcmVmOS5xdWVyeSwgcXVlcnkgPSBfcmVmOSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWY5JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc2VudC5xdWVyeVZhbGlkYXRvcihrZXkudmFsaWRhdG9yX2FkZHIsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnNlbnQucXVlcnlWYWxpZGF0b3Ioa2V5LnZhbGlkYXRvcl9hZGRyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0My5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0My50MDsKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnVmFsaWRhdG9yJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5VmFsaWRhdG9yJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRWYWxpZGF0b3IyID0gZ2V0dGVyc1snZ2V0VmFsaWRhdG9yJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFZhbGlkYXRvcjIgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFZhbGlkYXRvcjIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQxID0gX2NvbnRleHQzWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5VmFsaWRhdG9yJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zOiBmdW5jdGlvbiBRdWVyeVZhbGlkYXRvckRlbGVnYXRpb25zKF9yZWYxMCwgX3JlZjExKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMTEkb3B0aW9ucywgX3JlZjExJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYxMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYxMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFZhbGlkYXRvcjMsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2kzLCBfT2JqZWN0JGtleXMyLCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjEwLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTAucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTAuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxMSRvcHRpb25zID0gX3JlZjExLm9wdGlvbnMsIF9yZWYxMSRvcHRpb25zJHN1YnNjciA9IF9yZWYxMSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjExJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxMSRvcHRpb25zJHN1YnNjciwgX3JlZjExJG9wdGlvbnMkYWxsID0gX3JlZjExJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTEkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjExJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTEucGFyYW1zKSwgX3JlZjExJHF1ZXJ5ID0gX3JlZjExLnF1ZXJ5LCBxdWVyeSA9IF9yZWYxMSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxMSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnNlbnQucXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9ucyhrZXkudmFsaWRhdG9yX2FkZHIsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnNlbnQucXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9ucyhrZXkudmFsaWRhdG9yX2FkZHIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ0LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCEoYWxsICYmIHZhbHVlLnBhZ2luYXRpb24gJiYgdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5ICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnNlbnQucXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9ucyhrZXkudmFsaWRhdG9yX2FkZHIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQ0LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pMyA9IDAsIF9PYmplY3Qka2V5czIgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pMyA8IF9PYmplY3Qka2V5czIubGVuZ3RoOyBfaTMrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzMltfaTNdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnVmFsaWRhdG9yRGVsZWdhdGlvbnMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlWYWxpZGF0b3JEZWxlZ2F0aW9ucycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0VmFsaWRhdG9yMyA9IGdldHRlcnNbJ2dldFZhbGlkYXRvckRlbGVnYXRpb25zJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFZhbGlkYXRvcjMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFZhbGlkYXRvcjMgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDQucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnQxID0gX2NvbnRleHQ0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5VmFsaWRhdG9yRGVsZWdhdGlvbnMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnM6IGZ1bmN0aW9uIFF1ZXJ5VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnMoX3JlZjEyLCBfcmVmMTMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxMyRvcHRpb25zLCBfcmVmMTMkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjEzJG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjEzJHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0VmFsaWRhdG9yNCwgdmFsdWUsIG5leHRfdmFsdWVzLCBfaTQsIF9PYmplY3Qka2V5czMsIHByb3A7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMTIuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYxMi5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYxMi5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjEzJG9wdGlvbnMgPSBfcmVmMTMub3B0aW9ucywgX3JlZjEzJG9wdGlvbnMkc3Vic2NyID0gX3JlZjEzJG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMTMkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjEzJG9wdGlvbnMkc3Vic2NyLCBfcmVmMTMkb3B0aW9ucyRhbGwgPSBfcmVmMTMkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYxMyRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTMkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYxMy5wYXJhbXMpLCBfcmVmMTMkcXVlcnkgPSBfcmVmMTMucXVlcnksIHF1ZXJ5ID0gX3JlZjEzJHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjEzJHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc2VudC5xdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zKGtleS52YWxpZGF0b3JfYWRkciwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDUuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc2VudC5xdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zKGtleS52YWxpZGF0b3JfYWRkcik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDUuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDUudDA7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIShhbGwgJiYgdmFsdWUucGFnaW5hdGlvbiAmJiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc2VudC5xdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zKGtleS52YWxpZGF0b3JfYWRkciwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdwYWdpbmF0aW9uLmtleSc6IHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgbmV4dF92YWx1ZXMgPSBfY29udGV4dDUuc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2k0ID0gMCwgX09iamVjdCRrZXlzMyA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2k0IDwgX09iamVjdCRrZXlzMy5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXMzW19pNF07CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVZhbGlkYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRWYWxpZGF0b3I0ID0gZ2V0dGVyc1snZ2V0VmFsaWRhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0VmFsaWRhdG9yNCAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0VmFsaWRhdG9yNCA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDEgPSBfY29udGV4dDVbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlWYWxpZGF0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1syLCAzMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlEZWxlZ2F0aW9uOiBmdW5jdGlvbiBRdWVyeURlbGVnYXRpb24oX3JlZjE0LCBfcmVmMTUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxNSRvcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE1JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE1JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0RGVsZWdhdGlvLCB2YWx1ZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxNC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE0LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE0LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTUkb3B0aW9ucyA9IF9yZWYxNS5vcHRpb25zLCBfcmVmMTUkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTUkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxNSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTUkb3B0aW9ucyRzdWJzY3IsIF9yZWYxNSRvcHRpb25zJGFsbCA9IF9yZWYxNSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE1JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE1LnBhcmFtcyksIF9yZWYxNSRxdWVyeSA9IF9yZWYxNS5xdWVyeSwgcXVlcnkgPSBfcmVmMTUkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTUkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zZW50LnF1ZXJ5RGVsZWdhdGlvbihrZXkudmFsaWRhdG9yX2FkZHIsIGtleS5kZWxlZ2F0b3JfYWRkciwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDYuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc2VudC5xdWVyeURlbGVnYXRpb24oa2V5LnZhbGlkYXRvcl9hZGRyLCBrZXkuZGVsZWdhdG9yX2FkZHIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ2LnQwID0gX2NvbnRleHQ2LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ2LnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdEZWxlZ2F0aW9uJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5RGVsZWdhdGlvbicsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0RGVsZWdhdGlvID0gZ2V0dGVyc1snZ2V0RGVsZWdhdGlvbiddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXREZWxlZ2F0aW8gIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldERlbGVnYXRpbyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDEgPSBfY29udGV4dDZbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlEZWxlZ2F0aW9uJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb246IGZ1bmN0aW9uIFF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvbihfcmVmMTYsIF9yZWYxNykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNygpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjE3JG9wdGlvbnMsIF9yZWYxNyRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMTckb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMTckcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRVbmJvbmRpbmcsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjE2LmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMTYucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMTYuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYxNyRvcHRpb25zID0gX3JlZjE3Lm9wdGlvbnMsIF9yZWYxNyRvcHRpb25zJHN1YnNjciA9IF9yZWYxNyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjE3JG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxNyRvcHRpb25zJHN1YnNjciwgX3JlZjE3JG9wdGlvbnMkYWxsID0gX3JlZjE3JG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMTckb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjE3JG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMTcucGFyYW1zKSwgX3JlZjE3JHF1ZXJ5ID0gX3JlZjE3LnF1ZXJ5LCBxdWVyeSA9IF9yZWYxNyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYxNyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnNlbnQucXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uKGtleS52YWxpZGF0b3JfYWRkciwga2V5LmRlbGVnYXRvcl9hZGRyLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0Ny5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zZW50LnF1ZXJ5VW5ib25kaW5nRGVsZWdhdGlvbihrZXkudmFsaWRhdG9yX2FkZHIsIGtleS5kZWxlZ2F0b3JfYWRkcik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDcudDAgPSBfY29udGV4dDcuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDcudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1VuYm9uZGluZ0RlbGVnYXRpb24nLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlVbmJvbmRpbmdEZWxlZ2F0aW9uJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRVbmJvbmRpbmcgPSBnZXR0ZXJzWydnZXRVbmJvbmRpbmdEZWxlZ2F0aW9uJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFVuYm9uZGluZyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0VW5ib25kaW5nIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MSA9IF9jb250ZXh0N1siY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVVuYm9uZGluZ0RlbGVnYXRpb24nLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnM6IGZ1bmN0aW9uIFF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnMoX3JlZjE4LCBfcmVmMTkpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcm9vdEdldHRlcnMsIGdldHRlcnMsIF9yZWYxOSRvcHRpb25zLCBfcmVmMTkkb3B0aW9ucyRzdWJzY3IsIHN1YnNjcmliZSwgX3JlZjE5JG9wdGlvbnMkYWxsLCBhbGwsIGtleSwgX3JlZjE5JHF1ZXJ5LCBxdWVyeSwgX2dldHRlcnMkZ2V0RGVsZWdhdG9yLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pNSwgX09iamVjdCRrZXlzNCwgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ4LnByZXYgPSBfY29udGV4dDgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYxOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjE4LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjE4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMTkkb3B0aW9ucyA9IF9yZWYxOS5vcHRpb25zLCBfcmVmMTkkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMTkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYxOSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMTkkb3B0aW9ucyRzdWJzY3IsIF9yZWYxOSRvcHRpb25zJGFsbCA9IF9yZWYxOSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjE5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYxOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjE5LnBhcmFtcyksIF9yZWYxOSRxdWVyeSA9IF9yZWYxOS5xdWVyeSwgcXVlcnkgPSBfcmVmMTkkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMTkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDgucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnMoa2V5LmRlbGVnYXRvcl9hZGRyLCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnMoa2V5LmRlbGVnYXRvcl9hZGRyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MCA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0OC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zZW50LnF1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnMoa2V5LmRlbGVnYXRvcl9hZGRyLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0OC5zZW50LmRhdGE7CgogICAgICAgICAgICAgICAgZm9yIChfaTUgPSAwLCBfT2JqZWN0JGtleXM0ID0gT2JqZWN0LmtleXMobmV4dF92YWx1ZXMpOyBfaTUgPCBfT2JqZWN0JGtleXM0Lmxlbmd0aDsgX2k1KyspIHsKICAgICAgICAgICAgICAgICAgcHJvcCA9IF9PYmplY3Qka2V5czRbX2k1XTsKCiAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5leHRfdmFsdWVzW3Byb3BdKSkgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2YWx1ZVtwcm9wXSksIF90b0NvbnN1bWFibGVBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BdID0gbmV4dF92YWx1ZXNbcHJvcF07CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0RlbGVnYXRvckRlbGVnYXRpb25zJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5RGVsZWdhdG9yRGVsZWdhdGlvbnMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldERlbGVnYXRvciA9IGdldHRlcnNbJ2dldERlbGVnYXRvckRlbGVnYXRpb25zJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldERlbGVnYXRvciAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0RGVsZWdhdG9yIDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAzMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OC50MSA9IF9jb250ZXh0OFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeURlbGVnYXRvckRlbGVnYXRpb25zJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4LCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zOiBmdW5jdGlvbiBRdWVyeURlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zKF9yZWYyMCwgX3JlZjIxKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMjEkb3B0aW9ucywgX3JlZjIxJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYyMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYyMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldERlbGVnYXRvcjIsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2k2LCBfT2JqZWN0JGtleXM1LCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIwLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMjAucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMjAuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYyMSRvcHRpb25zID0gX3JlZjIxLm9wdGlvbnMsIF9yZWYyMSRvcHRpb25zJHN1YnNjciA9IF9yZWYyMSRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjIxJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyMSRvcHRpb25zJHN1YnNjciwgX3JlZjIxJG9wdGlvbnMkYWxsID0gX3JlZjIxJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMjEkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjIxJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMjEucGFyYW1zKSwgX3JlZjIxJHF1ZXJ5ID0gX3JlZjIxLnF1ZXJ5LCBxdWVyeSA9IF9yZWYyMSRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYyMSRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucyhrZXkuZGVsZWdhdG9yX2FkZHIsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucyhrZXkuZGVsZWdhdG9yX2FkZHIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQwID0gX2NvbnRleHQ5LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQ5LnQwOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgaWYgKCEoYWxsICYmIHZhbHVlLnBhZ2luYXRpb24gJiYgdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5ICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnNlbnQucXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucyhrZXkuZGVsZWdhdG9yX2FkZHIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcXVlcnkpLCB7fSwgewogICAgICAgICAgICAgICAgICAncGFnaW5hdGlvbi5rZXknOiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIG5leHRfdmFsdWVzID0gX2NvbnRleHQ5LnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pNiA9IDAsIF9PYmplY3Qka2V5czUgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pNiA8IF9PYmplY3Qka2V5czUubGVuZ3RoOyBfaTYrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzNVtfaTZdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnRGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlEZWxlZ2F0b3JVbmJvbmRpbmdEZWxlZ2F0aW9ucycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0RGVsZWdhdG9yMiA9IGdldHRlcnNbJ2dldERlbGVnYXRvclVuYm9uZGluZ0RlbGVnYXRpb25zJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldERlbGVnYXRvcjIgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldERlbGVnYXRvcjIgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ5LnQxID0gX2NvbnRleHQ5WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5RGVsZWdhdG9yVW5ib25kaW5nRGVsZWdhdGlvbnMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMzU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5UmVkZWxlZ2F0aW9uczogZnVuY3Rpb24gUXVlcnlSZWRlbGVnYXRpb25zKF9yZWYyMiwgX3JlZjIzKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjIzJG9wdGlvbnMsIF9yZWYyMyRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMjMkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMjMkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRSZWRlbGVnYXQsIHZhbHVlLCBuZXh0X3ZhbHVlcywgX2k3LCBfT2JqZWN0JGtleXM2LCBwcm9wOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyMi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjIyLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjIyLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMjMkb3B0aW9ucyA9IF9yZWYyMy5vcHRpb25zLCBfcmVmMjMkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMjMkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYyMyRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjMkb3B0aW9ucyRzdWJzY3IsIF9yZWYyMyRvcHRpb25zJGFsbCA9IF9yZWYyMyRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjIzJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyMyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjIzLnBhcmFtcyksIF9yZWYyMyRxdWVyeSA9IF9yZWYyMy5xdWVyeSwgcXVlcnkgPSBfcmVmMjMkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMjMkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnNlbnQucXVlcnlSZWRlbGVnYXRpb25zKGtleS5kZWxlZ2F0b3JfYWRkciwgcXVlcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQwID0gX2NvbnRleHQxMC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5xdWVyeVJlZGVsZWdhdGlvbnMoa2V5LmRlbGVnYXRvcl9hZGRyKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAudDAgPSBfY29udGV4dDEwLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIHZhbHVlID0gX2NvbnRleHQxMC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKGFsbCAmJiB2YWx1ZS5wYWdpbmF0aW9uICYmIHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleSAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAyNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc2VudC5xdWVyeVJlZGVsZWdhdGlvbnMoa2V5LmRlbGVnYXRvcl9hZGRyLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHF1ZXJ5KSwge30sIHsKICAgICAgICAgICAgICAgICAgJ3BhZ2luYXRpb24ua2V5JzogdmFsdWUucGFnaW5hdGlvbi5uZXh0S2V5CiAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBuZXh0X3ZhbHVlcyA9IF9jb250ZXh0MTAuc2VudC5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAoX2k3ID0gMCwgX09iamVjdCRrZXlzNiA9IE9iamVjdC5rZXlzKG5leHRfdmFsdWVzKTsgX2k3IDwgX09iamVjdCRrZXlzNi5sZW5ndGg7IF9pNysrKSB7CiAgICAgICAgICAgICAgICAgIHByb3AgPSBfT2JqZWN0JGtleXM2W19pN107CgogICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXh0X3ZhbHVlc1twcm9wXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmFsdWVbcHJvcF0pLCBfdG9Db25zdW1hYmxlQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wXSA9IG5leHRfdmFsdWVzW3Byb3BdOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGNvbW1pdCgnUVVFUlknLCB7CiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiAnUmVkZWxlZ2F0aW9ucycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVJlZGVsZWdhdGlvbnMnLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRSZWRlbGVnYXQgPSBnZXR0ZXJzWydnZXRSZWRlbGVnYXRpb25zJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldFJlZGVsZWdhdCAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UmVkZWxlZ2F0IDoge30pOwoKICAgICAgICAgICAgICBjYXNlIDMxOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDEwLnQxID0gX2NvbnRleHQxMFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobmV3IFNwVnVleEVycm9yKCdRdWVyeUNsaWVudDpRdWVyeVJlZGVsZWdhdGlvbnMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMiwgMzFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIFF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yczogZnVuY3Rpb24gUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzKF9yZWYyNCwgX3JlZjI1KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMSgpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjI1JG9wdGlvbnMsIF9yZWYyNSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMjUkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMjUkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXREZWxlZ2F0b3IzLCB2YWx1ZSwgbmV4dF92YWx1ZXMsIF9pOCwgX09iamVjdCRrZXlzNywgcHJvcDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMSQoX2NvbnRleHQxMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDExLnByZXYgPSBfY29udGV4dDExLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMjQuY29tbWl0LCByb290R2V0dGVycyA9IF9yZWYyNC5yb290R2V0dGVycywgZ2V0dGVycyA9IF9yZWYyNC5nZXR0ZXJzOwogICAgICAgICAgICAgICAgX3JlZjI1JG9wdGlvbnMgPSBfcmVmMjUub3B0aW9ucywgX3JlZjI1JG9wdGlvbnMkc3Vic2NyID0gX3JlZjI1JG9wdGlvbnMuc3Vic2NyaWJlLCBzdWJzY3JpYmUgPSBfcmVmMjUkb3B0aW9ucyRzdWJzY3IgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjI1JG9wdGlvbnMkc3Vic2NyLCBfcmVmMjUkb3B0aW9ucyRhbGwgPSBfcmVmMjUkb3B0aW9ucy5hbGwsIGFsbCA9IF9yZWYyNSRvcHRpb25zJGFsbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjUkb3B0aW9ucyRhbGwsIGtleSA9IE9iamVjdC5hc3NpZ24oe30sIF9yZWYyNS5wYXJhbXMpLCBfcmVmMjUkcXVlcnkgPSBfcmVmMjUucXVlcnksIHF1ZXJ5ID0gX3JlZjI1JHF1ZXJ5ID09PSB2b2lkIDAgPyBudWxsIDogX3JlZjI1JHF1ZXJ5OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5wcmV2ID0gMjsKCiAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zZW50LnF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9ycyhrZXkuZGVsZWdhdG9yX2FkZHIsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MCA9IF9jb250ZXh0MTEuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnNlbnQucXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzKGtleS5kZWxlZ2F0b3JfYWRkcik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLnQwID0gX2NvbnRleHQxMS5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0MTEudDA7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIShhbGwgJiYgdmFsdWUucGFnaW5hdGlvbiAmJiB2YWx1ZS5wYWdpbmF0aW9uLm5leHRLZXkgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDExLnNlbnQucXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzKGtleS5kZWxlZ2F0b3JfYWRkciwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBxdWVyeSksIHt9LCB7CiAgICAgICAgICAgICAgICAgICdwYWdpbmF0aW9uLmtleSc6IHZhbHVlLnBhZ2luYXRpb24ubmV4dEtleQogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgbmV4dF92YWx1ZXMgPSBfY29udGV4dDExLnNlbnQuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKF9pOCA9IDAsIF9PYmplY3Qka2V5czcgPSBPYmplY3Qua2V5cyhuZXh0X3ZhbHVlcyk7IF9pOCA8IF9PYmplY3Qka2V5czcubGVuZ3RoOyBfaTgrKykgewogICAgICAgICAgICAgICAgICBwcm9wID0gX09iamVjdCRrZXlzN1tfaThdOwoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmV4dF92YWx1ZXNbcHJvcF0pKSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbHVlW3Byb3BdKSwgX3RvQ29uc3VtYWJsZUFycmF5KG5leHRfdmFsdWVzW3Byb3BdKSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcF0gPSBuZXh0X3ZhbHVlc1twcm9wXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0RlbGVnYXRvclZhbGlkYXRvcnMnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0RGVsZWdhdG9yMyA9IGdldHRlcnNbJ2dldERlbGVnYXRvclZhbGlkYXRvcnMnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0RGVsZWdhdG9yMyAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0RGVsZWdhdG9yMyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTEucHJldiA9IDMxOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMS50MSA9IF9jb250ZXh0MTFbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3JzJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTExLCBudWxsLCBbWzIsIDMxXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeURlbGVnYXRvclZhbGlkYXRvcjogZnVuY3Rpb24gUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3IoX3JlZjI2LCBfcmVmMjcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMjckb3B0aW9ucywgX3JlZjI3JG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYyNyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYyNyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldERlbGVnYXRvcjQsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyNi5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjI2LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjI2LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMjckb3B0aW9ucyA9IF9yZWYyNy5vcHRpb25zLCBfcmVmMjckb3B0aW9ucyRzdWJzY3IgPSBfcmVmMjckb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYyNyRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjckb3B0aW9ucyRzdWJzY3IsIF9yZWYyNyRvcHRpb25zJGFsbCA9IF9yZWYyNyRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjI3JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyNyRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjI3LnBhcmFtcyksIF9yZWYyNyRxdWVyeSA9IF9yZWYyNy5xdWVyeSwgcXVlcnkgPSBfcmVmMjckcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMjckcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnNlbnQucXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3Ioa2V5LmRlbGVnYXRvcl9hZGRyLCBrZXkudmFsaWRhdG9yX2FkZHIsIHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTIuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnNlbnQucXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3Ioa2V5LmRlbGVnYXRvcl9hZGRyLCBrZXkudmFsaWRhdG9yX2FkZHIpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMi50MCA9IF9jb250ZXh0MTIuc2VudC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgdmFsdWUgPSBfY29udGV4dDEyLnQwOwogICAgICAgICAgICAgICAgY29tbWl0KCdRVUVSWScsIHsKICAgICAgICAgICAgICAgICAgcXVlcnk6ICdEZWxlZ2F0b3JWYWxpZGF0b3InLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlEZWxlZ2F0b3JWYWxpZGF0b3InLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXREZWxlZ2F0b3I0ID0gZ2V0dGVyc1snZ2V0RGVsZWdhdG9yVmFsaWRhdG9yJ10oewogICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgfSkpICE9PSBudWxsICYmIF9nZXR0ZXJzJGdldERlbGVnYXRvcjQgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldERlbGVnYXRvcjQgOiB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLnByZXYgPSAyMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIudDEgPSBfY29udGV4dDEyWyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihuZXcgU3BWdWV4RXJyb3IoJ1F1ZXJ5Q2xpZW50OlF1ZXJ5RGVsZWdhdG9yVmFsaWRhdG9yJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyLCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeUhpc3RvcmljYWxJbmZvOiBmdW5jdGlvbiBRdWVyeUhpc3RvcmljYWxJbmZvKF9yZWYyOCwgX3JlZjI5KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMygpIHsKICAgICAgICB2YXIgY29tbWl0LCByb290R2V0dGVycywgZ2V0dGVycywgX3JlZjI5JG9wdGlvbnMsIF9yZWYyOSRvcHRpb25zJHN1YnNjciwgc3Vic2NyaWJlLCBfcmVmMjkkb3B0aW9ucyRhbGwsIGFsbCwga2V5LCBfcmVmMjkkcXVlcnksIHF1ZXJ5LCBfZ2V0dGVycyRnZXRIaXN0b3JpY2EsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyOC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjI4LnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjI4LmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMjkkb3B0aW9ucyA9IF9yZWYyOS5vcHRpb25zLCBfcmVmMjkkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMjkkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYyOSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMjkkb3B0aW9ucyRzdWJzY3IsIF9yZWYyOSRvcHRpb25zJGFsbCA9IF9yZWYyOSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjI5JG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyOSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjI5LnBhcmFtcyksIF9yZWYyOSRxdWVyeSA9IF9yZWYyOS5xdWVyeSwgcXVlcnkgPSBfcmVmMjkkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMjkkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnNlbnQucXVlcnlIaXN0b3JpY2FsSW5mbyhrZXkuaGVpZ2h0LCBxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMudDAgPSBfY29udGV4dDEzLnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5zZW50LnF1ZXJ5SGlzdG9yaWNhbEluZm8oa2V5LmhlaWdodCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDEzLnQwID0gX2NvbnRleHQxMy5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0MTMudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ0hpc3RvcmljYWxJbmZvJywKICAgICAgICAgICAgICAgICAga2V5OiB7CiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZSkgY29tbWl0KCdTVUJTQ1JJQkUnLCB7CiAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ1F1ZXJ5SGlzdG9yaWNhbEluZm8nLAogICAgICAgICAgICAgICAgICBwYXlsb2FkOiB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogewogICAgICAgICAgICAgICAgICAgICAgYWxsOiBhbGwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMy5hYnJ1cHQoInJldHVybiIsIChfZ2V0dGVycyRnZXRIaXN0b3JpY2EgPSBnZXR0ZXJzWydnZXRIaXN0b3JpY2FsSW5mbyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRIaXN0b3JpY2EgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldEhpc3RvcmljYSA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTMucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMy50MSA9IF9jb250ZXh0MTNbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlIaXN0b3JpY2FsSW5mbycsICdBUEkgTm9kZSBVbmF2YWlsYWJsZS4gQ291bGQgbm90IHBlcmZvcm0gcXVlcnkuJykpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuYWJydXB0KCJyZXR1cm4iLCB7fSk7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMywgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgUXVlcnlQb29sOiBmdW5jdGlvbiBRdWVyeVBvb2woX3JlZjMwLCBfcmVmMzEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMzEkb3B0aW9ucywgX3JlZjMxJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYzMSRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYzMSRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFBvb2wsIHZhbHVlOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE0JChfY29udGV4dDE0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTQucHJldiA9IF9jb250ZXh0MTQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYzMC5jb21taXQsIHJvb3RHZXR0ZXJzID0gX3JlZjMwLnJvb3RHZXR0ZXJzLCBnZXR0ZXJzID0gX3JlZjMwLmdldHRlcnM7CiAgICAgICAgICAgICAgICBfcmVmMzEkb3B0aW9ucyA9IF9yZWYzMS5vcHRpb25zLCBfcmVmMzEkb3B0aW9ucyRzdWJzY3IgPSBfcmVmMzEkb3B0aW9ucy5zdWJzY3JpYmUsIHN1YnNjcmliZSA9IF9yZWYzMSRvcHRpb25zJHN1YnNjciA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmMzEkb3B0aW9ucyRzdWJzY3IsIF9yZWYzMSRvcHRpb25zJGFsbCA9IF9yZWYzMSRvcHRpb25zLmFsbCwgYWxsID0gX3JlZjMxJG9wdGlvbnMkYWxsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYzMSRvcHRpb25zJGFsbCwga2V5ID0gT2JqZWN0LmFzc2lnbih7fSwgX3JlZjMxLnBhcmFtcyksIF9yZWYzMSRxdWVyeSA9IF9yZWYzMS5xdWVyeSwgcXVlcnkgPSBfcmVmMzEkcXVlcnkgPT09IHZvaWQgMCA/IG51bGwgOiBfcmVmMzEkcXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnByZXYgPSAyOwoKICAgICAgICAgICAgICAgIGlmICghcXVlcnkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFF1ZXJ5Q2xpZW50KHJvb3RHZXR0ZXJzKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnNlbnQucXVlcnlQb29sKHF1ZXJ5KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQxNC50MCA9IF9jb250ZXh0MTQuc2VudC5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRRdWVyeUNsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnNlbnQucXVlcnlQb29sKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE0LnQwID0gX2NvbnRleHQxNC5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0MTQudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1Bvb2wnLAogICAgICAgICAgICAgICAgICBrZXk6IHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlKSBjb21taXQoJ1NVQlNDUklCRScsIHsKICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnUXVlcnlQb29sJywKICAgICAgICAgICAgICAgICAgcGF5bG9hZDogewogICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgICAgICAgIGFsbDogYWxsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IF9vYmplY3RTcHJlYWQoe30sIGtleSksCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuYWJydXB0KCJyZXR1cm4iLCAoX2dldHRlcnMkZ2V0UG9vbCA9IGdldHRlcnNbJ2dldFBvb2wnXSh7CiAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgICAgICAgICB9KSkgIT09IG51bGwgJiYgX2dldHRlcnMkZ2V0UG9vbCAhPT0gdm9pZCAwID8gX2dldHRlcnMkZ2V0UG9vbCA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC50MSA9IF9jb250ZXh0MTRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlQb29sJywgJ0FQSSBOb2RlIFVuYXZhaWxhYmxlLiBDb3VsZCBub3QgcGVyZm9ybSBxdWVyeS4nKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoInJldHVybiIsIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0LCBudWxsLCBbWzIsIDIyXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBRdWVyeVBhcmFtczogZnVuY3Rpb24gUXVlcnlQYXJhbXMoX3JlZjMyLCBfcmVmMzMpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBjb21taXQsIHJvb3RHZXR0ZXJzLCBnZXR0ZXJzLCBfcmVmMzMkb3B0aW9ucywgX3JlZjMzJG9wdGlvbnMkc3Vic2NyLCBzdWJzY3JpYmUsIF9yZWYzMyRvcHRpb25zJGFsbCwgYWxsLCBrZXksIF9yZWYzMyRxdWVyeSwgcXVlcnksIF9nZXR0ZXJzJGdldFBhcmFtcywgdmFsdWU7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMyLmNvbW1pdCwgcm9vdEdldHRlcnMgPSBfcmVmMzIucm9vdEdldHRlcnMsIGdldHRlcnMgPSBfcmVmMzIuZ2V0dGVyczsKICAgICAgICAgICAgICAgIF9yZWYzMyRvcHRpb25zID0gX3JlZjMzLm9wdGlvbnMsIF9yZWYzMyRvcHRpb25zJHN1YnNjciA9IF9yZWYzMyRvcHRpb25zLnN1YnNjcmliZSwgc3Vic2NyaWJlID0gX3JlZjMzJG9wdGlvbnMkc3Vic2NyID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYzMyRvcHRpb25zJHN1YnNjciwgX3JlZjMzJG9wdGlvbnMkYWxsID0gX3JlZjMzJG9wdGlvbnMuYWxsLCBhbGwgPSBfcmVmMzMkb3B0aW9ucyRhbGwgPT09IHZvaWQgMCA/IGZhbHNlIDogX3JlZjMzJG9wdGlvbnMkYWxsLCBrZXkgPSBPYmplY3QuYXNzaWduKHt9LCBfcmVmMzMucGFyYW1zKSwgX3JlZjMzJHF1ZXJ5ID0gX3JlZjMzLnF1ZXJ5LCBxdWVyeSA9IF9yZWYzMyRxdWVyeSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYzMyRxdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDI7CgogICAgICAgICAgICAgICAgaWYgKCFxdWVyeSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc2VudC5xdWVyeVBhcmFtcyhxdWVyeSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUudDAgPSBfY29udGV4dDE1LnNlbnQuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0UXVlcnlDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zZW50LnF1ZXJ5UGFyYW1zKCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1LnQwID0gX2NvbnRleHQxNS5zZW50LmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9jb250ZXh0MTUudDA7CiAgICAgICAgICAgICAgICBjb21taXQoJ1FVRVJZJywgewogICAgICAgICAgICAgICAgICBxdWVyeTogJ1BhcmFtcycsCiAgICAgICAgICAgICAgICAgIGtleTogewogICAgICAgICAgICAgICAgICAgIHBhcmFtczogX29iamVjdFNwcmVhZCh7fSwga2V5KSwKICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmUpIGNvbW1pdCgnU1VCU0NSSUJFJywgewogICAgICAgICAgICAgICAgICBhY3Rpb246ICdRdWVyeVBhcmFtcycsCiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBhbGw6IGFsbAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwgKF9nZXR0ZXJzJGdldFBhcmFtcyA9IGdldHRlcnNbJ2dldFBhcmFtcyddKHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiBfb2JqZWN0U3ByZWFkKHt9LCBrZXkpLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pKSAhPT0gbnVsbCAmJiBfZ2V0dGVycyRnZXRQYXJhbXMgIT09IHZvaWQgMCA/IF9nZXR0ZXJzJGdldFBhcmFtcyA6IHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUucHJldiA9IDIyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS50MSA9IF9jb250ZXh0MTVbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKG5ldyBTcFZ1ZXhFcnJvcignUXVlcnlDbGllbnQ6UXVlcnlQYXJhbXMnLCAnQVBJIE5vZGUgVW5hdmFpbGFibGUuIENvdWxkIG5vdCBwZXJmb3JtIHF1ZXJ5LicpKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgicmV0dXJuIiwge30pOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUsIG51bGwsIFtbMiwgMjJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dDcmVhdGVWYWxpZGF0b3I6IGZ1bmN0aW9uIHNlbmRNc2dDcmVhdGVWYWxpZGF0b3IoX3JlZjM0LCBfcmVmMzUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzNC5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjM1LnZhbHVlLCBmZWUgPSBfcmVmMzUuZmVlLCBtZW1vID0gX3JlZjM1Lm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDE2LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc2VudC5tc2dDcmVhdGVWYWxpZGF0b3IodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTYuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE2LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi50MCA9IF9jb250ZXh0MTZbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxNi50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDcmVhdGVWYWxpZGF0b3I6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dDcmVhdGVWYWxpZGF0b3I6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dCZWdpblJlZGVsZWdhdGU6IGZ1bmN0aW9uIHNlbmRNc2dCZWdpblJlZGVsZWdhdGUoX3JlZjM2LCBfcmVmMzcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNyQoX2NvbnRleHQxNykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE3LnByZXYgPSBfY29udGV4dDE3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWYzNi5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjM3LnZhbHVlLCBmZWUgPSBfcmVmMzcuZmVlLCBtZW1vID0gX3JlZjM3Lm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDE3LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc2VudC5tc2dCZWdpblJlZGVsZWdhdGUodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE3LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTcuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE3LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNy50MCA9IF9jb250ZXh0MTdbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxNy50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dCZWdpblJlZGVsZWdhdGU6SW5pdCcsICdDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaWduaW5nIGNsaWVudC4gV2FsbGV0IGlzIHJlcXVpcmVkLicpOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dCZWdpblJlZGVsZWdhdGU6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcsIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dVbmRlbGVnYXRlOiBmdW5jdGlvbiBzZW5kTXNnVW5kZWxlZ2F0ZShfcmVmMzgsIF9yZWYzOSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTgoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE4JChfY29udGV4dDE4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTgucHJldiA9IF9jb250ZXh0MTgubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjM4LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMzkudmFsdWUsIGZlZSA9IF9yZWYzOS5mZWUsIG1lbW8gPSBfcmVmMzkubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50Lm1zZ1VuZGVsZWdhdGUodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDE4LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOC5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTguc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTgucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC50MCA9IF9jb250ZXh0MThbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQxOC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dVbmRlbGVnYXRlOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVW5kZWxlZ2F0ZTpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOCwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VuZE1zZ0RlbGVnYXRlOiBmdW5jdGlvbiBzZW5kTXNnRGVsZWdhdGUoX3JlZjQwLCBfcmVmNDEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIGZlZSwgbWVtbywgbXNnLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOSQoX2NvbnRleHQxOSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE5LnByZXYgPSBfY29udGV4dDE5Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb290R2V0dGVycyA9IF9yZWY0MC5yb290R2V0dGVyczsKICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjQxLnZhbHVlLCBmZWUgPSBfcmVmNDEuZmVlLCBtZW1vID0gX3JlZjQxLm1lbW87CiAgICAgICAgICAgICAgICBfY29udGV4dDE5LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuc2VudC5tc2dEZWxlZ2F0ZSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MTkuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnNlbnQuc2lnbkFuZEJyb2FkY2FzdChbbXNnXSwgewogICAgICAgICAgICAgICAgICBmZWU6IHsKICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGZlZSwKICAgICAgICAgICAgICAgICAgICBnYXM6ICIyMDAwMDAiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG1lbW86IG1lbW8KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQxOS5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5LnQwID0gX2NvbnRleHQxOVsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBpZiAoIShfY29udGV4dDE5LnQwLnRvU3RyaW5nKCkgPT0gJ3dhbGxldCBpcyByZXF1aXJlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0RlbGVnYXRlOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRGVsZWdhdGU6U2VuZCcsICdDb3VsZCBub3QgYnJvYWRjYXN0IFR4LicpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTksIG51bGwsIFtbMiwgMTZdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbmRNc2dFZGl0VmFsaWRhdG9yOiBmdW5jdGlvbiBzZW5kTXNnRWRpdFZhbGlkYXRvcihfcmVmNDIsIF9yZWY0MykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgZmVlLCBtZW1vLCBtc2csIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQyLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNDMudmFsdWUsIGZlZSA9IF9yZWY0My5mZWUsIG1lbW8gPSBfcmVmNDMubWVtbzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zZW50Lm1zZ0VkaXRWYWxpZGF0b3IodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDIwLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zZW50LnNpZ25BbmRCcm9hZGNhc3QoW21zZ10sIHsKICAgICAgICAgICAgICAgICAgZmVlOiB7CiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBmZWUsCiAgICAgICAgICAgICAgICAgICAgZ2FzOiAiMjAwMDAwIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtZW1vOiBtZW1vCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MjAuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC50MCA9IF9jb250ZXh0MjBbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyMC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAyMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dFZGl0VmFsaWRhdG9yOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRWRpdFZhbGlkYXRvcjpTZW5kJywgJ0NvdWxkIG5vdCBicm9hZGNhc3QgVHguJyk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMCwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnQ3JlYXRlVmFsaWRhdG9yOiBmdW5jdGlvbiBNc2dDcmVhdGVWYWxpZGF0b3IoX3JlZjQ0LCBfcmVmNDUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIxJChfY29udGV4dDIxKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjEucHJldiA9IF9jb250ZXh0MjEubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQ0LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNDUudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc2VudC5tc2dDcmVhdGVWYWxpZGF0b3IodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDIxLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEudDAgPSBfY29udGV4dDIxWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjEudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ3JlYXRlVmFsaWRhdG9yOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQ3JlYXRlVmFsaWRhdG9yOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMSwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnQmVnaW5SZWRlbGVnYXRlOiBmdW5jdGlvbiBNc2dCZWdpblJlZGVsZWdhdGUoX3JlZjQ2LCBfcmVmNDcpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIyJChfY29udGV4dDIyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjIucHJldiA9IF9jb250ZXh0MjIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjQ2LnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNDcudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjIuc2VudC5tc2dCZWdpblJlZGVsZWdhdGUodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDIyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIyLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjIudDAgPSBfY29udGV4dDIyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjIudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQmVnaW5SZWRlbGVnYXRlOkluaXQnLCAnQ291bGQgbm90IGluaXRpYWxpemUgc2lnbmluZyBjbGllbnQuIFdhbGxldCBpcyByZXF1aXJlZC4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnQmVnaW5SZWRlbGVnYXRlOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMiwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnVW5kZWxlZ2F0ZTogZnVuY3Rpb24gTXNnVW5kZWxlZ2F0ZShfcmVmNDgsIF9yZWY0OSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNDgucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY0OS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zZW50Lm1zZ1VuZGVsZWdhdGUodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDIzLnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMudDAgPSBfY29udGV4dDIzWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjMudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnVW5kZWxlZ2F0ZTpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ1VuZGVsZWdhdGU6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIzLCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBNc2dEZWxlZ2F0ZTogZnVuY3Rpb24gTXNnRGVsZWdhdGUoX3JlZjUwLCBfcmVmNTEpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTI0KCkgewogICAgICAgIHZhciByb290R2V0dGVycywgdmFsdWUsIG1zZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJvb3RHZXR0ZXJzID0gX3JlZjUwLnJvb3RHZXR0ZXJzOwogICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmNTEudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDI0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBpbml0VHhDbGllbnQocm9vdEdldHRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc2VudC5tc2dEZWxlZ2F0ZSh2YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIG1zZyA9IF9jb250ZXh0MjQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LmFicnVwdCgicmV0dXJuIiwgbXNnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyNC50MCA9IF9jb250ZXh0MjRbImNhdGNoIl0oMik7CgogICAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQyNC50MC50b1N0cmluZygpID09ICd3YWxsZXQgaXMgcmVxdWlyZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDI0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNwVnVleEVycm9yKCdUeENsaWVudDpNc2dEZWxlZ2F0ZTpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0RlbGVnYXRlOkNyZWF0ZScsICdDb3VsZCBub3QgY3JlYXRlIG1lc3NhZ2UuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDI0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyNCwgbnVsbCwgW1syLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgTXNnRWRpdFZhbGlkYXRvcjogZnVuY3Rpb24gTXNnRWRpdFZhbGlkYXRvcihfcmVmNTIsIF9yZWY1MykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjUoKSB7CiAgICAgICAgdmFyIHJvb3RHZXR0ZXJzLCB2YWx1ZSwgbXNnOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vdEdldHRlcnMgPSBfcmVmNTIucm9vdEdldHRlcnM7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWY1My52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dDI1Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGluaXRUeENsaWVudChyb290R2V0dGVycyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zZW50Lm1zZ0VkaXRWYWxpZGF0b3IodmFsdWUpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBtc2cgPSBfY29udGV4dDI1LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5hYnJ1cHQoInJldHVybiIsIG1zZyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDI1LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjUudDAgPSBfY29udGV4dDI1WyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICAgIGlmICghKF9jb250ZXh0MjUudDAudG9TdHJpbmcoKSA9PSAnd2FsbGV0IGlzIHJlcXVpcmVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyNS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IG5ldyBTcFZ1ZXhFcnJvcignVHhDbGllbnQ6TXNnRWRpdFZhbGlkYXRvcjpJbml0JywgJ0NvdWxkIG5vdCBpbml0aWFsaXplIHNpZ25pbmcgY2xpZW50LiBXYWxsZXQgaXMgcmVxdWlyZWQuJyk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3BWdWV4RXJyb3IoJ1R4Q2xpZW50Ok1zZ0VkaXRWYWxpZGF0b3I6Q3JlYXRlJywgJ0NvdWxkIG5vdCBjcmVhdGUgbWVzc2FnZS4nKTsKCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI1LCBudWxsLCBbWzIsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/ubuntu/starport-gravity/vue/src/store/generated/cosmos/cosmos-sdk/cosmos.staking.v1beta1/index.js"],"names":["txClient","queryClient","SpVuexError","HistoricalInfo","CommissionRates","Commission","Description","Validator","ValAddresses","DVPair","DVPairs","DVVTriplet","DVVTriplets","Delegation","UnbondingDelegation","UnbondingDelegationEntry","RedelegationEntry","Redelegation","Params","DelegationResponse","RedelegationEntryResponse","RedelegationResponse","Pool","LastValidatorPower","initTxClient","vuexGetters","addr","initQueryClient","getStructure","template","structure","fields","Object","entries","key","value","field","name","type","push","getDefaultState","Validators","ValidatorDelegations","ValidatorUnbondingDelegations","DelegatorDelegations","DelegatorUnbondingDelegations","Redelegations","DelegatorValidators","DelegatorValidator","_Structure","fromPartial","_Subscriptions","Set","state","namespaced","mutations","RESET_STATE","assign","QUERY","query","JSON","stringify","SUBSCRIBE","subscription","add","UNSUBSCRIBE","getters","getValidators","params","getValidator","getValidatorDelegations","getValidatorUnbondingDelegations","getDelegation","getUnbondingDelegation","getDelegatorDelegations","getDelegatorUnbondingDelegations","getRedelegations","getDelegatorValidators","getDelegatorValidator","getHistoricalInfo","getPool","getParams","getTypeStructure","actions","init","dispatch","rootGetters","console","log","on","resetState","commit","unsubscribe","StoreUpdate","forEach","action","payload","QueryValidators","options","subscribe","all","queryValidators","data","pagination","nextKey","next_values","keys","prop","Array","isArray","error","QueryValidator","queryValidator","validator_addr","QueryValidatorDelegations","queryValidatorDelegations","QueryValidatorUnbondingDelegations","queryValidatorUnbondingDelegations","QueryDelegation","queryDelegation","delegator_addr","QueryUnbondingDelegation","queryUnbondingDelegation","QueryDelegatorDelegations","queryDelegatorDelegations","QueryDelegatorUnbondingDelegations","queryDelegatorUnbondingDelegations","QueryRedelegations","queryRedelegations","QueryDelegatorValidators","queryDelegatorValidators","QueryDelegatorValidator","queryDelegatorValidator","QueryHistoricalInfo","queryHistoricalInfo","height","QueryPool","queryPool","QueryParams","queryParams","sendMsgCreateValidator","fee","memo","msgCreateValidator","msg","signAndBroadcast","amount","gas","result","toString","sendMsgBeginRedelegate","msgBeginRedelegate","sendMsgUndelegate","msgUndelegate","sendMsgDelegate","msgDelegate","sendMsgEditValidator","msgEditValidator","MsgCreateValidator","MsgBeginRedelegate","MsgUndelegate","MsgDelegate","MsgEditValidator"],"mappings":"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","sourcesContent":["import { txClient, queryClient } from './module';\n// @ts-ignore\nimport { SpVuexError } from '@starport/vuex';\nimport { HistoricalInfo } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { CommissionRates } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Commission } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Description } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Validator } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { ValAddresses } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { DVPair } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { DVPairs } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { DVVTriplet } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { DVVTriplets } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Delegation } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { UnbondingDelegation } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { UnbondingDelegationEntry } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { RedelegationEntry } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Redelegation } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Params } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { DelegationResponse } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { RedelegationEntryResponse } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { RedelegationResponse } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { Pool } from \"./module/types/cosmos/staking/v1beta1/staking\";\nimport { LastValidatorPower } from \"./module/types/cosmos/staking/v1beta1/genesis\";\nasync function initTxClient(vuexGetters) {\n    return await txClient(vuexGetters['common/wallet/signer'], {\n        addr: vuexGetters['common/env/apiTendermint']\n    });\n}\nasync function initQueryClient(vuexGetters) {\n    return await queryClient({\n        addr: vuexGetters['common/env/apiCosmos']\n    });\n}\nfunction getStructure(template) {\n    let structure = { fields: [] };\n    for (const [key, value] of Object.entries(template)) {\n        let field = {};\n        field.name = key;\n        field.type = typeof value;\n        structure.fields.push(field);\n    }\n    return structure;\n}\nconst getDefaultState = () => {\n    return {\n        Validators: {},\n        Validator: {},\n        ValidatorDelegations: {},\n        ValidatorUnbondingDelegations: {},\n        Delegation: {},\n        UnbondingDelegation: {},\n        DelegatorDelegations: {},\n        DelegatorUnbondingDelegations: {},\n        Redelegations: {},\n        DelegatorValidators: {},\n        DelegatorValidator: {},\n        HistoricalInfo: {},\n        Pool: {},\n        Params: {},\n        _Structure: {\n            HistoricalInfo: getStructure(HistoricalInfo.fromPartial({})),\n            CommissionRates: getStructure(CommissionRates.fromPartial({})),\n            Commission: getStructure(Commission.fromPartial({})),\n            Description: getStructure(Description.fromPartial({})),\n            Validator: getStructure(Validator.fromPartial({})),\n            ValAddresses: getStructure(ValAddresses.fromPartial({})),\n            DVPair: getStructure(DVPair.fromPartial({})),\n            DVPairs: getStructure(DVPairs.fromPartial({})),\n            DVVTriplet: getStructure(DVVTriplet.fromPartial({})),\n            DVVTriplets: getStructure(DVVTriplets.fromPartial({})),\n            Delegation: getStructure(Delegation.fromPartial({})),\n            UnbondingDelegation: getStructure(UnbondingDelegation.fromPartial({})),\n            UnbondingDelegationEntry: getStructure(UnbondingDelegationEntry.fromPartial({})),\n            RedelegationEntry: getStructure(RedelegationEntry.fromPartial({})),\n            Redelegation: getStructure(Redelegation.fromPartial({})),\n            Params: getStructure(Params.fromPartial({})),\n            DelegationResponse: getStructure(DelegationResponse.fromPartial({})),\n            RedelegationEntryResponse: getStructure(RedelegationEntryResponse.fromPartial({})),\n            RedelegationResponse: getStructure(RedelegationResponse.fromPartial({})),\n            Pool: getStructure(Pool.fromPartial({})),\n            LastValidatorPower: getStructure(LastValidatorPower.fromPartial({})),\n        },\n        _Subscriptions: new Set(),\n    };\n};\n// initial state\nconst state = getDefaultState();\nexport default {\n    namespaced: true,\n    state,\n    mutations: {\n        RESET_STATE(state) {\n            Object.assign(state, getDefaultState());\n        },\n        QUERY(state, { query, key, value }) {\n            state[query][JSON.stringify(key)] = value;\n        },\n        SUBSCRIBE(state, subscription) {\n            state._Subscriptions.add(subscription);\n        },\n        UNSUBSCRIBE(state, subscription) {\n            state._Subscriptions.delete(subscription);\n        }\n    },\n    getters: {\n        getValidators: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Validators[JSON.stringify(params)] ?? {};\n        },\n        getValidator: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Validator[JSON.stringify(params)] ?? {};\n        },\n        getValidatorDelegations: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ValidatorDelegations[JSON.stringify(params)] ?? {};\n        },\n        getValidatorUnbondingDelegations: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.ValidatorUnbondingDelegations[JSON.stringify(params)] ?? {};\n        },\n        getDelegation: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Delegation[JSON.stringify(params)] ?? {};\n        },\n        getUnbondingDelegation: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.UnbondingDelegation[JSON.stringify(params)] ?? {};\n        },\n        getDelegatorDelegations: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.DelegatorDelegations[JSON.stringify(params)] ?? {};\n        },\n        getDelegatorUnbondingDelegations: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.DelegatorUnbondingDelegations[JSON.stringify(params)] ?? {};\n        },\n        getRedelegations: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Redelegations[JSON.stringify(params)] ?? {};\n        },\n        getDelegatorValidators: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.DelegatorValidators[JSON.stringify(params)] ?? {};\n        },\n        getDelegatorValidator: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.DelegatorValidator[JSON.stringify(params)] ?? {};\n        },\n        getHistoricalInfo: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.HistoricalInfo[JSON.stringify(params)] ?? {};\n        },\n        getPool: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Pool[JSON.stringify(params)] ?? {};\n        },\n        getParams: (state) => (params = {}) => {\n            if (!params.query) {\n                params.query = null;\n            }\n            return state.Params[JSON.stringify(params)] ?? {};\n        },\n        getTypeStructure: (state) => (type) => {\n            return state._Structure[type].fields;\n        }\n    },\n    actions: {\n        init({ dispatch, rootGetters }) {\n            console.log('init');\n            if (rootGetters['common/env/client']) {\n                rootGetters['common/env/client'].on('newblock', () => {\n                    dispatch('StoreUpdate');\n                });\n            }\n        },\n        resetState({ commit }) {\n            commit('RESET_STATE');\n        },\n        unsubscribe({ commit }, subscription) {\n            commit('UNSUBSCRIBE', subscription);\n        },\n        async StoreUpdate({ state, dispatch }) {\n            state._Subscriptions.forEach((subscription) => {\n                dispatch(subscription.action, subscription.payload);\n            });\n        },\n        async QueryValidators({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryValidators(query)).data : (await (await initQueryClient(rootGetters)).queryValidators()).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryValidators({ ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Validators', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryValidators', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getValidators']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryValidators', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryValidator({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryValidator(key.validator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryValidator(key.validator_addr)).data;\n                commit('QUERY', { query: 'Validator', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryValidator', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getValidator']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryValidator', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryValidatorDelegations({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryValidatorDelegations(key.validator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryValidatorDelegations(key.validator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryValidatorDelegations(key.validator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ValidatorDelegations', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryValidatorDelegations', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getValidatorDelegations']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryValidatorDelegations', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryValidatorUnbondingDelegations({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryValidatorUnbondingDelegations(key.validator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryValidatorUnbondingDelegations(key.validator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryValidatorUnbondingDelegations(key.validator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'ValidatorUnbondingDelegations', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryValidatorUnbondingDelegations', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getValidatorUnbondingDelegations']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryValidatorUnbondingDelegations', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDelegation({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDelegation(key.validator_addr, key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryDelegation(key.validator_addr, key.delegator_addr)).data;\n                commit('QUERY', { query: 'Delegation', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDelegation', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDelegation']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDelegation', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryUnbondingDelegation({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryUnbondingDelegation(key.validator_addr, key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryUnbondingDelegation(key.validator_addr, key.delegator_addr)).data;\n                commit('QUERY', { query: 'UnbondingDelegation', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryUnbondingDelegation', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getUnbondingDelegation']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryUnbondingDelegation', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDelegatorDelegations({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDelegatorDelegations(key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryDelegatorDelegations(key.delegator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryDelegatorDelegations(key.delegator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'DelegatorDelegations', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDelegatorDelegations', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDelegatorDelegations']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDelegatorDelegations', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDelegatorUnbondingDelegations({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDelegatorUnbondingDelegations(key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryDelegatorUnbondingDelegations(key.delegator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryDelegatorUnbondingDelegations(key.delegator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'DelegatorUnbondingDelegations', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDelegatorUnbondingDelegations', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDelegatorUnbondingDelegations']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDelegatorUnbondingDelegations', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryRedelegations({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryRedelegations(key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryRedelegations(key.delegator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryRedelegations(key.delegator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'Redelegations', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryRedelegations', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getRedelegations']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryRedelegations', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDelegatorValidators({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDelegatorValidators(key.delegator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryDelegatorValidators(key.delegator_addr)).data;\n                while (all && value.pagination && value.pagination.nextKey != null) {\n                    let next_values = (await (await initQueryClient(rootGetters)).queryDelegatorValidators(key.delegator_addr, { ...query, 'pagination.key': value.pagination.nextKey })).data;\n                    for (let prop of Object.keys(next_values)) {\n                        if (Array.isArray(next_values[prop])) {\n                            value[prop] = [...value[prop], ...next_values[prop]];\n                        }\n                        else {\n                            value[prop] = next_values[prop];\n                        }\n                    }\n                }\n                commit('QUERY', { query: 'DelegatorValidators', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDelegatorValidators', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDelegatorValidators']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDelegatorValidators', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryDelegatorValidator({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryDelegatorValidator(key.delegator_addr, key.validator_addr, query)).data : (await (await initQueryClient(rootGetters)).queryDelegatorValidator(key.delegator_addr, key.validator_addr)).data;\n                commit('QUERY', { query: 'DelegatorValidator', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryDelegatorValidator', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getDelegatorValidator']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryDelegatorValidator', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryHistoricalInfo({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryHistoricalInfo(key.height, query)).data : (await (await initQueryClient(rootGetters)).queryHistoricalInfo(key.height)).data;\n                commit('QUERY', { query: 'HistoricalInfo', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryHistoricalInfo', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getHistoricalInfo']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryHistoricalInfo', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryPool({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryPool(query)).data : (await (await initQueryClient(rootGetters)).queryPool()).data;\n                commit('QUERY', { query: 'Pool', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryPool', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getPool']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryPool', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async QueryParams({ commit, rootGetters, getters }, { options: { subscribe = false, all = false }, params: { ...key }, query = null }) {\n            try {\n                let value = query ? (await (await initQueryClient(rootGetters)).queryParams(query)).data : (await (await initQueryClient(rootGetters)).queryParams()).data;\n                commit('QUERY', { query: 'Params', key: { params: { ...key }, query }, value });\n                if (subscribe)\n                    commit('SUBSCRIBE', { action: 'QueryParams', payload: { options: { all }, params: { ...key }, query } });\n                return getters['getParams']({ params: { ...key }, query }) ?? {};\n            }\n            catch (e) {\n                console.error(new SpVuexError('QueryClient:QueryParams', 'API Node Unavailable. Could not perform query.'));\n                return {};\n            }\n        },\n        async sendMsgCreateValidator({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgCreateValidator(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgCreateValidator:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgCreateValidator:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgBeginRedelegate({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgBeginRedelegate(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgBeginRedelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgBeginRedelegate:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgUndelegate({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUndelegate(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUndelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUndelegate:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgDelegate({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDelegate(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDelegate:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async sendMsgEditValidator({ rootGetters }, { value, fee, memo }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgEditValidator(value);\n                const result = await (await initTxClient(rootGetters)).signAndBroadcast([msg], { fee: { amount: fee,\n                        gas: \"200000\" }, memo });\n                return result;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgEditValidator:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgEditValidator:Send', 'Could not broadcast Tx.');\n                }\n            }\n        },\n        async MsgCreateValidator({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgCreateValidator(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgCreateValidator:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgCreateValidator:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgBeginRedelegate({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgBeginRedelegate(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgBeginRedelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgBeginRedelegate:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgUndelegate({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgUndelegate(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgUndelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgUndelegate:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgDelegate({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgDelegate(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgDelegate:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgDelegate:Create', 'Could not create message.');\n                }\n            }\n        },\n        async MsgEditValidator({ rootGetters }, { value }) {\n            try {\n                const msg = await (await initTxClient(rootGetters)).msgEditValidator(value);\n                return msg;\n            }\n            catch (e) {\n                if (e.toString() == 'wallet is required') {\n                    throw new SpVuexError('TxClient:MsgEditValidator:Init', 'Could not initialize signing client. Wallet is required.');\n                }\n                else {\n                    throw new SpVuexError('TxClient:MsgEditValidator:Create', 'Could not create message.');\n                }\n            }\n        },\n    }\n};\n"]}]}