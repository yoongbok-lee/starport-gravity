import fs from 'fs';
import test from 'ava';
import axios from 'axios';
import sinon from 'sinon';
import { TestLogger } from '../../../lib/testutils';
import { run } from './init';
const fsExistSync = sinon.stub(fs, 'existsSync');
const fsMkdirSync = sinon.stub(fs, 'mkdirSync');
const axiosGet = sinon.stub(axios, 'get');
const fsReadFileSync = sinon.stub(fs, 'readFileSync');
const fsWriteFileSync = sinon.stub(fs, 'writeFileSync');
sinon.replace(fs, 'lstatSync', sinon.fake.returns({
    isDirectory: () => true,
    isFile: () => true,
}));
const registryYaml = `
version: 1

chains:
  local_wasm:
    chain_id: testing
    prefix: wasm
    gas_price: 0.025ucosm
    hd_path: m/44'/108'/0'/2'
    rpc:
      - http://localhost:26659
  local_simapp:
    chain_id: simd-testing
    prefix: cosmos
    gas_price: 0.025umuon
    hd_path: m/44'/108'/0'/3'
    rpc:
      - http://localhost:26658`;
test.beforeEach(() => {
    sinon.reset();
});
test('create app.yaml', async (t) => {
    const logger = new TestLogger();
    const options = {
        home: '/home/user',
        src: 'local_wasm',
        dest: 'local_simapp',
    };
    const appPath = `${options.home}/app.yaml`;
    const registryPath = `${options.home}/registry.yaml`;
    fsExistSync
        .onCall(0)
        .returns(false)
        .onCall(1)
        .returns(true)
        .onCall(2)
        .returns(true);
    axiosGet.resolves({
        data: registryYaml,
    });
    fsReadFileSync.returns(registryYaml);
    fsWriteFileSync.returns();
    await run(options, logger);
    t.assert(fsMkdirSync.notCalled);
    t.assert(axiosGet.notCalled);
    t.assert(fsReadFileSync.calledOnceWith(registryPath));
    const [path, contents] = fsWriteFileSync.getCall(0).args;
    const appYamlRegexp = new RegExp(`src: ${options.src}\ndest: ${options.dest}\nmnemonic: [\\w ]+`, 'mg');
    t.is(path, appPath);
    t.regex(contents, appYamlRegexp);
    t.assert(logger.info.getCall(-2).calledWithMatch(/Source address: [\w ]+/));
    t.assert(logger.info.getCall(-1).calledWithMatch(/Destination address: [\w ]+/));
});
test('initialize home directory, pull registry.yaml and create app.yaml', async (t) => {
    const logger = new TestLogger();
    const options = {
        home: '/home/user',
        src: 'local_wasm',
        dest: 'local_simapp',
    };
    const appPath = `${options.home}/app.yaml`;
    const registryPath = `${options.home}/registry.yaml`;
    fsExistSync
        .onCall(0)
        .returns(false)
        .onCall(1)
        .returns(false)
        .onCall(2)
        .returns(false);
    fsMkdirSync.returns(options.home);
    axiosGet.resolves({
        data: registryYaml,
    });
    fsReadFileSync.returns(registryYaml);
    fsWriteFileSync.returns();
    await run(options, logger);
    t.assert(fsMkdirSync.calledOnceWith(options.home));
    t.assert(axiosGet.calledOnce);
    t.assert(fsReadFileSync.calledOnceWith(registryPath));
    t.assert(fsWriteFileSync.calledWithExactly(registryPath, registryYaml));
    t.assert(logger.info.calledWithMatch(new RegExp(`at ${options.home}`)));
    const [path, contents] = fsWriteFileSync.getCall(1).args;
    const appYamlRegexp = new RegExp(`src: ${options.src}\ndest: ${options.dest}\nmnemonic: [\\w ]+`, 'mg');
    t.is(path, appPath);
    t.regex(contents, appYamlRegexp);
    t.assert(logger.info.getCall(-2).calledWithMatch(/Source address: [\w ]+/));
    t.assert(logger.info.getCall(-1).calledWithMatch(/Destination address: [\w ]+/));
});
test('throws when cannot fetch registry.yaml from remote', async (t) => {
    const logger = new TestLogger();
    const options = {
        home: '/home/user',
        src: 'local_wasm',
        dest: 'local_simapp',
    };
    fsExistSync.returns(false);
    fsMkdirSync.returns(options.home);
    axiosGet.rejects();
    fsReadFileSync.returns('');
    fsWriteFileSync.returns();
    await t.throwsAsync(async () => await run(options, logger), {
        instanceOf: Error,
        message: /Cannot fetch registry.yaml/,
    });
    t.assert(fsMkdirSync.calledOnceWith(options.home));
    t.assert(axiosGet.calledOnce);
});
test('returns early if app.yaml exists', async (t) => {
    const logger = new TestLogger();
    const options = {
        home: '/home/user',
        src: 'local_wasm',
        dest: 'local_simapp',
    };
    fsExistSync.onCall(0).returns(true);
    await run(options, logger);
    t.assert(fsExistSync.calledOnce);
    t.assert(logger.info.calledWithMatch(/app.yaml is already initialized/));
    t.assert(logger.info.calledOnce);
});
test('throws if provided chain does not exist in the registry', async (t) => {
    const logger = new TestLogger();
    const options = {
        home: '/home/user',
        src: 'chain_that_does_not_exist',
        dest: 'local_simapp',
    };
    const registryPath = `${options.home}/registry.yaml`;
    fsExistSync
        .onCall(0)
        .returns(false)
        .onCall(1)
        .returns(true)
        .onCall(2)
        .returns(true);
    axiosGet.resolves({
        data: registryYaml,
    });
    fsReadFileSync.returns(registryYaml);
    await t.throwsAsync(async () => await run(options, logger), {
        instanceOf: Error,
        message: new RegExp(`${options.src} is missing in the registry`),
    });
    t.assert(fsMkdirSync.notCalled);
    t.assert(axiosGet.notCalled);
    t.assert(fsReadFileSync.calledOnceWith(registryPath));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5pdC5zcGVjLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2JpbmFyeS9pYmMtc2V0dXAvY29tbWFuZHMvaW5pdC5zcGVjLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQztBQUVwQixPQUFPLElBQUksTUFBTSxLQUFLLENBQUM7QUFDdkIsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBQzFCLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUcxQixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFcEQsT0FBTyxFQUFXLEdBQUcsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUV0QyxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxZQUFZLENBQUMsQ0FBQztBQUNqRCxNQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxXQUFXLENBQUMsQ0FBQztBQUNoRCxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMxQyxNQUFNLGNBQWMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxjQUFjLENBQUMsQ0FBQztBQUN0RCxNQUFNLGVBQWUsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxlQUFlLENBQUMsQ0FBQztBQUV4RCxLQUFLLENBQUMsT0FBTyxDQUNYLEVBQUUsRUFDRixXQUFXLEVBQ1gsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDakIsV0FBVyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUk7SUFDdkIsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUk7Q0FDbkIsQ0FBQyxDQUNILENBQUM7QUFFRixNQUFNLFlBQVksR0FBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7K0JBaUJVLENBQUM7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