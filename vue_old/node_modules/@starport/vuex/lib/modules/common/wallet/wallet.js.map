{"version":3,"sources":["../../../../src/modules/common/wallet/wallet.js"],"names":["getDecryptor","password","secret","encryptedMnemonic","HDpath","mnemonic","CryptoJS","AES","decrypt","toString","enc","Utf8","DirectSecp256k1HdWallet","fromMnemonic","namespaced","state","wallets","JSON","parse","window","localStorage","getItem","activeWallet","activeClient","selectedAddress","authorized","gasPrice","getters","client","wallet","address","getMnemonic","getPath","accounts","find","x","pathIncrement","relayers","nameAvailable","name","findIndex","lastWallet","loggedIn","signer","walletName","privKey","privkey","mutations","SET_ACTIVE_WALLET","setItem","SET_ACTIVE_CLIENT","ADD_WALLET","push","encrypt","stringify","PATH_INCREMENT","ADD_ACCOUNT","account","SET_RELAYERS","SET_SELECTED_ADDRESS","SET_BACKUP_STATE","backupState","ADD_MESSAGE_TYPE","typeUrl","type","registry","register","SIGN_OUT","actions","signOut","commit","unlockWallet","dispatch","rootGetters","encryptedWallet","length","prefix","accountSigner","root","getAccounts","console","log","updateRelayers","switchAccount","accountIndex","acc","addAccount","parseInt","storeWallets","signInWithPrivateKey","pKey","trim","DirectSecp256k1Wallet","fromKey","firstAccount","restoreWallet","encrypted","newName","incr","createWalletWithMnemonic","sendTransaction","message","memo","denom","fee","amount","gas","add","msg","signAndBroadcast","result"],"mappings":"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","sourcesContent":["import {\r\n\tDirectSecp256k1HdWallet,\r\n\tDirectSecp256k1Wallet\r\n} from '@cosmjs/proto-signing'\r\n\r\nimport { assertIsBroadcastTxSuccess } from '@cosmjs/stargate'\r\nimport { stringToPath } from '@cosmjs/crypto'\r\nimport CryptoJS from 'crypto-js'\r\nimport { keyFromWif, keyToWif } from '../../../helpers/keys'\r\n\r\n/* START TODO: Integrate closure below for additional security */\r\nfunction getDecryptor(password) {\r\n\tlet secret=password;\r\n\treturn async function(encryptedMnemonic, HDpath) {\r\n\t\tconst mnemonic = CryptoJS.AES.decrypt(encryptedMnemonic, secret).toString(\r\n\t\t\tCryptoJS.enc.Utf8\r\n\t\t)\r\n\t\treturn await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\tmnemonic,\r\n\t\t\tHDpath\r\n\t\t)\r\n\t}\r\n}\r\n/* END TODO */\r\nexport default {\r\n\tnamespaced: true,\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\twallets: JSON.parse(window.localStorage.getItem('wallets')) || [],\r\n\t\t\tactiveWallet: null,\r\n\t\t\tactiveClient: null,\r\n\t\t\tselectedAddress: '',\r\n\t\t\tauthorized: false,\r\n\t\t\tgasPrice: '0.0000025token'\r\n\t\t}\r\n\t},\r\n\tgetters: {\r\n\t\tclient: (state) => state.activeClient,\r\n\t\tgasPrice:(state) => state.gasPrice,\r\n\t\twallet: (state) => state.activeWallet,\r\n\t\taddress: (state) => state.selectedAddress,\r\n\t\tgetMnemonic: (state) => state.activeWallet.mnemonic,\r\n\t\tgetPath: (state) => state.activeWallet.HDpath+state.activeWallet.accounts.find(x => x.address==state.selectedAddress).pathIncrement,\r\n\t\trelayers: (state) => {\r\n\t\t\treturn state.activeWallet.accounts.find( x => x.address==state.selectedAddress).relayers ?? []\r\n\t\t},\r\n\t\tnameAvailable: (state) => (name) => {\r\n\t\t\treturn state.wallets.findIndex((x) => x.name == name) == -1\r\n\t\t},\r\n\t\tlastWallet: (state) => {\r\n\t\t\tif (state.activeWallet) {\r\n\t\t\t\treturn state.activeWallet.name\r\n\t\t\t} else {\r\n\t\t\t\treturn window.localStorage.getItem('lastWallet')\r\n\t\t\t}\r\n\t\t},\r\n\t\tloggedIn: (state) => state.activeClient !== null,\r\n\t\tsigner: (state) => {\r\n\t\t\tif (state.activeClient) {\r\n\t\t\t\treturn state.activeClient.signer\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t},\r\n\t\twalletName: (state) =>\r\n\t\t\tstate.activeWallet ? state.activeWallet.name : null,\r\n\t\tprivKey: (state) => {\r\n\t\t\tif (state.activeClient) {\r\n\t\t\t\treturn keyToWif(state.activeClient.signer.privkey)\r\n\t\t\t} else {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmutations: {\r\n\t\tSET_ACTIVE_WALLET(state, wallet) {\r\n\t\t\tstate.activeWallet = wallet\r\n\t\t\twindow.localStorage.setItem('lastWallet', wallet.name)\r\n\t\t},\r\n\t\tSET_ACTIVE_CLIENT(state, client) {\r\n\t\t\tstate.activeClient = client\r\n\t\t\tstate.authorized = true\r\n\t\t},\r\n\t\tADD_WALLET(state, wallet) {\r\n\t\t\tstate.activeWallet = wallet\r\n\t\t\twindow.localStorage.setItem('lastWallet', wallet.name)\r\n\t\t\tif (state.activeWallet.name && state.activeWallet.password) {\r\n\t\t\t\tstate.wallets.push({\r\n\t\t\t\t\tname: state.activeWallet.name,\r\n\t\t\t\t\twallet: CryptoJS.AES.encrypt(\r\n\t\t\t\t\t\tJSON.stringify(state.activeWallet),\r\n\t\t\t\t\t\tstate.activeWallet.password\r\n\t\t\t\t\t).toString()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tPATH_INCREMENT(state) {\r\n\t\t\tstate.activeWallet.pathIncrement = state.activeWallet.pathIncrement + 1\r\n\t\t},\r\n\t\tADD_ACCOUNT(state, account) {\r\n\t\t\tstate.activeWallet.accounts.push(account)\r\n\t\t\tif (state.activeWallet.name && state.activeWallet.password) {\r\n\t\t\t\tstate.wallets[\r\n\t\t\t\t\tstate.wallets.findIndex((x) => x.name === state.activeWallet.name)\r\n\t\t\t\t].wallet = CryptoJS.AES.encrypt(\r\n\t\t\t\t\tJSON.stringify(state.activeWallet),\r\n\t\t\t\t\tstate.activeWallet.password\r\n\t\t\t\t).toString()\r\n\t\t\t}\r\n\t\t},\r\n\t\tSET_RELAYERS(state,relayers) {\r\n\t\t\tstate.activeWallet.accounts.find( x => x.address==state.selectedAddress).relayers=relayers\r\n\t\t\tif (state.activeWallet.name && state.activeWallet.password) {\r\n\t\t\t\tstate.wallets[\r\n\t\t\t\t\tstate.wallets.findIndex((x) => x.name === state.activeWallet.name)\r\n\t\t\t\t].wallet = CryptoJS.AES.encrypt(\r\n\t\t\t\t\tJSON.stringify(state.activeWallet),\r\n\t\t\t\t\tstate.activeWallet.password\r\n\t\t\t\t).toString()\r\n\t\t\t}\r\n\t\t},\r\n\t\tSET_SELECTED_ADDRESS(state, address) {\r\n\t\t\tstate.selectedAddress = address\r\n\t\t},\r\n\t\tSET_BACKUP_STATE(state, backupState) {\r\n\t\t\tstate.backupState = backupState\r\n\t\t},\r\n\t\tADD_MESSAGE_TYPE(state, { typeUrl, type }) {\r\n\t\t\tstate.activeClient.registry.register(typeUrl, type)\r\n\t\t},\r\n\t\tSIGN_OUT(state) {\r\n\t\t\tstate.selectedAddress = ''\r\n\t\t\tstate.activeClient = null\r\n\t\t\tstate.activeWallet = null\r\n\t\t\tstate.authorized = false\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tsignOut({ commit }) {\r\n\t\t\tcommit('SIGN_OUT')\r\n\t\t},\r\n\t\tasync unlockWallet(\r\n\t\t\t{ commit, state, dispatch, rootGetters },\r\n\t\t\t{ name, password }\r\n\t\t) {\r\n\t\t\tconst encryptedWallet =\r\n\t\t\t\tstate.wallets[state.wallets.findIndex((x) => x.name === name)].wallet\r\n\t\t\tconst wallet = JSON.parse(\r\n\t\t\t\tCryptoJS.AES.decrypt(encryptedWallet, password).toString(\r\n\t\t\t\t\tCryptoJS.enc.Utf8\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\tcommit('SET_ACTIVE_WALLET', wallet)\r\n\t\t\tif (wallet.accounts.length > 0) {\r\n\t\t\t\tconst accountSigner = await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\t\t\twallet.mnemonic,\r\n\t\t\t\t\tstringToPath(wallet.HDpath + wallet.accounts[0].pathIncrement),\r\n\t\t\t\t\twallet.prefix\r\n\t\t\t\t)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait dispatch('common/env/signIn', accountSigner, {\r\n\t\t\t\t\t\troot: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tlet client = rootGetters['common/env/signingClient']\r\n\t\t\t\t\tcommit('SET_ACTIVE_CLIENT', client)\r\n\t\t\t\t\tconst [account] = await accountSigner.getAccounts()\r\n\t\t\t\t\tcommit('SET_SELECTED_ADDRESS', account.address)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync updateRelayers({commit, dispatch}, relayers) {\r\n\t\t\tcommit('SET_RELAYERS',relayers)\r\n\t\t\tdispatch('storeWallets')\r\n\t\t},\r\n\t\tasync switchAccount({ commit, state, rootGetters, dispatch }, address) {\r\n\t\t\tconst accountIndex = state.activeWallet.accounts.findIndex(\r\n\t\t\t\t(acc) => acc.address == address\r\n\t\t\t)\r\n\t\t\tconst accountSigner = await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\t\tstate.activeWallet.mnemonic,\r\n\t\t\t\tstringToPath(\r\n\t\t\t\t\tstate.activeWallet.HDpath +\r\n\t\t\t\t\t\tstate.activeWallet.accounts[accountIndex].pathIncrement\r\n\t\t\t\t),\r\n\t\t\t\tstate.activeWallet.prefix\r\n\t\t\t)\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('common/env/signIn', accountSigner, { root: true })\r\n\t\t\t\tlet client = rootGetters['common/env/signingClient']\r\n\t\t\t\tcommit('SET_ACTIVE_CLIENT', client)\r\n\t\t\t\tconst [account] = await accountSigner.getAccounts()\r\n\t\t\t\tcommit('SET_SELECTED_ADDRESS', account.address)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync addAccount({ commit, state, dispatch }, pathIncrement) {\r\n\t\t\tif (!pathIncrement) {\r\n\t\t\t\tpathIncrement = state.activeWallet.pathIncrement + 1\r\n\t\t\t\tcommit('PATH_INCREMENT')\r\n\t\t\t}\r\n\t\t\tconst accountSigner = await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\t\tstate.activeWallet.mnemonic,\r\n\t\t\t\tstringToPath(state.activeWallet.HDpath + pathIncrement),\r\n\t\t\t\tstate.activeWallet.prefix\r\n\t\t\t)\r\n\t\t\tconst [acc] = await accountSigner.getAccounts()\r\n\t\t\tconst account = {\r\n\t\t\t\taddress: acc.address,\r\n\t\t\t\tpathIncrement: parseInt(pathIncrement)\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tstate.activeWallet.accounts.findIndex(\r\n\t\t\t\t\t(acc) => acc.address == account.address\r\n\t\t\t\t) == -1\r\n\t\t\t) {\r\n\t\t\t\tcommit('ADD_ACCOUNT', account)\r\n\t\t\t\tdispatch('storeWallets')\r\n\t\t\t} else {\r\n\t\t\t\tthrow 'Account already in store.'\r\n\t\t\t}\r\n\t\t},\r\n\t\tstoreWallets({ commit, state }) {\r\n\t\t\twindow.localStorage.setItem('wallets', JSON.stringify(state.wallets))\r\n\t\t\tcommit('SET_BACKUP_STATE', false)\r\n\t\t},\r\n\t\tasync signInWithPrivateKey(\r\n\t\t\t{ commit, rootGetters, dispatch },\r\n\t\t\t{ prefix = 'cosmos', privKey }\r\n\t\t) {\r\n\t\t\tconst pKey = keyFromWif(privKey.trim())\r\n\t\t\tconst accountSigner = await DirectSecp256k1Wallet.fromKey(pKey, prefix)\r\n\t\t\tconst [firstAccount] = await accountSigner.getAccounts()\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('common/env/signIn', accountSigner, { root: true })\r\n\t\t\t\tlet client = rootGetters['common/env/signingClient']\r\n\t\t\t\tcommit('SET_ACTIVE_CLIENT', client)\r\n\t\t\t\tcommit('SET_SELECTED_ADDRESS', firstAccount.address)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync restoreWallet(\r\n\t\t\t{ commit, dispatch, rootGetters, state },\r\n\t\t\t{ encrypted, password }\r\n\t\t) {\r\n\t\t\tconst wallet = JSON.parse(\r\n\t\t\t\tCryptoJS.AES.decrypt(encrypted, password).toString(CryptoJS.enc.Utf8)\r\n\t\t\t)\r\n\t\t\tlet newName = wallet.name\r\n\t\t\tlet incr = 1\r\n\t\t\twhile (state.wallets.findIndex((x) => x.name == newName) != -1) {\r\n\t\t\t\tnewName = wallet.name + '_' + incr\r\n\t\t\t\tincr++\r\n\t\t\t}\r\n\t\t\twallet.name = newName\r\n\t\t\tconst accountSigner = await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\t\twallet.mnemonic,\r\n\t\t\t\tstringToPath(wallet.HDpath + '0'),\r\n\t\t\t\twallet.prefix\r\n\t\t\t)\r\n\t\t\tconst [firstAccount] = await accountSigner.getAccounts()\r\n\t\t\tcommit('ADD_WALLET', wallet)\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('common/env/signIn', accountSigner, { root: true })\r\n\r\n\t\t\t\tlet client = rootGetters['common/env/signingClient']\r\n\t\t\t\tcommit('SET_ACTIVE_CLIENT', client)\r\n\t\t\t\tcommit('SET_SELECTED_ADDRESS', firstAccount.address)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\r\n\t\t\tdispatch('storeWallets')\r\n\t\t},\r\n\t\tasync createWalletWithMnemonic(\r\n\t\t\t{ commit, dispatch, rootGetters },\r\n\t\t\t{\r\n\t\t\t\tname = null,\r\n\t\t\t\tmnemonic,\r\n\t\t\t\tHDpath = \"m/44'/118'/0'/0/\",\r\n\t\t\t\tprefix = 'cosmos',\r\n\t\t\t\tpassword = null\r\n\t\t\t}\r\n\t\t) {\r\n\t\t\tconst wallet = {\r\n\t\t\t\tname,\r\n\t\t\t\tmnemonic,\r\n\t\t\t\tHDpath,\r\n\t\t\t\tpassword,\r\n\t\t\t\tprefix,\r\n\t\t\t\tpathIncrement: 0,\r\n\t\t\t\taccounts: []\r\n\t\t\t}\r\n\t\t\tconst accountSigner = await DirectSecp256k1HdWallet.fromMnemonic(\r\n\t\t\t\tmnemonic,\r\n\t\t\t\tstringToPath(HDpath + '0'),\r\n\t\t\t\tprefix\r\n\t\t\t)\r\n\t\t\tconst [firstAccount] = await accountSigner.getAccounts()\r\n\t\t\tconst account = { address: firstAccount.address, pathIncrement: 0 }\r\n\t\t\twallet.accounts.push(account)\r\n\t\t\tcommit('ADD_WALLET', wallet)\r\n\r\n\t\t\ttry {\r\n\t\t\t\tawait dispatch('common/env/signIn', accountSigner, { root: true })\r\n\r\n\t\t\t\tlet client = rootGetters['common/env/signingClient']\r\n\t\t\t\tcommit('SET_ACTIVE_CLIENT', client)\r\n\t\t\t\tcommit('SET_SELECTED_ADDRESS', firstAccount.address)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t}\r\n\t\t\tdispatch('storeWallets')\r\n\t\t},\r\n\t\tasync sendTransaction({ state }, { message, memo, denom }) {\r\n\t\t\tconst fee = {\r\n\t\t\t\tamount: [{ amount: '0', denom }],\r\n\t\t\t\tgas: '200000'\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconsole.log({\r\n\t\t\t\t\tadd: state.selectedAddress,\r\n\t\t\t\t\tmsg: [message],\r\n\t\t\t\t\tfee,\r\n\t\t\t\t\tmemo\r\n\t\t\t\t})\r\n\t\t\t\tconst result = await state.activeClient.signAndBroadcast(\r\n\t\t\t\t\tstate.selectedAddress,\r\n\t\t\t\t\t[message],\r\n\t\t\t\t\tfee,\r\n\t\t\t\t\tmemo\r\n\t\t\t\t)\r\n\t\t\t\tassertIsBroadcastTxSuccess(result)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthrow 'Failed to broadcast transaction.' + e\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"],"file":"wallet.js"}