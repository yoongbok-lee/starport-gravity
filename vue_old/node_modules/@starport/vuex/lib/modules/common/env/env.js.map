{"version":3,"sources":["../../../../src/modules/common/env/env.js"],"names":["namespaced","state","chainId","addrPrefix","sdkVersion","apiNode","rpcNode","wsNode","client","apiConnected","rpcConnected","wsConnected","getTXApi","initialized","getters","signingClient","apiTendermint","apiCosmos","apiWS","mutations","SET_CONFIG","config","CONNECT","INITIALIZE_WS_COMPLETE","SET_WS_STATUS","status","SET_API_STATUS","SET_RPC_STATUS","SET_TX_API","txapi","actions","init","dispatch","starportUrl","_actions","root","SpVuexError","console","log","setTxAPI","payload","commit","setConnectivity","connection","signIn","signer","useSigner","rootGetters","Client","apiAddr","rpcAddr","wsAddr","setMaxListeners","on","reconnectWS","reconnectSigningClient","reconnectClient","switchWS","switchAPI","switchRPC","error"],"mappings":"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","sourcesContent":["import Client from '@starport/client-js'\r\nimport SpVuexError from '../../../errors/SpVuexError'\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\tstate() {\r\n\t\treturn {\r\n\t\t\tchainId: null,\r\n\t\t\taddrPrefix: '',\r\n\t\t\tsdkVersion: 'Stargate',\r\n\t\t\tapiNode: null,\r\n\t\t\trpcNode: null,\r\n\t\t\twsNode: null,\r\n\t\t\tclient: null,\r\n\t\t\tapiConnected: false,\r\n\t\t\trpcConnected: false,\r\n\t\t\twsConnected: false,\r\n\t\t\tgetTXApi: '',\r\n\t\t\tinitialized: false\r\n\t\t}\r\n\t},\r\n\tgetters: {\r\n\t\tclient: (state) => state.client,\r\n\t\tsigningClient: (state) => state.client.signingClient,\r\n\t\taddrPrefix: (state) => state.addrPrefix,\r\n\t\tapiTendermint: (state) => state.rpcNode,\r\n\t\tapiCosmos: (state) => state.apiNode,\r\n\t\tapiWS: (state) => state.wsNode,\r\n\t\tsdkVersion: (state) => state.sdkVersion,\r\n\t\tapiConnected: (state) => state.apiConnected,\r\n\t\trpcConnected: (state) => state.rpcConnected,\r\n\t\twsConnected: (state) => state.wsConnected,\r\n\t},\r\n\tmutations: {\r\n\t\tSET_CONFIG(state, config) {\r\n\t\t\tstate.apiNode = config.apiNode\r\n\t\t\tif (config.rpcNode) {\r\n\t\t\t\tstate.rpcNode = config.rpcNode\r\n\t\t\t}\r\n\t\t\tif (config.wsNode) {\r\n\t\t\t\tstate.wsNode = config.wsNode\r\n\t\t\t}\t\r\n\t\t\tif (config.chainId) {\r\n\t\t\t\tstate.chainId=config.chainId\r\n\t\t\t}\t\r\n\t\t\tif (config.addrPrefix) {\r\n\t\t\t\tstate.addrPrefix=config.addrPrefix\r\n\t\t\t}\t\r\n\t\t\tif (config.sdkVersion) {\r\n\t\t\t\tstate.sdkVersion=config.sdkVersion\r\n\t\t\t}\r\n\t\t\tif (config.getTXApi) {\r\n\t\t\t\tstate.getTXApi=config.getTXApi\r\n\t\t\t}\r\n\t\t},\r\n\t\tCONNECT(state, { client }) {\r\n\t\t\tstate.client = client\r\n\t\t},\r\n\t\tINITIALIZE_WS_COMPLETE(state) {\r\n\t\t\tstate.initialized = true\r\n\t\t},\r\n\t\tSET_WS_STATUS(state, status) {\r\n\t\t\tstate.wsConnected = status\r\n\t\t},\r\n\t\tSET_API_STATUS(state, status) {\r\n\t\t\tstate.apiConnected = status\r\n\t\t},\r\n\t\tSET_RPC_STATUS(state, status) {\r\n\t\t\tstate.rpcConnected = status\r\n\t\t},\r\n\t\tSET_TX_API(state, txapi) {\r\n\t\t\tstate.getTXApi = txapi\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tasync init(\r\n\t\t\t{ dispatch },\r\n\t\t\tconfig = {\r\n\t\t\t\tstarportUrl: 'http://localhost:12345',\r\n\t\t\t\tapiNode: 'http://localhost:1317',\r\n\t\t\t\trpcNode: 'http://localhost:26657',\r\n\t\t\t\twsNode: 'ws://localhost:26657/websocket',\r\n\t\t\t\tchainId: '',\r\n\t\t\t\taddrPrefix: '',\r\n\t\t\t\tsdkVersion: 'Stargate',\r\n\t\t\t\tgetTXApi: 'http://localhost:26657/tx?hash=0x'\r\n\t\t\t}\r\n\t\t) {\r\n\t\t\tif (this._actions['common/starport/init']) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait dispatch('common/starport/init', null, { root: true })\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthrow new SpVuexError(\r\n\t\t\t\t\t\t'Env:Init:Starport',\r\n\t\t\t\t\t\t'Could not initialize common/starport module'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait dispatch('config', config)\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthrow new SpVuexError('Env:Config', 'Could not configure environment')\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconsole.log('Vuex nodule: common.env initialized!')\r\n\t\t},\r\n\t\tsetTxAPI({ commit }, payload) {\r\n\t\t\tcommit('SET_TX_API', payload)\r\n\t\t},\r\n\t\tasync setConnectivity({ commit }, payload) {\r\n\t\t\tswitch (payload.connection) {\r\n\t\t\t\tcase 'ws':\r\n\t\t\t\t\tcommit('SET_WS_STATUS', payload.status)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'api':\r\n\t\t\t\t\tcommit('SET_API_STATUS', payload.status)\r\n\t\t\t\t\tbreak\r\n\t\t\t\tcase 'rpc':\r\n\t\t\t\t\tcommit('SET_RPC_STATUS', payload.status)\r\n\t\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync signIn({ commit, state }, signer) {\r\n\t\t\ttry {\r\n\t\t\t\tawait state.client.useSigner(signer)\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthrow new SpVuexError(\r\n\t\t\t\t\t'Env:Client:Wallet',\r\n\t\t\t\t\t'Could not create signing client with signer: ' + signer\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync config(\r\n\t\t\t{ commit, rootGetters, state, dispatch },\r\n\t\t\tconfig = {\r\n\t\t\t\tapiNode: 'http://localhost:1317',\r\n\t\t\t\trpcNode: 'http://localhost:26657',\r\n\t\t\t\twsNode: 'ws://localhost:26657/websocket',\r\n\t\t\t\tchainId: '',\r\n\t\t\t\taddrPrefix: '',\r\n\t\t\t\tsdkVersion: 'Stargate',\r\n\t\t\t\tgetTXApi: 'http://localhost:26657/tx?hash=0x'\r\n\t\t\t}\r\n\t\t) {\r\n\t\t\ttry {\r\n\t\t\t\tlet client\r\n\t\t\t\tif (!state.client) {\r\n\t\t\t\t\tclient = new Client({\r\n\t\t\t\t\t\tapiAddr: config.apiNode,\r\n\t\t\t\t\t\trpcAddr: config.rpcNode,\r\n\t\t\t\t\t\twsAddr: config.wsNode\r\n\t\t\t\t\t})\r\n\t\t\t\t\tclient.setMaxListeners(0)\r\n\t\t\t\t\tclient.on('ws-status', (status) =>\r\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'ws', status: status })\r\n\t\t\t\t\t)\r\n\t\t\t\t\tclient.on('api-status', (status) =>\r\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'api', status: status })\r\n\t\t\t\t\t)\r\n\t\t\t\t\tclient.on('rpc-status', (status) =>\r\n\t\t\t\t\t\tdispatch('setConnectivity', { connection: 'rpc', status: status })\r\n\t\t\t\t\t)\r\n\t\t\t\t\tcommit('SET_CONFIG', config)\r\n\t\t\t\t\tcommit('CONNECT', { client })\r\n\t\t\t\t\tcommit('INITIALIZE_WS_COMPLETE')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclient = state.client\r\n\t\t\t\t\tlet reconnectWS = false\r\n\t\t\t\t\tlet reconnectSigningClient = false\r\n\t\t\t\t\tlet reconnectClient = false\r\n\t\t\t\t\tif (config.wsNode != state.wsNode) {\r\n\t\t\t\t\t\treconnectWS = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (config.rpcNode != state.rpcNode) {\r\n\t\t\t\t\t\treconnectSigningClient = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (config.apiNode != state.apiNode) {\r\n\t\t\t\t\t\treconnectClient = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcommit('SET_CONFIG', config)\r\n\r\n\t\t\t\t\tif (reconnectWS && config.wsNode) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait client.switchWS(config.wsNode)\r\n\t\t\t\t\t\t} catch (e) {\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthrow new SpVuexError(\r\n\t\t\t\t\t\t\t\t'Env:Client:Websocket',\r\n\t\t\t\t\t\t\t\t'Could not switch to websocket node:' + config.wsNode\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (reconnectClient && config.apiNode) {\r\n\t\t\t\t\t\tclient.switchAPI(config.apiNode)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (reconnectSigningClient && config.rpcNode) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait client.switchRPC(config.rpcNode)\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tthrow new SpVuexError(\r\n\t\t\t\t\t\t\t\t'Env:Client:TendermintRPC',\r\n\t\t\t\t\t\t\t\t'Could not switch to Tendermint RPC node:' + config.rpcNode\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}catch (e) {\r\n\t\t\t\tconsole.error(e)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"],"file":"env.js"}